<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LibXenon: libxenon/drivers/xenos/xe.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LibXenon
   </div>
   <div id="projectbrief">Bare-metal Xbox 360 homebrew library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_49d26f75502055ef21877998ed23baed.html">libxenon</a></li><li class="navelem"><a class="el" href="dir_10e9e9b0aecc40ed0c478cfbe04e0e75.html">drivers</a></li><li class="navelem"><a class="el" href="dir_4c86578f61900704b0952ac9c847388b.html">xenos</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">xe.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="xe_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="xe_8h.html">xe.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="xe__internal_8h.html">xe_internal.h</a>&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="stdio_8h.html">stdio.h</a>&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;malloc.h&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="time_8h.html">time.h</a>&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;cache.h&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="xenon__smc_8h.html">xenon_smc/xenon_smc.h</a>&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="time_8h.html">time/time.h</a>&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;debug.h&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="xe_8c.html#a4b2a431c12071c9a14fef5548bf7bb98">   16</a></span>&#160;<span class="preprocessor">#define WRITEBACK_ZONE_SIZE 0x20000</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="xe_8c.html#ad17875fd52e82f52631d0ba71841a0c6">   18</a></span>&#160;<span class="preprocessor">#define RPTR_WRITEBACK 0x10000</span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="xe_8c.html#a36fd1914180a2ebf6233035b38d8a8cf">   19</a></span>&#160;<span class="preprocessor">#define SCRATCH_WRITEBACK 0x10100</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="xe_8c.html#a1e52e85c77dceba768bdd848b96474d7">   21</a></span>&#160;<span class="preprocessor">#define RINGBUFFER_PRIMARY_SIZE (0x8000/4)</span></div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="xe_8c.html#a14f8d48249f62f80f33f9d27eba250cc">   22</a></span>&#160;<span class="preprocessor">#define RINGBUFFER_SECONDARY_SIZE (0x400000/4)</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="xe_8c.html#ae6db5e60d7221a0e0e66f501cc7c0089">   23</a></span>&#160;<span class="preprocessor">#define RINGBUFFER_SECONDARY_GUARD (0x200000/4)</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="xe_8c.html#a82fa0f773d84507163ed981c0cef7c04">   25</a></span>&#160;<span class="preprocessor">#define RADEON_CP_PACKET0               0x00000000</span></div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="xe_8c.html#a7175970e1bfbb6e738a63c4c6830a469">   26</a></span>&#160;<span class="preprocessor">#define RADEON_ONE_REG_WR                (1 &lt;&lt; 15)</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="xe_8c.html#a1f0bc20caaf2582ec7cec94a236cd78c">   28</a></span>&#160;<span class="preprocessor">#define CP_PACKET0( reg, n )                                            \</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">        (RADEON_CP_PACKET0 | ((n) &lt;&lt; 16) | ((reg) &gt;&gt; 2))</span></div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="xe_8c.html#a35c2ac72e7f57187611aa5d8c290aefe">   30</a></span>&#160;<span class="preprocessor">#define CP_PACKET0_TABLE( reg, n )                                      \</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">        (RADEON_CP_PACKET0 | RADEON_ONE_REG_WR | ((n) &lt;&lt; 16) | ((reg) &gt;&gt; 2))</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="xe_8c.html#a5b7282ee28d70874fd1d3dbb5fecebac">   33</a></span>&#160;<span class="preprocessor">#define VBPOOL_NUM_TRIANGLES 2000</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> Xe_pWriteReg(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> reg, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> <a class="code" href="io_8h.html#a66c6adb17a64370b8e95c4413da0c1b1">val</a>)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(<a class="code" href="xe_8c.html#a1f0bc20caaf2582ec7cec94a236cd78c">CP_PACKET0</a>(reg, 0));</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(<a class="code" href="io_8h.html#a66c6adb17a64370b8e95c4413da0c1b1">val</a>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> SurfaceInfo(<span class="keywordtype">int</span> surface_pitch, <span class="keywordtype">int</span> msaa_samples, <span class="keywordtype">int</span> hi_zpitch)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">return</span> surface_pitch | (msaa_samples &lt;&lt; 16) | (hi_zpitch &lt;&lt; 18);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> xy32(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">return</span> x | (y &lt;&lt; 16);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="xe_8c.html#a742574a5ddabfcac3183fca80aca033e">   52</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a742574a5ddabfcac3183fca80aca033e">Xe_pSyncToDevice</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">volatile</span> <span class="keywordtype">void</span> *<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, <span class="keywordtype">int</span> len)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="drivers_2ppc_2cache_8h.html#aba1f348d227a5d3d25d183b9317c5349">memdcbst</a>((<span class="keywordtype">void</span> *)<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, len);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="xe_8c.html#a77cb553e6482d965692ccd1525d4d21b">   57</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a77cb553e6482d965692ccd1525d4d21b">Xe_pSyncFromDevice</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">volatile</span> <span class="keywordtype">void</span> *<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, <span class="keywordtype">int</span> len)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="drivers_2ppc_2cache_8h.html#a5eae904392d068c9cc77ee74382f8c02">memdcbf</a>((<span class="keywordtype">void</span> *)<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, len);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">   62</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">Xe_pAlloc</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *phys, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>, <span class="keywordtype">int</span> align)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">void</span> *r;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (!align)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        align = <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    r=memalign(align,<a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (!r)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;out of memory\n&quot;</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (phys)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        *phys = (<a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>) r &amp;~ 0x80000000;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> r;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="xe_8c.html#ac4352ef4560e6441950bfb88a91e333b">   78</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ac4352ef4560e6441950bfb88a91e333b">Xe_pFree</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">void</span> * <a class="code" href="iso9660_8c.html#a8ee410c4ef57eac74b9f77e60ddb26d2">ptr</a>)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    free(<a class="code" href="iso9660_8c.html#a8ee410c4ef57eac74b9f77e60ddb26d2">ptr</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="xe_8c.html#a3c7f03846774ca639d8c2f8f0aeee164">   83</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a3c7f03846774ca639d8c2f8f0aeee164">Xe_pInvalidateGpuCache_Primary</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a> +=  0x1FFF;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a> &amp;= ~0x1FFF;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0x00000a31); </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0x01000000);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0x00010a2f); </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(<a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>); <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(<a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0xc0043c00); </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0x00000003); <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0x00000a31); <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0x80000000); <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0x00000008);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="xe_8c.html#ad9d610ef4c83a5196b821c46bcf40f6e">   97</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ad9d610ef4c83a5196b821c46bcf40f6e">Xe_pRBCommitPrimary</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;0x20; ++i)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0x80000000);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="xe_8c.html#a742574a5ddabfcac3183fca80aca033e">Xe_pSyncToDevice</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#aecadc9d0baad3f616fc4e76f75888772">rb_primary</a>, <a class="code" href="xe_8c.html#a1e52e85c77dceba768bdd848b96474d7">RINGBUFFER_PRIMARY_SIZE</a> * 4);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="gmon_8c.html#a91ff8795a5f3fb012d491a2e5e6d42f9">__asm__</a> (<span class="stringliteral">&quot;sync&quot;</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0714, xe-&gt;<a class="code" href="structXenosDevice.html#a0baee4681d3d959770c9f492ff41722c">rb_primary_wptr</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">//  printf(&quot;committed to %08x\n&quot;, xe-&gt;rb_primary_wptr);</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="xe_8c.html#a8b1f85cb8fd1dce42afda8962cbd4594">  108</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a8b1f85cb8fd1dce42afda8962cbd4594">Xe_pRBKickSegment</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>, <span class="keywordtype">int</span> len)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">//  printf(&quot;kick_segment: %x..%x, len=%x\n&quot;, base, base + len * 4, len * 4);</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="xe_8c.html#a742574a5ddabfcac3183fca80aca033e">Xe_pSyncToDevice</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#a5994d6c9b2ee9b6ee0a1aa7cfbbf2d33">rb_secondary</a> + <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> * 4, len * 4);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="xe_8c.html#a3c7f03846774ca639d8c2f8f0aeee164">Xe_pInvalidateGpuCache_Primary</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#ad07469d31526c681344afad36ff1c4c2">rb_secondary_base</a> + <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> * 4, len * 4 + 0x1000);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(0xc0013f00);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(xe-&gt;<a class="code" href="structXenosDevice.html#ad07469d31526c681344afad36ff1c4c2">rb_secondary_base</a> + <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> * 4); <a class="code" href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a>(len);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="xe_8c.html#a4c9b1df3d10671a914873715e2bd62e0">  117</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a4c9b1df3d10671a914873715e2bd62e0">Xe_pRBKick</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">//  printf(&quot;kick: wptr = %x, last_wptr = %x\n&quot;, xe-&gt;rb_secondary_wptr, xe-&gt;last_wptr);</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="xe_8c.html#a8b1f85cb8fd1dce42afda8962cbd4594">Xe_pRBKickSegment</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#a1c4bb7324cfd66677d39e5f8b28ef761">last_wptr</a>, xe-&gt;<a class="code" href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">rb_secondary_wptr</a> - xe-&gt;<a class="code" href="structXenosDevice.html#a1c4bb7324cfd66677d39e5f8b28ef761">last_wptr</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">rb_secondary_wptr</a> += (-xe-&gt;<a class="code" href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">rb_secondary_wptr</a>)&amp;0x1F; <span class="comment">/* 128byte align */</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">rb_secondary_wptr</a> &gt;= <a class="code" href="xe_8c.html#a14f8d48249f62f80f33f9d27eba250cc">RINGBUFFER_SECONDARY_SIZE</a>)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;increase guardband&quot;</span>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">rb_secondary_wptr</a> &gt; (<a class="code" href="xe_8c.html#a14f8d48249f62f80f33f9d27eba250cc">RINGBUFFER_SECONDARY_SIZE</a> - <a class="code" href="xe_8c.html#ae6db5e60d7221a0e0e66f501cc7c0089">RINGBUFFER_SECONDARY_GUARD</a>))</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">rb_secondary_wptr</a> = 0;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a1c4bb7324cfd66677d39e5f8b28ef761">last_wptr</a> = xe-&gt;<a class="code" href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">rb_secondary_wptr</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="xe_8c.html#ad9d610ef4c83a5196b821c46bcf40f6e">Xe_pRBCommitPrimary</a>(xe);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="xe_8c.html#acbe07a3c3fe2056125230c357f85b870">  136</a></span>&#160;<span class="preprocessor">#define SEGMENT_SIZE 1024</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="xe_8c.html#a95dfb868188c74525632fc5bcd74cd70">  138</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a95dfb868188c74525632fc5bcd74cd70">Xe_pRBMayKick</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">//  printf(&quot;may kick: wptr = %x, last_wptr = %x\n&quot;, rb_secondary_wptr, last_wptr);</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordtype">int</span> distance = xe-&gt;<a class="code" href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">rb_secondary_wptr</a> - xe-&gt;<a class="code" href="structXenosDevice.html#a1c4bb7324cfd66677d39e5f8b28ef761">last_wptr</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (distance &lt; 0)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        distance += <a class="code" href="xe_8c.html#a14f8d48249f62f80f33f9d27eba250cc">RINGBUFFER_SECONDARY_SIZE</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (distance &gt;= <a class="code" href="xe_8c.html#acbe07a3c3fe2056125230c357f85b870">SEGMENT_SIZE</a>)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <a class="code" href="xe_8c.html#a4c9b1df3d10671a914873715e2bd62e0">Xe_pRBKick</a>(xe);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="xe_8c.html#ae4ea7b1158727e8800aa063052adc929">  149</a></span>&#160;<a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> <a class="code" href="xe_8c.html#ae4ea7b1158727e8800aa063052adc929">Xe_pRBAlloc</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> rb_primary_phys;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aecadc9d0baad3f616fc4e76f75888772">rb_primary</a> = <a class="code" href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">Xe_pAlloc</a>(xe, &amp;rb_primary_phys, <a class="code" href="xe_8c.html#a1e52e85c77dceba768bdd848b96474d7">RINGBUFFER_PRIMARY_SIZE</a> * 4, 0);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a5994d6c9b2ee9b6ee0a1aa7cfbbf2d33">rb_secondary</a> = <a class="code" href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">Xe_pAlloc</a>(xe, &amp;xe-&gt;<a class="code" href="structXenosDevice.html#ad07469d31526c681344afad36ff1c4c2">rb_secondary_base</a>, <a class="code" href="xe_8c.html#a14f8d48249f62f80f33f9d27eba250cc">RINGBUFFER_SECONDARY_SIZE</a> * 4, 0x100);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> rb_primary_phys;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="xe_8c.html#accf840998e70b69d1074208b83889311">  157</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#accf840998e70b69d1074208b83889311">Xe_pSetSurfaceClip</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> offset_x, <span class="keywordtype">int</span> offset_y, <span class="keywordtype">int</span> sc_left, <span class="keywordtype">int</span> sc_top, <span class="keywordtype">int</span> sc_right, <span class="keywordtype">int</span> sc_bottom)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00022080);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(xy32(offset_x, offset_y));</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(xy32(sc_left, sc_top));</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(xy32(sc_right, sc_bottom));</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="xe_8c.html#a01a6d3f8d76e91f2dab10a9e9a54e84a">  165</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a01a6d3f8d76e91f2dab10a9e9a54e84a">Xe_pSetBin</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> mask_low, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> select_low, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> mask_hi, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> select_hi)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0006000);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(mask_low);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0006200);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(select_low);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0006100);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(mask_hi);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0006300);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(select_hi); </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="xe_8c.html#a6cd660db1b7c9024564a3e954ff4b66c">  177</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a6cd660db1b7c9024564a3e954ff4b66c">Xe_pWaitUntilIdle</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> what)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x000005c8);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(what);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="xe_8c.html#aff5b4cfc880e64493307d7c766bf5bef">  183</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aff5b4cfc880e64493307d7c766bf5bef">Xe_pDrawNonIndexed</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> num_points, <span class="keywordtype">int</span> primtype)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0012201);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000080 | (num_points &lt;&lt; 16) | primtype);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="xe_8c.html#ab8de12323063692bb4e7dd276cf2d1e2">  190</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ab8de12323063692bb4e7dd276cf2d1e2">Xe_pDrawIndexedPrimitive</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> primtype, <span class="keywordtype">int</span> num_points, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> indexbuffer, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> indexbuffer_size, <span class="keywordtype">int</span> indextype)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    assert(num_points &lt;= <a class="code" href="xe_8h.html#ac1a4c17e2579cb9f9ad091787171f669">XE_MAX_INDICES_PER_DRAW</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a> = 0;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0032201);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000 | (<a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a> &lt;&lt; 6) | primtype | (num_points &lt;&lt; 16) | (indextype &lt;&lt; 11));</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(indexbuffer);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>((indexbuffer_size | 0x40000000) &lt;&lt; indextype);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="xe_8c.html#ad24f767c7606de29c590d52d1b6e8f32">  202</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ad24f767c7606de29c590d52d1b6e8f32">Xe_pSetIndexOffset</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> offset)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002102);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(offset);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="xe_8c.html#a055c3def62cceb5f4b9c323260761196">  208</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a055c3def62cceb5f4b9c323260761196">Xe_pResetRingbuffer</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;{</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0704, <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x0704) | 0x80000000);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x017c, 0);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0714, 0);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0704, <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x0704) &amp;~0x80000000);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="xe_8c.html#a20211726f38a35178fdda77be8c80a94">  216</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a20211726f38a35178fdda77be8c80a94">Xe_pSetupRingbuffer</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> buffer_base, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> size_in_l2qw)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="xe_8c.html#a055c3def62cceb5f4b9c323260761196">Xe_pResetRingbuffer</a>(xe);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0704, size_in_l2qw | 0x8020000);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0700, buffer_base);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0718, 0x10);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;}</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="xe_8c.html#aee3ee6fd258605e8405be1f945fa1ffa">  224</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aee3ee6fd258605e8405be1f945fa1ffa">Xe_pLoadUcodes</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">const</span> <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *ucode0, <span class="keyword">const</span> <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *ucode1)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x117c, 0);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="time_8c.html#aad71e0928a114838a47715a20e592543">udelay</a>(100);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 0x120; ++i)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x1180, ucode0[i]);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x117c, 0);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="time_8c.html#aad71e0928a114838a47715a20e592543">udelay</a>(100);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 0x120; ++i)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x1180);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07e0, 0);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 0x900; ++i)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07e8, ucode1[i]);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07e4, 0);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; 0x900; ++i)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x07e8) != ucode1[i])</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            printf(<span class="stringliteral">&quot;%04x: %08x %08x\n&quot;</span>, i, <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x07e8), ucode1[i]);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span> (i != 0x900)</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;ucode1 microcode verify error\n&quot;</span>);    </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;}</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="xe_8c.html#adbe5b9a4f819eae0721fedc266c2efba">  255</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#adbe5b9a4f819eae0721fedc266c2efba">Xe_pWaitReady</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;{</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordtype">int</span> timeout = 1&lt;&lt;24;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x1740) &amp; 0x80000000)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">if</span> (!timeout--)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;timeout in init, likely the GPU was already hung before we started\n&quot;</span>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="xe_8c.html#ad8905bfd34a32bd3b0a91c50422f151b">  265</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ad8905bfd34a32bd3b0a91c50422f151b">Xe_pWaitReady2</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">while</span> (!(<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x1740) &amp; 0x00040000));</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="xe_8c.html#a0bbf592bfe19fa27da6f4835df2ad19a">  270</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a0bbf592bfe19fa27da6f4835df2ad19a">Xe_pInit1</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x01a8, 0);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0e6c, 0xC0F0000);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3400, 0x40401);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="time_8c.html#aad71e0928a114838a47715a20e592543">udelay</a>(1000);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3400, 0x40400);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3300, 0x3A22);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x340c, 0x1003F1F);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x00f4, 0x1E);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="xe_8c.html#aa3a83a5a3acac7ca54b9add812bf6dc5">  282</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aa3a83a5a3acac7ca54b9add812bf6dc5">Xe_pReset</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;{</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="xe_8c.html#ad8905bfd34a32bd3b0a91c50422f151b">Xe_pWaitReady2</a>(xe);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="xe_8c.html#adbe5b9a4f819eae0721fedc266c2efba">Xe_pWaitReady</a>(xe);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor">#if 1</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    printf(<span class="stringliteral">&quot;waiting for reset.\n&quot;</span>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x00f0, 0x8064); <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x00f0);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x00f0, 0);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x00f0, 0x11800); <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x00f0);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x00f0, 0);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="time_8c.html#aad71e0928a114838a47715a20e592543">udelay</a>(1000);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x1740) &amp; 0x80000000);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x00e0) != 0x10)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;value after reset not ok (%08x)\n&quot;</span>, <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0xe0));</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="xe_8c.html#a0bbf592bfe19fa27da6f4835df2ad19a">Xe_pInit1</a>(xe);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="xe_8c.html#ab5ff1ba8611660c2f21c561212ac0307">  303</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ab5ff1ba8611660c2f21c561212ac0307">Xe_pResetCP</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> buffer_base, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> size_in_l2qw)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07d8, 0x1000FFFF);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="time_8c.html#aad71e0928a114838a47715a20e592543">udelay</a>(2000);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x00f0, 1);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    (void)<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x00f0);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="time_8c.html#aad71e0928a114838a47715a20e592543">udelay</a>(1000);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x00f0, 0);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="time_8c.html#aad71e0928a114838a47715a20e592543">udelay</a>(1000);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="xe_8c.html#a20211726f38a35178fdda77be8c80a94">Xe_pSetupRingbuffer</a>(xe, buffer_base, size_in_l2qw);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="code" href="xe_8c.html#adbe5b9a4f819eae0721fedc266c2efba">Xe_pWaitReady</a>(xe);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x07d8) &amp; 0x10000000))</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;something wrong (1)\n&quot;</span>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07d8, 0xFFFF);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="time_8c.html#aad71e0928a114838a47715a20e592543">udelay</a>(1000);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3214, 7);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3294, 1);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3408, 0x800);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="xe_8c.html#adbe5b9a4f819eae0721fedc266c2efba">Xe_pWaitReady</a>(xe);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x0714))</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;[WARN] something wrong (2)\n&quot;</span>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x0710))</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;[WARN] something wrong (3)\n&quot;</span>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07ec, 0x1A);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="xe_8c.html#a9465239cfb91c89c5e1251475496da85">  336</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a9465239cfb91c89c5e1251475496da85">Xe_pSetup</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> buffer_base, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> buffer_size, <span class="keyword">const</span> <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *ucode0, <span class="keyword">const</span> <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *ucode1)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="xe_8c.html#adbe5b9a4f819eae0721fedc266c2efba">Xe_pWaitReady</a>(xe);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07d8, 0x1000FFFF);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="xe_8c.html#a20211726f38a35178fdda77be8c80a94">Xe_pSetupRingbuffer</a>(xe, buffer_base, buffer_size);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="xe_8c.html#aee3ee6fd258605e8405be1f945fa1ffa">Xe_pLoadUcodes</a>(xe, ucode0, ucode1);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="xe_8c.html#adbe5b9a4f819eae0721fedc266c2efba">Xe_pWaitReady</a>(xe);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07d8, 0xFFFF);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07d0, 0xFFFF);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07f0, 0);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0774, 0);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0770, 0);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3214, 7);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3294, 1);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3408, 0x800);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="xe_8c.html#ab5ff1ba8611660c2f21c561212ac0307">Xe_pResetCP</a>(xe, buffer_base, buffer_size);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <a class="code" href="xe_8c.html#adbe5b9a4f819eae0721fedc266c2efba">Xe_pWaitReady</a>(xe);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="keyword">extern</span> <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> <a class="code" href="xe_8c.html#a5eeac9f3b1f365e8d1e905e99f5b82c7">xenos_ucode0</a>[];</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="keyword">extern</span> <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> <a class="code" href="xe_8c.html#a48b5d53f5a1899f83944e81c800387ca">xenos_ucode1</a>[];</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno"><a class="line" href="xe_8c.html#ac8b56e8014904b0b79122b13306a6c95">  361</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ac8b56e8014904b0b79122b13306a6c95">Xe_pMasterInit</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> buffer_base)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x0e6c) &amp; 0xF00) != 0xF00)</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        printf(<span class="stringliteral">&quot;something wrong (3)\n&quot;</span>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="xe_8c.html#a9465239cfb91c89c5e1251475496da85">Xe_pSetup</a>(xe, buffer_base, 0xC, <a class="code" href="xe_8c.html#a5eeac9f3b1f365e8d1e905e99f5b82c7">xenos_ucode0</a>, <a class="code" href="xe_8c.html#a48b5d53f5a1899f83944e81c800387ca">xenos_ucode1</a>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07d4, 0);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x07d4, 1);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x2054, 0x1E);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x2154, 0x1E);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3c10, 0xD);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3c40, 0x17);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3c48, 0);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x3c4c) &amp; 0x80000000);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3c40, 0x1017);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x3c48, 0);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x3c4c) &amp; 0x80000000);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x87e4, 0x17);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="xe_8c.html#a98edd2f2a13288c5817953acb7733a89">  387</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a98edd2f2a13288c5817953acb7733a89">Xe_pEnableWriteback</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> addr, <span class="keywordtype">int</span> blocksize)</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;{</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> v = <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x0704);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    v &amp;= ~0x8003F00;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0704, v);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x070c, addr | 2);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x0704, v | (blocksize &lt;&lt; 8));</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="xe_8c.html#a66e8fe5e5f98fed85cdb6ee575331672">  398</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a66e8fe5e5f98fed85cdb6ee575331672">Xe_pGInit0</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0003b00);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000300);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0192b00);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000018); </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00001003); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00001200); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc4000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00001004); </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00001200); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc2000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00001005); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x10061200); </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x22000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc8000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x02000000); </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc800c000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc2000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc888c03e); </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc2010100); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc8000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x02000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc00a2b00);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000001); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000009); </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x1001c400); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x22000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc80f8000); </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc2000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00012180);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x1000000e); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00022100);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000ffff); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00022204); </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000300);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002312); </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000ffff);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000200d); </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002200); </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002203); </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002208); </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000004);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002104); </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002280); </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00080008);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002302); </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000004);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="xe_8c.html#accf840998e70b69d1074208b83889311">Xe_pSetSurfaceClip</a>(xe, 0, 0, 0, 0, 16, 16);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="xe_8c.html#ae8087e28129fa3648e5b535026a32d48">  443</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ae8087e28129fa3648e5b535026a32d48">Xe_pGInit1</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> arg)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;{</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x000005c8); </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00020000);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00078d00); </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(arg | 1); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(arg | 1); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(arg | 1); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(arg | 1); </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(arg | 1); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(arg | 1); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(arg | 1); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(arg | 1);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000d00); </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(arg);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="xe_8c.html#a8d0103f078290a1ddf5a1b6bebac2f9c">  454</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a8d0103f078290a1ddf5a1b6bebac2f9c">Xe_pGInit2</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;{</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;24; ++i)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0003600);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010081);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="xe_8c.html#ac10e741e1f2dc33f6385c0718da09452">  464</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ac10e741e1f2dc33f6385c0718da09452">Xe_pGInit3</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;{</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x000005c8); </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00020000);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000d04); </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;}</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="xe_8c.html#a44d836e462ef00fdc7a9b4a341dea157">  472</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a44d836e462ef00fdc7a9b4a341dea157">Xe_pGInit4</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe) <span class="comment">/* &quot;init_0&quot; */</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000d02);  <span class="comment">/* ? */</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010800);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00030a02); </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0100000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x07f00000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00100000);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="xe_8c.html#ac10e741e1f2dc33f6385c0718da09452">Xe_pGInit3</a>(xe);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="xe_8c.html#a552745fc9211e54dde9e6571088ff35f">  482</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a552745fc9211e54dde9e6571088ff35f">Xe_pGInit5</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe) <span class="comment">/* &quot;init_1&quot; */</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;{</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000d01); </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x04000000);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0022100); </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000081); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xffffffff); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x80010000);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0022100); </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000082); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xffffffff); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000e42); </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00001f60);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000c85); </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000003);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000057c); </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0badf00d);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000057b); </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="xe_8c.html#aad3dca3db9242e0bedaf6da5ccfa2ab8">  500</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aad3dca3db9242e0bedaf6da5ccfa2ab8">Xe_pGInit6</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="xe_8c.html#accf840998e70b69d1074208b83889311">Xe_pSetSurfaceClip</a>(xe, 0, 0, 0, 0, 1024, 720);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0002857e); </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010017); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x03ff02cf);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0002857e); </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010017); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000004); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x03ff02cf);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="xe_8c.html#a17d00dca943827ec2f90b5353a3038eb">  509</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a17d00dca943827ec2f90b5353a3038eb">Xe_pGInit7</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x000005c8); </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00020000);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000f01); </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000200e);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="xe_8c.html#a86ffb2bba55eba0700b4257eabc8627c">  517</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a86ffb2bba55eba0700b4257eabc8627c">Xe_pGInit8</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;{</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="xe_8c.html#accf840998e70b69d1074208b83889311">Xe_pSetSurfaceClip</a>(xe, 0, 0, 0, 0, 1024, 720);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;}</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="xe_8c.html#a400076d66d8a5bf09f03aab2f65be578">  522</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a400076d66d8a5bf09f03aab2f65be578">Xe_pGInit9</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;{</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000057e);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010019);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="xe_8c.html#a66e8fe5e5f98fed85cdb6ee575331672">Xe_pGInit0</a>(xe);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">for</span> (i = 0x10; i &lt;= 0x70; ++i)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="xe_8c.html#ae8087e28129fa3648e5b535026a32d48">Xe_pGInit1</a>(xe, 0x00000000 | (i &lt;&lt; 12) | ((0x80 - i) &lt;&lt; 4));</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="xe_8c.html#a8d0103f078290a1ddf5a1b6bebac2f9c">Xe_pGInit2</a>(xe);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000057e); </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0001001a);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160; </div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="xe_8c.html#a86ffb2bba55eba0700b4257eabc8627c">Xe_pGInit8</a>(xe);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="xe_8c.html#a4f8a5bf7fe958471884c2bb23a447c33">  540</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a4f8a5bf7fe958471884c2bb23a447c33">Xe_pGInit10</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="xe_8c.html#accf840998e70b69d1074208b83889311">Xe_pSetSurfaceClip</a>(xe, 0, 0, 0, 0, 1024, 720);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; </div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000057e); </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010019);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0003b00); </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000300);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="xe_8c.html#a17d00dca943827ec2f90b5353a3038eb">Xe_pGInit7</a>(xe);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="xe_8c.html#a400076d66d8a5bf09f03aab2f65be578">Xe_pGInit9</a>(xe);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="xe_8c.html#af099fa48b2b0df29cd696f6383adc26c">  554</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#af099fa48b2b0df29cd696f6383adc26c">Xe_pGInit</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;{</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0114800); </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x000003ff); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000080); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000100); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000180); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000200); </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000280); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000300); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000380); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010800); </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000007); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="xe_8c.html#a44d836e462ef00fdc7a9b4a341dea157">Xe_pGInit4</a>(xe);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="xe_8c.html#a552745fc9211e54dde9e6571088ff35f">Xe_pGInit5</a>(xe);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="xe_8c.html#aad3dca3db9242e0bedaf6da5ccfa2ab8">Xe_pGInit6</a>(xe);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="xe_8c.html#a4f8a5bf7fe958471884c2bb23a447c33">Xe_pGInit10</a>(xe);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="xe_8c.html#a22012c3497c5771d98c508e5251eb01b">  570</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a22012c3497c5771d98c508e5251eb01b">Xe_DirtyAluConstant</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>, <span class="keywordtype">int</span> len)</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;{</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    len += <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> &amp; 15;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> &gt;&gt;= 4;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">while</span> (len &gt; 0)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#aad5a8764301ab89aed4b50c0442aa17e">alu_dirty</a> |= 1 &lt;&lt; <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        ++<a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        len -= 16;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#a176a48a82e0ca35651c06ebfcbfbd258">DIRTY_ALU</a>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="xe_8c.html#a2e0812aaa138eeaad90c128f161c2087">  583</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a2e0812aaa138eeaad90c128f161c2087">Xe_DirtyFetch</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>, <span class="keywordtype">int</span> len)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;{</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    len += <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> % 3;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> /= 3;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">while</span> (len &gt; 0)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a757cc5d98f8e700802e2153c3f31154d">fetch_dirty</a> |= 1 &lt;&lt; <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        ++<a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        len -= 3;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#a0756e76f5e48eeaacf00f2fa135d782c">DIRTY_FETCH</a>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="xe_8c.html#af4b8029b20b8b522b88ff24c2e03fb70">  596</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structXenosShader.html">XenosShader</a> *<a class="code" href="xe_8c.html#af4b8029b20b8b522b88ff24c2e03fb70">Xe_LoadShader</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    FILE *f = fopen(filename, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">if</span> (!f)</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;FATAL: shader %s not found!\n&quot;</span>, filename);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    fseek(f, 0, SEEK_END);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a> = ftell(f);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    fseek(f, 0, SEEK_SET);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordtype">void</span> *<a class="code" href="xenos__edid_8h.html#a8aa7771eaf05faa701ecda0be2545250">m</a> = malloc(<a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    fread(<a class="code" href="xenos__edid_8h.html#a8aa7771eaf05faa701ecda0be2545250">m</a>, <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>, 1, f);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    fclose(f);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="xe_8c.html#a96c46d31a7b14aac78bb895dbadaaa2b">Xe_LoadShaderFromMemory</a>(xe, <a class="code" href="xenos__edid_8h.html#a8aa7771eaf05faa701ecda0be2545250">m</a>);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;}</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160; </div>
<div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="xe_8c.html#a96c46d31a7b14aac78bb895dbadaaa2b">  613</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structXenosShader.html">XenosShader</a> *<a class="code" href="xe_8c.html#a96c46d31a7b14aac78bb895dbadaaa2b">Xe_LoadShaderFromMemory</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">void</span> *<a class="code" href="xenos__edid_8h.html#a8aa7771eaf05faa701ecda0be2545250">m</a>)</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;{</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShaderHeader.html">XenosShaderHeader</a> *hdr = <a class="code" href="xenos__edid_8h.html#a8aa7771eaf05faa701ecda0be2545250">m</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">if</span> ((hdr-&gt;<a class="code" href="structXenosShaderHeader.html#a29d93203aa226c78fc4fdfaefd1a4e5d">magic</a> &gt;&gt; 16) != 0x102a)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;shader version: %08x, expected: something with 102a.\n&quot;</span>, hdr-&gt;<a class="code" href="structXenosShaderHeader.html#a29d93203aa226c78fc4fdfaefd1a4e5d">magic</a>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShader.html">XenosShader</a> *s = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structXenosShader.html">XenosShader</a>));</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    memset(s, 0, <span class="keyword">sizeof</span>(*s));</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    s-&gt;<a class="code" href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">shader</a> = <a class="code" href="xenos__edid_8h.html#a8aa7771eaf05faa701ecda0be2545250">m</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShaderData.html">XenosShaderData</a> *<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a> = <a class="code" href="xenos__edid_8h.html#a8aa7771eaf05faa701ecda0be2545250">m</a> + hdr-&gt;<a class="code" href="structXenosShaderHeader.html#abd272ce071d694fa8b9bda261226b46b">off_shader</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    s-&gt;<a class="code" href="structXenosShader.html#ab4e16274fa411ef2bffa58e1db61944f">program_control</a> = <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;program_control;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    s-&gt;<a class="code" href="structXenosShader.html#a23380a5a5b7bbfe261f7b7605b0f3765">context_misc</a> = <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;context_misc;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="xe_8c.html#a3165e311f334ff223f519ba7d4ec72f5">  631</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a3165e311f334ff223f519ba7d4ec72f5">Xe_pUploadShaderConstants</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosShader.html">XenosShader</a> *s)</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;{</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShaderHeader.html">XenosShaderHeader</a> *hdr = s-&gt;<a class="code" href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">shader</a>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">if</span> (hdr-&gt;<a class="code" href="structXenosShaderHeader.html#ab78a235eaefed92a737e8467c0eaec07">off_constants</a>)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            <span class="comment">/* upload shader constants */</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">//      printf(&quot;off_constants: %d\n&quot;, hdr-&gt;off_constants);</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="keywordtype">void</span> *constants = s-&gt;<a class="code" href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">shader</a> + hdr-&gt;<a class="code" href="structXenosShaderHeader.html#ab78a235eaefed92a737e8467c0eaec07">off_constants</a>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        constants += 16;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">//      int size = *(u32*)constants;</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        constants += 4;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">//      printf(&quot;uploading shader constants..\n&quot;);</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="comment">// float constants</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keywordflow">for</span>(;;)</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <a class="code" href="xetypes_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> start = *(<a class="code" href="xetypes_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>*)constants; constants += 2;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <a class="code" href="xetypes_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> count = *(<a class="code" href="xetypes_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>*)constants; constants += 2;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="keywordflow">if</span>(!count) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> <a class="code" href="structXenosShaderHeader.html#ab4aed78e6d69501e4bc2c5a5e4455ca9">offset</a> = *(<a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>*)constants; constants += 4;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            <span class="keywordtype">float</span> *<a class="code" href="xenos__edid_8h.html#a4576e02e0e790576ed6a80c11ef2e4c0">c</a> = s-&gt;<a class="code" href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">shader</a> + hdr-&gt;<a class="code" href="structXenosShaderHeader.html#ab4aed78e6d69501e4bc2c5a5e4455ca9">offset</a> + <a class="code" href="structXenosShaderHeader.html#ab4aed78e6d69501e4bc2c5a5e4455ca9">offset</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            memcpy(xe-&gt;<a class="code" href="structXenosDevice.html#ac1459b3f3953ddd8929cc6cfe07e2e42">alu_constants</a> + start * 4, <a class="code" href="xenos__edid_8h.html#a4576e02e0e790576ed6a80c11ef2e4c0">c</a>, count * 4);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <a class="code" href="xe_8c.html#a22012c3497c5771d98c508e5251eb01b">Xe_DirtyAluConstant</a>(xe, start, count);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">/*          int i;</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">            printf(&quot;float cst count: %d\n&quot;,count);</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">            for(i=0;i&lt;count;++i) printf(&quot;%f &quot;,c[i]);</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">            printf(&quot;\n&quot;);*/</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="comment">// int constants</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">for</span>(;;)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <a class="code" href="xetypes_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> start = *(<a class="code" href="xetypes_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>*)constants; constants += 2;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            <a class="code" href="xetypes_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a> count = *(<a class="code" href="xetypes_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>*)constants; constants += 2;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">if</span>(!count) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            memcpy(&amp;xe-&gt;<a class="code" href="structXenosDevice.html#af4556c4657664905ffa13af7da6050a2">integer_constants</a>[(start-0x2300)/4],constants,count*4);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#a6ab8ef6c4815e9e903985d5580af3bbe">DIRTY_INTEGER</a>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">/*          int i;</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment">            printf(&quot;int cst count: %d\n&quot;,count);</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">            for(i=0;i&lt;count*2;++i) printf(&quot;%04x &quot;,((u16*)constants)[i]);</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">            printf(&quot;\n&quot;);*/</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            constants += count * 4 + 4;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="xe_8c.html#aa2fe77fc0320d348a4610ab629012f18">  689</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="xe_8c.html#aa2fe77fc0320d348a4610ab629012f18">Xe_VBFCalcSize</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structXenosVBFElement.html">XenosVBFElement</a> *<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>)</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;{</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;fmt)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">case</span> 6: <span class="comment">// char4</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">case</span> 37: <span class="comment">// float2</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">return</span> 8;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">case</span> 38: <span class="comment">// float4</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">return</span> 16;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">case</span> 57: <span class="comment">// float3</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">return</span> 12;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;Unknown VBF %d!\n&quot;</span>, <a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;fmt);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="xe_8c.html#a77cd0f7ed86920608e638c8ad3868a39">  706</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="xe_8c.html#a77cd0f7ed86920608e638c8ad3868a39">Xe_pVBFNrComponents</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structXenosVBFElement.html">XenosVBFElement</a> *<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;{</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;fmt)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    {</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">case</span> 6: <span class="comment">// char4</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">case</span> 37: <span class="comment">// float2</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">case</span> 38: <span class="comment">// float4</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">case</span> 57: <span class="comment">// float3</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;Unknown VBF %d!\n&quot;</span>, <a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;fmt);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;}</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno"><a class="line" href="xe_8c.html#a28638d36d7ba8cd7c60cf31903a7029e">  723</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="xe_8c.html#a28638d36d7ba8cd7c60cf31903a7029e">Xe_VBFCalcStride</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structXenosVBFFormat.html">XenosVBFFormat</a> *<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>)</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;{</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordtype">int</span> total_size = 0;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;num; ++i)</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        total_size += <a class="code" href="xe_8c.html#aa2fe77fc0320d348a4610ab629012f18">Xe_VBFCalcSize</a>(xe, &amp;<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;e[i]);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="keywordflow">return</span> total_size;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;}</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="xe_8c.html#ad7fcc6e3a74b405a8fe34afed8cb2a1b">  732</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ad7fcc6e3a74b405a8fe34afed8cb2a1b">Xe_pInvalidateGpuCache</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;{</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000a31);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x01000000);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010a2f);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(<a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(<a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0043c00);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000003); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000a31); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x80000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000008);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;}</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="xe_8c.html#afb354cf68e83d5d4da64455399474ad0">  742</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#afb354cf68e83d5d4da64455399474ad0">Xe_pInvalidateGpuCacheAll</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;{</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000a31);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x03000100);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010a2f);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(<a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(<a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0043c00);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000003); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000a31); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x80000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000008);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="xe_8c.html#a4a5b5c9eab46184d17d17dddb71e6c39">  752</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a4a5b5c9eab46184d17d17dddb71e6c39">Xe_pUnlock</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosLock.html">XenosLock</a> *<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;start)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;unlock without lock&quot;</span>);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;flags &amp; <a class="code" href="xe_8h.html#ac69e7ae14261ab2902f7ad75df42483f">XE_LOCK_WRITE</a>)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <a class="code" href="xe_8c.html#a742574a5ddabfcac3183fca80aca033e">Xe_pSyncToDevice</a>(xe, <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;start, <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;size);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <a class="code" href="xe_8c.html#ad7fcc6e3a74b405a8fe34afed8cb2a1b">Xe_pInvalidateGpuCache</a>(xe, <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;phys, <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;size);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;start = 0;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="xe_8c.html#a71d385a3368ca9f36a4e0f98feecc9e9">  764</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a71d385a3368ca9f36a4e0f98feecc9e9">Xe_pLock</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosLock.html">XenosLock</a> *<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>, <span class="keywordtype">void</span> *addr, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> phys, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>, <span class="keywordtype">int</span> flags)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;{</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>=(<a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>+4095)&amp;~4095;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        <span class="keywordflow">if</span> (!flags)</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;flags=0&quot;</span>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;start)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;locked twice&quot;</span>);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;flags &amp; <a class="code" href="xe_8h.html#ae0189dd19eaec750407ca391ce1e7c25">XE_LOCK_READ</a>)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <span class="comment">/* *you* must make sure that the GPU already flushed this content. (usually, it is, though) */</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <a class="code" href="xe_8c.html#a77cb553e6482d965692ccd1525d4d21b">Xe_pSyncFromDevice</a>(xe, addr, <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;start = addr;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;phys = phys;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;size = <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>-&gt;flags = flags;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">/* shaders are not specific to a vertex input format.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">       the vertex format specified in a vertex shader is just</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">       dummy. Thus we need to patch the vfetch instructions to match</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">       our defined structure. */</span></div>
<div class="line"><a name="l00788"></a><span class="lineno"><a class="line" href="xe_8c.html#a85216864b3447187da28b33a3a679e10">  788</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a85216864b3447187da28b33a3a679e10">Xe_ShaderApplyVFetchPatches</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosShader.html">XenosShader</a> *sh, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structXenosVBFFormat.html">XenosVBFFormat</a> *<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>)</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;{</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    assert(index &lt; <a class="code" href="xe_8h.html#ae3991b4b9a5f89e0e414e50c2b6aa688">XE_SHADER_MAX_INSTANCES</a>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    assert(sh-&gt;<a class="code" href="structXenosShader.html#aacb8e2e5bbba3ccc61d4db33ada6d547">shader_phys</a>[index]);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosLock.html">XenosLock</a> <a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    memset(&amp;<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>));</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="xe_8c.html#a71d385a3368ca9f36a4e0f98feecc9e9">Xe_pLock</a>(xe, &amp;<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>, sh-&gt;<a class="code" href="structXenosShader.html#aeda3efe356452775fa30af6ea34a3208">shader_instance</a>[index], sh-&gt;<a class="code" href="structXenosShader.html#aacb8e2e5bbba3ccc61d4db33ada6d547">shader_phys</a>[index], sh-&gt;<a class="code" href="structXenosShader.html#aca8a4b952e0d0d4be317c361bdeabe53">shader_phys_size</a>, <a class="code" href="xe_8h.html#ae0189dd19eaec750407ca391ce1e7c25">XE_LOCK_READ</a>|<a class="code" href="xe_8h.html#ac69e7ae14261ab2902f7ad75df42483f">XE_LOCK_WRITE</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordtype">int</span> stride = <a class="code" href="xe_8c.html#a28638d36d7ba8cd7c60cf31903a7029e">Xe_VBFCalcStride</a>(xe, <a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (stride &amp; 3)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;your vertex buffer format is not DWORD aligned.\n&quot;</span>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    stride /= 4;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShaderHeader.html">XenosShaderHeader</a> *hdr = sh-&gt;<a class="code" href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">shader</a>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShaderData.html">XenosShaderData</a> *<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a> = sh-&gt;<a class="code" href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">shader</a> + hdr-&gt;<a class="code" href="structXenosShaderHeader.html#abd272ce071d694fa8b9bda261226b46b">off_shader</a>;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordtype">void</span> *shader_code = sh-&gt;<a class="code" href="structXenosShader.html#aeda3efe356452775fa30af6ea34a3208">shader_instance</a>[index];</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *<a class="code" href="xenos__edid_8h.html#a4576e02e0e790576ed6a80c11ef2e4c0">c</a> = &amp;<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;unk1[2];</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordtype">int</span> skip = *<a class="code" href="xenos__edid_8h.html#a4576e02e0e790576ed6a80c11ef2e4c0">c</a>++;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordtype">int</span> num_vfetch = *<a class="code" href="xenos__edid_8h.html#a4576e02e0e790576ed6a80c11ef2e4c0">c</a>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    ++<a class="code" href="xenos__edid_8h.html#a4576e02e0e790576ed6a80c11ef2e4c0">c</a>;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <a class="code" href="xenos__edid_8h.html#a4576e02e0e790576ed6a80c11ef2e4c0">c</a> += skip * 2;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordtype">int</span> fetched_to = 0;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;num_vfetch; ++i)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    {</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> vfetch_patch = *<a class="code" href="xenos__edid_8h.html#a4576e02e0e790576ed6a80c11ef2e4c0">c</a>++;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a> = (vfetch_patch &gt;&gt; 12) &amp; 0xF;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordtype">int</span> stream = (vfetch_patch &gt;&gt; 16) &amp; 0xF;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordtype">int</span> insn = vfetch_patch &amp; 0xFFF;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">//      printf(&quot;raw: %08x\n&quot;, vfetch_patch);</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">//      printf(&quot;type=%d, stream=%d, insn=%d\n&quot;, type, stream, insn);</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *vfetch = shader_code + insn * 12;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">//      printf(&quot;  old vfetch: %08x %08x %08x\n&quot;, vfetch[0], vfetch[1], vfetch[2]);</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">//      printf(&quot;    old swizzle: %08x\n&quot;, vfetch[1] &amp; 0xFFF);</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordtype">int</span> Offset = (vfetch[2] &amp; 0x7fffff00) &gt;&gt; 8;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        <span class="keywordtype">int</span> DataFormat = (vfetch[1] &amp; 0x003f0000) &gt;&gt; 16;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        <span class="keywordtype">int</span> Stride= (vfetch[2] &amp; 0x000000ff);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <span class="keywordtype">int</span> Signed= (vfetch[1] &amp; 0x00001000) &gt;&gt; 12;</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="keywordtype">int</span> NumFormat = (vfetch[1] &amp; 0x00002000) &gt;&gt; 13;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        <span class="keywordtype">int</span> PrefetchCount= (vfetch[0] &amp; 0x38000000) &gt;&gt; 27;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">//      printf(&quot;  old Offset=%08x, DataFormat=%d, Stride=%d, Signed=%d, NumFormat=%d, PrefetchCount=%d\n&quot;,</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">//          Offset,DataFormat, Stride, Signed, NumFormat, PrefetchCount);</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            <span class="comment">/* let&#39;s find the element which applies for this. */</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordtype">int</span> offset = 0;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a>=0; <a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a> &lt; <a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;num; ++<a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a>)</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;e[<a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a>].usage == <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>) &amp;&amp; (<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;e[<a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a>].index == stream))</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            offset += <a class="code" href="xe_8c.html#aa2fe77fc0320d348a4610ab629012f18">Xe_VBFCalcSize</a>(xe, &amp;<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;e[<a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a>]);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        </div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        offset /= 4;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a> == <a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;num)</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;shader requires input type %d_%d, which wasn&#39;t found in vertex format.\n&quot;</span>, <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>, stream);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160; </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        Offset = offset;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        DataFormat = <a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;e[<a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a>].fmt;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        </div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        Signed = 0;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        Stride = stride;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        NumFormat = 0; <span class="comment">// fraction</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        <span class="keywordflow">if</span> (DataFormat != 6)</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            NumFormat = 1;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="keywordtype">int</span> to_fetch = 0;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="comment">/* if we need fetching... */</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordflow">if</span> (fetched_to &lt;= offset + ((<a class="code" href="xe_8c.html#aa2fe77fc0320d348a4610ab629012f18">Xe_VBFCalcSize</a>(xe, &amp;<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;e[<a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a>])+3)/4))</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            to_fetch = stride - fetched_to;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">if</span> (to_fetch &gt; 8)</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            to_fetch = 8;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        to_fetch = 1; <span class="comment">/* FIXME: prefetching doesn&#39;t always work. */</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordtype">int</span> is_mini = 0;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        </div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="keywordflow">if</span> (to_fetch == 0)</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            PrefetchCount = 0;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            is_mini = 1;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            PrefetchCount = to_fetch - 1;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        fetched_to += to_fetch;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160; </div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            <span class="comment">/* patch vfetch instruction */</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        vfetch[0] &amp;= ~(0x00000000|0x00000000|0x00000000|0x00000000|0x00000000|0x38000000|0x00000000);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        vfetch[1] &amp;= ~(0x00000000|0x003f0000|0x00000000|0x00001000|0x00002000|0x00000000|0x40000000);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        vfetch[2] &amp;= ~(0x7fffff00|0x00000000|0x000000ff|0x00000000|0x00000000|0x00000000|0x00000000);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        vfetch[2] |= Offset &lt;&lt; 8;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        vfetch[1] |= DataFormat &lt;&lt; 16;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        vfetch[2] |= Stride;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        vfetch[1] |= Signed &lt;&lt; 12;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        vfetch[1] |= NumFormat &lt;&lt; 13;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        vfetch[0] |= PrefetchCount &lt;&lt; 27;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        vfetch[1] |= is_mini &lt;&lt; 30;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">//      printf(&quot;specified swizzle: %08x\n&quot;, fmt-&gt;e[j].swizzle);</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="keywordtype">int</span> comp;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordtype">int</span> nrcomp = <a class="code" href="xe_8c.html#a77cd0f7ed86920608e638c8ad3868a39">Xe_pVBFNrComponents</a>(xe, &amp;<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>-&gt;e[<a class="code" href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a>]);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">for</span> (comp = 0; comp &lt; 4; comp++)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="keywordtype">int</span> shift = comp * 3;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="keywordtype">int</span> sw = (vfetch[1] &gt;&gt; shift) &amp; 7; <span class="comment">/* see original swizzle, xyzw01_? */</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">//          printf(&quot;comp%d sw=%c &quot;, comp, &quot;xyzw01?_&quot;[sw]);</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            <span class="keywordflow">if</span> ((sw &lt; 4) &amp;&amp; (sw &gt;= nrcomp)) <span class="comment">/* refer to an unavailable position? */</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                <span class="keywordflow">if</span> (sw == 3) <span class="comment">// a/w</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                    sw = 5; <span class="comment">// 1</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                    sw = 4; <span class="comment">// 0</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">//          printf(&quot; -&gt; %c\n&quot;, &quot;xyzw01?_&quot;[sw]);</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            vfetch[1] &amp;= ~(7&lt;&lt;shift);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            vfetch[1] |= sw &lt;&lt; shift;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        Offset = (vfetch[2] &amp; 0x7fffff00) &gt;&gt; 8;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        DataFormat = (vfetch[1] &amp; 0x003f0000) &gt;&gt; 16;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        Stride= (vfetch[2] &amp; 0x000000ff);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        Signed= (vfetch[1] &amp; 0x00001000) &gt;&gt; 12;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        NumFormat = (vfetch[1] &amp; 0x00002000) &gt;&gt; 13;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        PrefetchCount= (vfetch[0] &amp; 0x38000000) &gt;&gt; 27;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">//      printf(&quot;  new Offset=%08x, DataFormat=%d, Stride=%d, Signed=%d, NumFormat=%d, PrefetchCount=%d\n&quot;,</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">//          Offset,DataFormat, Stride, Signed, NumFormat, PrefetchCount);</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">//      printf(&quot;  new vfetch: %08x %08x %08x\n&quot;, vfetch[0], vfetch[1], vfetch[2]);</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <a class="code" href="xe_8c.html#a4a5b5c9eab46184d17d17dddb71e6c39">Xe_pUnlock</a>(xe, &amp;<a class="code" href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno"><a class="line" href="xe_8c.html#a114e658e3bf343ccd5b060e965da0bf5">  935</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a114e658e3bf343ccd5b060e965da0bf5">Xe_InstantiateShader</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosShader.html">XenosShader</a> *sh, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index)</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;{</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    assert(index &lt; <a class="code" href="xe_8h.html#ae3991b4b9a5f89e0e414e50c2b6aa688">XE_SHADER_MAX_INSTANCES</a>);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShaderHeader.html">XenosShaderHeader</a> *hdr = sh-&gt;<a class="code" href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">shader</a>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShaderData.html">XenosShaderData</a> *<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a> = sh-&gt;<a class="code" href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">shader</a> + hdr-&gt;<a class="code" href="structXenosShaderHeader.html#abd272ce071d694fa8b9bda261226b46b">off_shader</a>;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordtype">void</span> *shader_code = sh-&gt;<a class="code" href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">shader</a> + <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;sh_off + hdr-&gt;<a class="code" href="structXenosShaderHeader.html#ab4aed78e6d69501e4bc2c5a5e4455ca9">offset</a>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    sh-&gt;<a class="code" href="structXenosShader.html#aca8a4b952e0d0d4be317c361bdeabe53">shader_phys_size</a> = <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;sh_size;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordtype">void</span> *p = <a class="code" href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">Xe_pAlloc</a>(xe, &amp;sh-&gt;<a class="code" href="structXenosShader.html#aacb8e2e5bbba3ccc61d4db33ada6d547">shader_phys</a>[index], <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;sh_size, 0x100);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    memcpy(p, shader_code, <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;sh_size);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <a class="code" href="xe_8c.html#a742574a5ddabfcac3183fca80aca033e">Xe_pSyncToDevice</a>(xe, p, <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;sh_size);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    sh-&gt;<a class="code" href="structXenosShader.html#aeda3efe356452775fa30af6ea34a3208">shader_instance</a>[index] = p;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;}</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="xe_8c.html#a25e90fac6513c5a69c89970435bd0c10">  949</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="xe_8c.html#a25e90fac6513c5a69c89970435bd0c10">Xe_GetShaderLength</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">void</span> *sh)</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;{</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShaderHeader.html">XenosShaderHeader</a> *hdr = sh;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShaderData.html">XenosShaderData</a> *<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a> = sh + hdr-&gt;<a class="code" href="structXenosShaderHeader.html#abd272ce071d694fa8b9bda261226b46b">off_shader</a>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;sh_off + hdr-&gt;<a class="code" href="structXenosShaderHeader.html#ab4aed78e6d69501e4bc2c5a5e4455ca9">offset</a> + <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>-&gt;sh_size;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="xe_8c.html#a6eac65a79d69b5f1f8e96758e3ea675c">  956</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a6eac65a79d69b5f1f8e96758e3ea675c">Xe_Init</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;{</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    memset(xe, 0, <span class="keyword">sizeof</span>(*xe));</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#ae2a30a6faf5b900fd0c8183d9f4d82f1">regs</a> = (<span class="keywordtype">void</span>*)0xec800000;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>.<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a> = <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x6110);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>.<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a> = <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x6120) * 4;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>.<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a> = <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x6134);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>.<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a> = <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x6138);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>.<a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> = 4;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>.<a class="code" href="structXenosSurface.html#a3b5e547ef855148cbb538393fde1662d">base</a> = (<span class="keywordtype">void</span>*)(<span class="keywordtype">long</span>)xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>.<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>.<a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a> = <a class="code" href="xe_8h.html#ac0f3ac7d52d3b8935d8238ebf16169fe">XE_FMT_BGRA</a> | <a class="code" href="xe_8h.html#a992aa365add17c33128a2b3493ba691e">XE_FMT_8888</a>;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>.<a class="code" href="structXenosSurface.html#acb5f82394a9dc4ee657d41976ea0c7af">tiled</a> = 1;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    </div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>=xe-&gt;<a class="code" href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">default_fb</a>;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    printf(<span class="stringliteral">&quot;[xe] Framebuffer %d x %d @ %08x\n&quot;</span>, xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a>, xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a>, xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a>);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> rb_phys=0;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#abd125a5a1eff58961b407230ee6193c3">rb</a> = <a class="code" href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">Xe_pAlloc</a>(xe,&amp;rb_phys,<a class="code" href="xe_8c.html#a4b2a431c12071c9a14fef5548bf7bb98">WRITEBACK_ZONE_SIZE</a>,<a class="code" href="xe_8c.html#a4b2a431c12071c9a14fef5548bf7bb98">WRITEBACK_ZONE_SIZE</a>);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> rb_primary_phys = <a class="code" href="xe_8c.html#ae4ea7b1158727e8800aa063052adc929">Xe_pRBAlloc</a>(xe);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <a class="code" href="xe_8c.html#ac8b56e8014904b0b79122b13306a6c95">Xe_pMasterInit</a>(xe, rb_primary_phys);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="xe_8c.html#a98edd2f2a13288c5817953acb7733a89">Xe_pEnableWriteback</a>(xe, rb_phys + <a class="code" href="xe_8c.html#ad17875fd52e82f52631d0ba71841a0c6">RPTR_WRITEBACK</a>, 6);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <a class="code" href="xe_8c.html#a77cb553e6482d965692ccd1525d4d21b">Xe_pSyncFromDevice</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#abd125a5a1eff58961b407230ee6193c3">rb</a> + <a class="code" href="xe_8c.html#ad17875fd52e82f52631d0ba71841a0c6">RPTR_WRITEBACK</a>, 4);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    Xe_pWriteReg(xe, 0x0774, rb_phys + <a class="code" href="xe_8c.html#a36fd1914180a2ebf6233035b38d8a8cf">SCRATCH_WRITEBACK</a>);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    Xe_pWriteReg(xe, 0x0770, 0x20033);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    Xe_pWriteReg(xe, 0x15e0, 0x1234567);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <a class="code" href="xe_8c.html#af099fa48b2b0df29cd696f6383adc26c">Xe_pGInit</a>(xe);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160; </div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <a class="code" href="xe_8c.html#ad7fcc6e3a74b405a8fe34afed8cb2a1b">Xe_pInvalidateGpuCache</a>(xe, 0, 0x20000000); <span class="comment">// whole DRAM</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a9a1afdd93b7a766c716611200878faad">clear_color</a>=0; <span class="comment">// color clear: black</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a7e88eef00d1f7be1deaf80cde271c6ec">clear_stencil_z</a>=0xffffff00; <span class="comment">// zbuffer / stencil clear: z to -1, stencil to 0</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;}</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="xe_8c.html#a0587123c9b0e84cd78f358fb235f9939">  998</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a0587123c9b0e84cd78f358fb235f9939">Xe_SetRenderTarget</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosSurface.html">XenosSurface</a> *rt)</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;{</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a86ff1df7c98b1e4a922f614ed208c42e">rt</a> = rt;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a3066b1d9128b28a7e465d598b2324ebb">vp_xres</a> = rt-&gt;<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#af56142a4d802ca6b099bbef493ea8ffe">vp_yres</a> = rt-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a>;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a6f6dd7151b4f1fee6ab2260d8a19abc0">msaa_samples</a> = 0;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a5e4a4683edafd1a2e563e90898da2dcc">edram_colorformat</a> = 0;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordtype">int</span> tile_size_x = (xe-&gt;<a class="code" href="structXenosDevice.html#a6f6dd7151b4f1fee6ab2260d8a19abc0">msaa_samples</a> &lt; 2) ? 80 : 40, tile_size_y = (xe-&gt;<a class="code" href="structXenosDevice.html#a6f6dd7151b4f1fee6ab2260d8a19abc0">msaa_samples</a> &gt; 0) ? 8 : 16;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="keywordflow">if</span> ((xe-&gt;<a class="code" href="structXenosDevice.html#a5e4a4683edafd1a2e563e90898da2dcc">edram_colorformat</a> == 15) || (xe-&gt;<a class="code" href="structXenosDevice.html#a5e4a4683edafd1a2e563e90898da2dcc">edram_colorformat</a> == 7) || (xe-&gt;<a class="code" href="structXenosDevice.html#a5e4a4683edafd1a2e563e90898da2dcc">edram_colorformat</a> == 5))</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        tile_size_x /= 2;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordtype">int</span> tiles_per_line = (xe-&gt;<a class="code" href="structXenosDevice.html#a3066b1d9128b28a7e465d598b2324ebb">vp_xres</a> + tile_size_x - 1) / tile_size_x;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    tiles_per_line += 1;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    tiles_per_line &amp;= ~1;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; </div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordtype">int</span> tiles_height = (xe-&gt;<a class="code" href="structXenosDevice.html#af56142a4d802ca6b099bbef493ea8ffe">vp_yres</a> + tile_size_y - 1) / tile_size_y;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160; </div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">// what about 64bit targets?</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aee4162582029c941d65d30f56c184067">edram_pitch</a> = tiles_per_line * tile_size_x;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a393b98e6ce6cec9c372a735e20c66803">edram_hizpitch</a> = tiles_per_line * tile_size_x;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aa57a365c485326337cbec4d7d3a592f8">edram_color0base</a> = 0;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aec29f8de31dfb2b4cc5512f1ddd48f31">edram_depthbase</a> = tiles_per_line * tiles_height;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aa57a365c485326337cbec4d7d3a592f8">edram_color0base</a> = tiles_per_line * tiles_height;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aec29f8de31dfb2b4cc5512f1ddd48f31">edram_depthbase</a> = 0;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;}</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"><a class="line" href="xe_8c.html#ac5b96afc1f116e00e2dd171c680227db"> 1030</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ac5b96afc1f116e00e2dd171c680227db">Xe_pSetEDRAMLayout</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;{</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00022000);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(SurfaceInfo(xe-&gt;<a class="code" href="structXenosDevice.html#aee4162582029c941d65d30f56c184067">edram_pitch</a>, xe-&gt;<a class="code" href="structXenosDevice.html#a6f6dd7151b4f1fee6ab2260d8a19abc0">msaa_samples</a>, xe-&gt;<a class="code" href="structXenosDevice.html#a393b98e6ce6cec9c372a735e20c66803">edram_hizpitch</a>));  <span class="comment">// SurfaceInfo</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>((xe-&gt;<a class="code" href="structXenosDevice.html#a5e4a4683edafd1a2e563e90898da2dcc">edram_colorformat</a> &lt;&lt; 16) | xe-&gt;<a class="code" href="structXenosDevice.html#aa57a365c485326337cbec4d7d3a592f8">edram_color0base</a>);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(xe-&gt;<a class="code" href="structXenosDevice.html#aec29f8de31dfb2b4cc5512f1ddd48f31">edram_depthbase</a> | (0&lt;&lt;16) ); <span class="comment">// depth info, float Z</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;}</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="xe_8c.html#a895f9d60fe8a036d32c27e28b83ce880"> 1038</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a895f9d60fe8a036d32c27e28b83ce880">Xe_pSetClearValues</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;{</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    Xe_pWriteReg(xe, 0x8c74, xe-&gt;<a class="code" href="structXenosDevice.html#a7e88eef00d1f7be1deaf80cde271c6ec">clear_stencil_z</a>);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> clearv[2];</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">switch</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a5e4a4683edafd1a2e563e90898da2dcc">edram_colorformat</a>)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            clearv[0] = clearv[1] = xe-&gt;<a class="code" href="structXenosDevice.html#a9a1afdd93b7a766c716611200878faad">clear_color</a>;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            clearv[0]  = (xe-&gt;<a class="code" href="structXenosDevice.html#a9a1afdd93b7a766c716611200878faad">clear_color</a> &amp; 0xFF000000);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            clearv[0] |= (xe-&gt;<a class="code" href="structXenosDevice.html#a9a1afdd93b7a766c716611200878faad">clear_color</a> &amp; 0x00FF0000)&gt;&gt;8;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            clearv[0] &gt;&gt;= 1;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            clearv[0] |= (clearv[0] &gt;&gt; 8) &amp; 0x00FF00FF;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            clearv[1]  = (xe-&gt;<a class="code" href="structXenosDevice.html#a9a1afdd93b7a766c716611200878faad">clear_color</a> &amp; 0x0000FF00)&lt;&lt;16;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            clearv[1] |= (xe-&gt;<a class="code" href="structXenosDevice.html#a9a1afdd93b7a766c716611200878faad">clear_color</a> &amp; 0x000000FF)&lt;&lt;8;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            clearv[1] &gt;&gt;= 1;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            clearv[1] |= (clearv[1] &gt;&gt; 8) &amp; 0x00FF00FF;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;            clearv[0] = clearv[1] = 0;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    Xe_pWriteReg(xe, 0x8c78, clearv[0]);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    Xe_pWriteReg(xe, 0x8c7c, clearv[1]);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;}</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160; </div>
<div class="line"><a name="l01069"></a><span class="lineno"><a class="line" href="xe_8c.html#a4950cf006b785f9b19d7976875663541"> 1069</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a4950cf006b785f9b19d7976875663541">Xe_ResolveInto</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosSurface.html">XenosSurface</a> *surface, <span class="keywordtype">int</span> source, <span class="keywordtype">int</span> clear)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;{</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <a class="code" href="xe_8c.html#accf840998e70b69d1074208b83889311">Xe_pSetSurfaceClip</a>(xe, 0, 0, 0, 0, surface-&gt;<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a>, surface-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    <a class="code" href="xe_8c.html#aabd34addb97de558517e38363fdfce90">Xe_VBBegin</a>(xe, 2);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordtype">float</span> vbdata[] = </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        -.5, -.5, <span class="comment">/* never ever dare to mess with these values. NO, you can not resolve arbitrary areas or even shapes. */</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;         surface-&gt;<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a> - .5,</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;         0,</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;         surface-&gt;<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a> - .5,</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;         surface-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a> - .5</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    };</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <a class="code" href="xe_8c.html#a15446a9973475165c9e465940335a56c">Xe_VBPut</a>(xe, vbdata, <span class="keyword">sizeof</span>(vbdata) / 4);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *vb = <a class="code" href="xe_8c.html#ade9873ab3879dfff9ca1ab3e46d822c0">Xe_VBEnd</a>(xe);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="xe_8c.html#aca6e40586c4b55626cbb76347df05783">Xe_VBPoolAdd</a>(xe, vb);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <a class="code" href="xe_8c.html#ac5b96afc1f116e00e2dd171c680227db">Xe_pSetEDRAMLayout</a>(xe);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002104); </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000000f); <span class="comment">// colormask </span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0005210f); </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x44000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x44000000);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc3b40000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x43b40000); </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x3f800000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordtype">int</span> msaavals[] = {0,4,6};</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordtype">int</span> pitch;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">switch</span> (surface-&gt;<a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a> &amp; <a class="code" href="xe_8h.html#a128d9048f0d6f40b1251f1fe71c3b929">XE_FMT_MASK</a>)</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a992aa365add17c33128a2b3493ba691e">XE_FMT_8888</a>: pitch = surface-&gt;<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a> / 4; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a370fd347c43240443cedd0f5d6e45eb1">XE_FMT_16161616</a>: pitch = surface-&gt;<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a> / 8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <span class="keywordflow">default</span>: <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;unsupported resolve target format&quot;</span>);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00032318); </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00100000 | (msaavals[xe-&gt;<a class="code" href="structXenosDevice.html#a6f6dd7151b4f1fee6ab2260d8a19abc0">msaa_samples</a>]&lt;&lt;4) | (clear &lt;&lt; 8) | source ); <span class="comment">// 300 = color,depth clear enabled!</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(surface-&gt;<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a>);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(xy32(pitch, surface-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a>));</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x01000000 | ((surface-&gt;<a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a>&amp;<a class="code" href="xe_8h.html#a128d9048f0d6f40b1251f1fe71c3b929">XE_FMT_MASK</a>)&lt;&lt;7) | ((surface-&gt;<a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a>&amp;~<a class="code" href="xe_8h.html#a128d9048f0d6f40b1251f1fe71c3b929">XE_FMT_MASK</a>)&gt;&gt;6));</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="xe_8c.html#a895f9d60fe8a036d32c27e28b83ce880">Xe_pSetClearValues</a>(xe);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// edram copy</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002208); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000006);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002208); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>((clear&amp;<a class="code" href="xe_8h.html#adb312ab6207b86bd6be9c0e3256e7f62">XE_CLEAR_COLOR</a> || surface-&gt;<a class="code" href="structXenosSurface.html#a3b5e547ef855148cbb538393fde1662d">base</a>)?6:5);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002200); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x8777);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x000005c8); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00020000);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="comment">// invalidate state</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    </div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0003b00); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000100);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="comment">// load a shader</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0102b00); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000000f); </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x10011002); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00001200); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc4000000);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x1003c200); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x22000000); </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00080000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00253b48); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000002); </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc80f803e); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc2000000); </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00012180); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010002); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="comment">// prepare draw edram FB to real dram FB</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002203); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00022100); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000ffff); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00022204); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000300); </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002312); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000ffff); </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000200d); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160; </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00054800); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>((vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ac73b4731364a4485911a3f87a0bc77cb">phys_base</a>) | 3); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x1000001a); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160; </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00025000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <span class="comment">// draw command</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    </div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0003600); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00030088); </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0004600); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000006); </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002007); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="comment">// flush dram FB</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <a class="code" href="xe_8c.html#afb354cf68e83d5d4da64455399474ad0">Xe_pInvalidateGpuCacheAll</a>(xe, surface-&gt;<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a>, surface-&gt;<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a> * surface-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160; </div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <span class="comment">// cleanup</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000057e); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00010001); </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002318); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000231b); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160; </div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> = ~0;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160; </div>
<div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="xe_8c.html#ad9f4b1a9f21649d889a4d2b9f9ac34b5"> 1167</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ad9f4b1a9f21649d889a4d2b9f9ac34b5">Xe_Clear</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> flags)</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;{</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosSurface.html">XenosSurface</a> surface = *xe-&gt;<a class="code" href="structXenosDevice.html#a86ff1df7c98b1e4a922f614ed208c42e">rt</a>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    surface.<a class="code" href="structXenosSurface.html#a3b5e547ef855148cbb538393fde1662d">base</a> = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <a class="code" href="xe_8c.html#a4950cf006b785f9b19d7976875663541">Xe_ResolveInto</a>(xe, &amp;surface, 0, flags);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;}</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; </div>
<div class="line"><a name="l01175"></a><span class="lineno"><a class="line" href="xe_8c.html#a94b6184c03f4bcd1c5c17ce0cf390241"> 1175</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a94b6184c03f4bcd1c5c17ce0cf390241">Xe_Resolve</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;{</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <a class="code" href="xe_8c.html#a4950cf006b785f9b19d7976875663541">Xe_ResolveInto</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#a86ff1df7c98b1e4a922f614ed208c42e">rt</a>, <a class="code" href="xe_8h.html#acfa6028938694aefb0d5c77df91a94f4">XE_SOURCE_COLOR</a>, <a class="code" href="xe_8h.html#adb312ab6207b86bd6be9c0e3256e7f62">XE_CLEAR_COLOR</a>|<a class="code" href="xe_8h.html#aacdce862b19cb86461f29608f6606922">XE_CLEAR_DS</a>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;}</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"><a class="line" href="xe_8c.html#a16f3cb537291c62e5db0afb244dd7dd5"> 1181</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a16f3cb537291c62e5db0afb244dd7dd5">VERTEX_FETCH</a>(<a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *dst, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>, <span class="keywordtype">int</span> len)</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;{</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    dst[0] = <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> | 3;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    dst[1] = 0x10000002 | (len &lt;&lt; 2);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;}</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"><a class="line" href="xe_8c.html#aa5cf9eae53adaaaee51c0f6d8e5a38b0"> 1187</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aa5cf9eae53adaaaee51c0f6d8e5a38b0">TEXTURE_FETCH</a>(<a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *dst, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>, <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a325272ddd9a962f05deb905101d25cbd">width</a>, <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a6ad4f820ce4e75cda0686fcaad5168be">height</a>, <span class="keywordtype">int</span> pitch, <span class="keywordtype">int</span> <a class="code" href="structXenosSurface.html#acb5f82394a9dc4ee657d41976ea0c7af">tiled</a>, <span class="keywordtype">int</span> <a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a>, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> base_mip, <span class="keywordtype">int</span> anisop, <span class="keywordtype">int</span> filter, <span class="keywordtype">int</span> uaddr, <span class="keywordtype">int</span> vaddr)</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;{</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a> &amp; <a class="code" href="xe_8h.html#a128d9048f0d6f40b1251f1fe71c3b929">XE_FMT_MASK</a>)</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a229816b0b83b5505e5721e85a7d14f6d">XE_FMT_8</a>: pitch /= 32; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a42d344faebddae541f11ffcb1e38ccb3">XE_FMT_5551</a>: pitch /= 64; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a6e287cf56bd3a98c2ee69dd391050ac8">XE_FMT_565</a>: pitch /= 64; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a370fd347c43240443cedd0f5d6e45eb1">XE_FMT_16161616</a>: pitch /= 256; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a992aa365add17c33128a2b3493ba691e">XE_FMT_8888</a>: pitch /= 128; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">default</span>: <a class="code" href="newlib_8c.html#a8dec7c95227ff149687066cf04029191">abort</a>();</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    dst[0] = 0x00000002 | (pitch &lt;&lt; 22) | (<a class="code" href="structXenosSurface.html#acb5f82394a9dc4ee657d41976ea0c7af">tiled</a> &lt;&lt; 31) | (uaddr &lt;&lt; 10) | (vaddr &lt;&lt; 13);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    dst[1] = 0x00000000 | <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> | <a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a>; <span class="comment">/* BaseAddress */</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    dst[2] = (<a class="code" href="console_8c.html#a6ad4f820ce4e75cda0686fcaad5168be">height</a> &lt;&lt; 13) | <a class="code" href="console_8c.html#a325272ddd9a962f05deb905101d25cbd">width</a>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    dst[3] = 0x00a00c14 | (anisop &lt;&lt; 25) | (filter &lt;&lt;19);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">if</span> (base_mip)</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        dst[4] = 0x00000e03;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        dst[4] = 0;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    dst[5] = 0x00000a00 | base_mip; <span class="comment">/* MipAddress */</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;}</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"><a class="line" href="xe_8c.html#a3ef6904a9e9ae1cc33da92a2a357296b"> 1210</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a3ef6904a9e9ae1cc33da92a2a357296b">Xe_pLoadShader</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a>, <span class="keywordtype">int</span> <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;{</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xc0012700);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(<a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> | <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>); </div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(<a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;}</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"><a class="line" href="xe_8c.html#a8db8f14bcdd2ea0e71577ffb8186d961"> 1217</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a8db8f14bcdd2ea0e71577ffb8186d961">Xe_pAlign</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;{</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">while</span> ((xe-&gt;<a class="code" href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">rb_secondary_wptr</a>&amp;3) != 3)</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x80000000);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;}</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160; </div>
<div class="line"><a name="l01223"></a><span class="lineno"><a class="line" href="xe_8c.html#aa82ca43323b5fde116c1dc4b283ee8be"> 1223</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aa82ca43323b5fde116c1dc4b283ee8be">Xe_pBlockUntilIdle</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;{</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    Xe_pWriteReg(xe, 0x1720, 0x20000);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;}</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160; </div>
<div class="line"><a name="l01228"></a><span class="lineno"><a class="line" href="xe_8c.html#a67d1849f7a5021247f369c6b5b98e336"> 1228</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a67d1849f7a5021247f369c6b5b98e336">Xe_pStep</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> x)</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;{</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    Xe_pWriteReg(xe, 0x15e0, x);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;}</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"><a class="line" href="xe_8c.html#ad0cb86d65adda5dc0c70e97b4af4e893"> 1233</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ad0cb86d65adda5dc0c70e97b4af4e893">Xe_pStuff</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;{</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00072380);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;}</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"><a class="line" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424"> 1241</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>, ...)</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;{</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    va_list arg;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    printf(<span class="stringliteral">&quot;[xe] Fatal error: &quot;</span>);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    va_start(arg, <a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    vprintf(<a class="code" href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a>, arg);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    va_end(arg);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <a class="code" href="newlib_8c.html#a8dec7c95227ff149687066cf04029191">abort</a>();</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;}</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"><a class="line" href="xe_8c.html#a122845af05f064aa50ffdfeb035e5bf4"> 1252</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structXenosSurface.html">XenosSurface</a> *<a class="code" href="xe_8c.html#a122845af05f064aa50ffdfeb035e5bf4">Xe_GetFramebufferSurface</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;{</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">return</span> &amp;xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;}</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"><a class="line" href="xe_8c.html#a8d52fe66bc9d947946b86fff3fbb11dd"> 1257</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a8d52fe66bc9d947946b86fff3fbb11dd">Xe_SetFrameBufferSurface</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosSurface.html">XenosSurface</a> *fb)</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;{</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">if</span>(!fb-&gt;<a class="code" href="structXenosSurface.html#acb5f82394a9dc4ee657d41976ea0c7af">tiled</a>)</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;new framebuffer surface should be tiled.\n&quot;</span>);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160; </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    <span class="keywordflow">if</span>(fb-&gt;<a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a>!=4)</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;new framebuffer surface format should be 32bit (BGRA8888).\n&quot;</span>);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x6110,fb-&gt;<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a>);</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x6120,fb-&gt;<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a>/4);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x6134,fb-&gt;<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a>);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <a class="code" href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a>(0x6138,fb-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a>);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160; </div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a> = <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x6110);</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a> = <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x6120) * 4;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a> = <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x6134);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a> = <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x6138);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> = 4;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a3b5e547ef855148cbb538393fde1662d">base</a> = (<span class="keywordtype">void</span>*)(<span class="keywordtype">long</span>)xe-&gt;<a class="code" href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">tex_fb</a>.<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;}</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"><a class="line" href="xe_8c.html#a73be768034313cdd7e58c66d736b871c"> 1278</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a73be768034313cdd7e58c66d736b871c">Xe_Execute</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;{</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <a class="code" href="xe_8c.html#aa82ca43323b5fde116c1dc4b283ee8be">Xe_pBlockUntilIdle</a>(xe);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <a class="code" href="xe_8c.html#a4c9b1df3d10671a914873715e2bd62e0">Xe_pRBKick</a>(xe);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;}</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160; </div>
<div class="line"><a name="l01284"></a><span class="lineno"><a class="line" href="xe_8c.html#a05d0d57133110d41fa31bdbd868e0331"> 1284</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a05d0d57133110d41fa31bdbd868e0331">Xe_pDebugSync</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;{</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    Xe_pWriteReg(xe, 0x15e0, xe-&gt;<a class="code" href="structXenosDevice.html#a6dd85fc8e7f1dcd5b4ca03556f1ef133">frameidx</a>);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <a class="code" href="xe_8c.html#a73be768034313cdd7e58c66d736b871c">Xe_Execute</a>(xe);</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">//  printf(&quot;waiting for frameidx %08x\n&quot;, xe-&gt;frameidx);</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="keywordtype">int</span> timeout = 1&lt;&lt;24;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        <a class="code" href="xe_8c.html#a77cb553e6482d965692ccd1525d4d21b">Xe_pSyncFromDevice</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#abd125a5a1eff58961b407230ee6193c3">rb</a> + <a class="code" href="xe_8c.html#a36fd1914180a2ebf6233035b38d8a8cf">SCRATCH_WRITEBACK</a>, 4);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">if</span> (!timeout--)</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;damn, the GPU seems to hang. There is no (known) way to recover, you have to reboot.\n&quot;</span>);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">//      udelay(1000);</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    } <span class="keywordflow">while</span> (*(<span class="keyword">volatile</span> <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>*)(xe-&gt;<a class="code" href="structXenosDevice.html#abd125a5a1eff58961b407230ee6193c3">rb</a> + <a class="code" href="xe_8c.html#a36fd1914180a2ebf6233035b38d8a8cf">SCRATCH_WRITEBACK</a>) != xe-&gt;<a class="code" href="structXenosDevice.html#a6dd85fc8e7f1dcd5b4ca03556f1ef133">frameidx</a>) ;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a6dd85fc8e7f1dcd5b4ca03556f1ef133">frameidx</a>++;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">//  printf(&quot;done\n&quot;);</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;}</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"><a class="line" href="xe_8c.html#a519992de13aacc8dd53a40913bc8df7e"> 1302</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a519992de13aacc8dd53a40913bc8df7e">Xe_Sync</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;{</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <a class="code" href="xe_8c.html#a05d0d57133110d41fa31bdbd868e0331">Xe_pDebugSync</a>(xe);</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="xe_8c.html#a594ae9fbfb215379c49f00bc62f2aee0">Xe_VBReclaim</a>(xe);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;}</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160; </div>
<div class="line"><a name="l01308"></a><span class="lineno"><a class="line" href="xe_8c.html#a108a49e58076e1f2ca624a3f38ebb5c9"> 1308</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="xe_8c.html#a108a49e58076e1f2ca624a3f38ebb5c9">stat_alu_uploaded</a> = 0;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"><a class="line" href="xe_8c.html#aa280a76752e9901062b5dc566785d5d9"> 1310</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aa280a76752e9901062b5dc566785d5d9">Xe_pUploadALUConstants</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;{</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">while</span> (xe-&gt;<a class="code" href="structXenosDevice.html#aad5a8764301ab89aed4b50c0442aa17e">alu_dirty</a>)</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    {</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <span class="keywordtype">int</span> start, end;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <span class="keywordflow">for</span> (start = 0; start &lt; 32; ++start)</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#aad5a8764301ab89aed4b50c0442aa17e">alu_dirty</a> &amp; (1&lt;&lt;start))</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <span class="keywordflow">for</span> (end = start; end &lt; 32; ++end)</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <span class="keywordflow">if</span> (!(xe-&gt;<a class="code" href="structXenosDevice.html#aad5a8764301ab89aed4b50c0442aa17e">alu_dirty</a> &amp; (1&lt;&lt;end)))</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                xe-&gt;<a class="code" href="structXenosDevice.html#aad5a8764301ab89aed4b50c0442aa17e">alu_dirty</a> &amp;= ~(1&lt;&lt;end);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> = start * 16;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="keywordtype">int</span> num = (end - start) * 16 * 4;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        <a class="code" href="xe_8c.html#a108a49e58076e1f2ca624a3f38ebb5c9">stat_alu_uploaded</a> += num;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <a class="code" href="xe_8c.html#a8db8f14bcdd2ea0e71577ffb8186d961">Xe_pAlign</a>(xe);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00004000 | (<a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> * 4) | ((num-1) &lt;&lt; 16));</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <a class="code" href="xe__internal_8h.html#ad57533e48263a07d92df85d2d6cd65ff">rput</a>(xe-&gt;<a class="code" href="structXenosDevice.html#ac1459b3f3953ddd8929cc6cfe07e2e42">alu_constants</a> + <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> * 4, num);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="xe_8c.html#a6c1ce46f457511267c72c80fa84def2e"> 1334</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a6c1ce46f457511267c72c80fa84def2e">Xe_pUploadFetchConstants</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;{</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="keywordflow">while</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a757cc5d98f8e700802e2153c3f31154d">fetch_dirty</a>)</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="keywordtype">int</span> start, end;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">for</span> (start = 0; start &lt; 32; ++start)</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a757cc5d98f8e700802e2153c3f31154d">fetch_dirty</a> &amp; (1&lt;&lt;start))</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        <span class="keywordflow">for</span> (end = start; end &lt; 32; ++end)</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <span class="keywordflow">if</span> (!(xe-&gt;<a class="code" href="structXenosDevice.html#a757cc5d98f8e700802e2153c3f31154d">fetch_dirty</a> &amp; (1&lt;&lt;end)))</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;                xe-&gt;<a class="code" href="structXenosDevice.html#a757cc5d98f8e700802e2153c3f31154d">fetch_dirty</a> &amp;= ~(1&lt;&lt;end);</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        </div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> = start * 3;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="keywordtype">int</span> num = (end - start) * 3 * 2;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        </div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <a class="code" href="xe_8c.html#a108a49e58076e1f2ca624a3f38ebb5c9">stat_alu_uploaded</a> += num;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        <a class="code" href="xe_8c.html#a8db8f14bcdd2ea0e71577ffb8186d961">Xe_pAlign</a>(xe);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00004800 | (<a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> * 2) | ((num-1) &lt;&lt; 16));</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;            <a class="code" href="xe__internal_8h.html#ad57533e48263a07d92df85d2d6cd65ff">rput</a>(xe-&gt;<a class="code" href="structXenosDevice.html#a8d166186442ccbcf516cea44a2b91848">fetch_constants</a> + <a class="code" href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a> * 2, num);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    }</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;}</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"><a class="line" href="xe_8c.html#a142acf3f9cc5ff6eacf3fb574da48012"> 1358</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a142acf3f9cc5ff6eacf3fb574da48012">Xe_pUploadClipPlane</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;{</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="xe_8c.html#a8db8f14bcdd2ea0e71577ffb8186d961">Xe_pAlign</a>(xe);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00172388);</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;        <a class="code" href="xe__internal_8h.html#ad57533e48263a07d92df85d2d6cd65ff">rput</a>(xe-&gt;<a class="code" href="structXenosDevice.html#ab5f475f915e3c41381ed128924021f68">clipplane</a>, 6*4);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;}</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160; </div>
<div class="line"><a name="l01365"></a><span class="lineno"><a class="line" href="xe_8c.html#a50a647c36422025018e6e9fbb5f7b009"> 1365</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a50a647c36422025018e6e9fbb5f7b009">Xe_pUploadIntegerConstants</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;{</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <a class="code" href="xe_8c.html#a8db8f14bcdd2ea0e71577ffb8186d961">Xe_pAlign</a>(xe);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00274900);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        <a class="code" href="xe__internal_8h.html#ad57533e48263a07d92df85d2d6cd65ff">rput</a>(xe-&gt;<a class="code" href="structXenosDevice.html#af4556c4657664905ffa13af7da6050a2">integer_constants</a>, 10*4);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;}</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160; </div>
<div class="line"><a name="l01372"></a><span class="lineno"><a class="line" href="xe_8c.html#a75159a51125ebf919844115d3a9b0081"> 1372</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a75159a51125ebf919844115d3a9b0081">Xe_pUploadControl</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;{</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00082200);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <a class="code" href="xe__internal_8h.html#ad57533e48263a07d92df85d2d6cd65ff">rput</a>(xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>, 9);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160; </div>
<div class="line"><a name="l01378"></a><span class="lineno"><a class="line" href="xe_8c.html#a098cab3cb268904ae446e71b866652f7"> 1378</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a098cab3cb268904ae446e71b866652f7">Xe_pUploadShader</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;{</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> program_control = 0, context_misc = 0;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">ps</a>)</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <a class="code" href="xe_8c.html#a3ef6904a9e9ae1cc33da92a2a357296b">Xe_pLoadShader</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">ps</a>-&gt;<a class="code" href="structXenosShader.html#aacb8e2e5bbba3ccc61d4db33ada6d547">shader_phys</a>[0], <a class="code" href="xe_8h.html#a146d755504f561d6f94ea18c1449952c">SHADER_TYPE_PIXEL</a>, xe-&gt;<a class="code" href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">ps</a>-&gt;<a class="code" href="structXenosShader.html#aca8a4b952e0d0d4be317c361bdeabe53">shader_phys_size</a>);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <a class="code" href="xe_8c.html#a3165e311f334ff223f519ba7d4ec72f5">Xe_pUploadShaderConstants</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">ps</a>);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        program_control |= xe-&gt;<a class="code" href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">ps</a>-&gt;<a class="code" href="structXenosShader.html#ab4e16274fa411ef2bffa58e1db61944f">program_control</a>;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        context_misc |= xe-&gt;<a class="code" href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">ps</a>-&gt;<a class="code" href="structXenosShader.html#a23380a5a5b7bbfe261f7b7605b0f3765">context_misc</a>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">vs</a>)</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <a class="code" href="xe_8c.html#a3ef6904a9e9ae1cc33da92a2a357296b">Xe_pLoadShader</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">vs</a>-&gt;<a class="code" href="structXenosShader.html#aacb8e2e5bbba3ccc61d4db33ada6d547">shader_phys</a>[xe-&gt;<a class="code" href="structXenosDevice.html#aea4833ca5f1ea70ddd8c6bcbecbadabd">vs_index</a>], <a class="code" href="xe_8h.html#ac5164ddf2f695d8cabca11081c5d4ef3">SHADER_TYPE_VERTEX</a>, xe-&gt;<a class="code" href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">vs</a>-&gt;<a class="code" href="structXenosShader.html#aca8a4b952e0d0d4be317c361bdeabe53">shader_phys_size</a>);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <a class="code" href="xe_8c.html#a3165e311f334ff223f519ba7d4ec72f5">Xe_pUploadShaderConstants</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">vs</a>);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        program_control |= xe-&gt;<a class="code" href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">vs</a>-&gt;<a class="code" href="structXenosShader.html#ab4e16274fa411ef2bffa58e1db61944f">program_control</a>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        context_misc |= xe-&gt;<a class="code" href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">vs</a>-&gt;<a class="code" href="structXenosShader.html#a23380a5a5b7bbfe261f7b7605b0f3765">context_misc</a>;</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00022180);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(program_control);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(context_misc);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0xFFFFFFFF);  <span class="comment">/* interpolation mode */</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;}</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"><a class="line" href="xe_8c.html#aec08ede806de0cb7d2ed46b445051dff"> 1403</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aec08ede806de0cb7d2ed46b445051dff">Xe_pInitControl</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;{</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] = 0x00700736|0x80;  <span class="comment">// DEPTH</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] = 0x00010001;  <span class="comment">// BLEND</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[2] = 0x87000007;  <span class="comment">// COLOR</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[3] = 0x00000000;  <span class="comment">// HI</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[4] = 0x00080000;  <span class="comment">// CLIP</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[5] = 0x00010006;  <span class="comment">// MODE</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a6f6dd7151b4f1fee6ab2260d8a19abc0">msaa_samples</a>)</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[5] |= 1&lt;&lt;15;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[6] = 0x0000043f;  <span class="comment">// VTE</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[7] = 0;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[8] = 0x00000004; <span class="comment">// EDRAM</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[0] = 0xFFFF00;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[1] = 0xFFFF00;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>|<a class="code" href="xe_8h.html#acfe64bf68c94b1e8d897ea43b65a871e">DIRTY_MISC</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;}</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160; </div>
<div class="line"><a name="l01423"></a><span class="lineno"><a class="line" href="xe_8c.html#ad244ccb3a4f8d2b28c6893e4065edae7"> 1423</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ad244ccb3a4f8d2b28c6893e4065edae7">Xe_SetZFunc</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> z_func)</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;{</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] = (xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0]&amp;~0x70) | (z_func&lt;&lt;4);</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;}</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"><a class="line" href="xe_8c.html#a1aae8f579a667b4fbaea06b42da6f895"> 1429</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a1aae8f579a667b4fbaea06b42da6f895">Xe_SetZWrite</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> zw)</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;{</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] = (xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0]&amp;~4) | (zw&lt;&lt;2);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;}</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"><a class="line" href="xe_8c.html#a1c9096481305fe28d7f589519f110c26"> 1435</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a1c9096481305fe28d7f589519f110c26">Xe_SetZEnable</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> ze)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;{</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] = (xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0]&amp;~2) | (ze&lt;&lt;1);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;}</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"><a class="line" href="xe_8c.html#a92c9072d582faa43a9109afa8527e66e"> 1441</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a92c9072d582faa43a9109afa8527e66e">Xe_SetFillMode</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> front, <span class="keywordtype">int</span> back)</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;{</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[5] &amp;= ~(0x3f&lt;&lt;5);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[5] |= front &lt;&lt; 5;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[5] |= back &lt;&lt; 8;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[5] |= 1&lt;&lt;3;</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;}</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160; </div>
<div class="line"><a name="l01451"></a><span class="lineno"><a class="line" href="xe_8c.html#a52bd0c4d8814797499f7596427c1132e"> 1451</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a52bd0c4d8814797499f7596427c1132e">Xe_SetBlendControl</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> col_src, <span class="keywordtype">int</span> col_op, <span class="keywordtype">int</span> col_dst, <span class="keywordtype">int</span> alpha_src, <span class="keywordtype">int</span> alpha_op, <span class="keywordtype">int</span> alpha_dst)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;{</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] = col_src | (col_op &lt;&lt; 5) | (col_dst &lt;&lt; 8) | (alpha_src &lt;&lt; 16) | (alpha_op &lt;&lt; 21) | (alpha_dst &lt;&lt; 24);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="xe_8c.html#a4a224fba44b5788efdbf03e4dde8195f"> 1457</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a4a224fba44b5788efdbf03e4dde8195f">Xe_SetSrcBlend</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blend)</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;{</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    assert(blend &lt; 32);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] &amp;= ~0x1F;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] |= blend;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;}</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"><a class="line" href="xe_8c.html#a59d4ef563e2353b966cd8d515d65ab18"> 1465</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a59d4ef563e2353b966cd8d515d65ab18">Xe_SetDestBlend</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blend)</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;{</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    assert(blend &lt; 32);</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] &amp;= ~(0x1F&lt;&lt;8);</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] |= blend&lt;&lt;8;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160; </div>
<div class="line"><a name="l01473"></a><span class="lineno"><a class="line" href="xe_8c.html#a78f2a59da96932334c95d2471301c5c2"> 1473</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a78f2a59da96932334c95d2471301c5c2">Xe_SetBlendOp</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blendop)</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;{</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    assert(blendop &lt; 8);</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] &amp;= ~(0x7&lt;&lt;5);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] |= blendop&lt;&lt;5;</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"><a class="line" href="xe_8c.html#a5c034c5939d677966f5dc6e7e08e38a6"> 1481</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a5c034c5939d677966f5dc6e7e08e38a6">Xe_SetSrcBlendAlpha</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blend)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;{</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    assert(blend &lt; 32);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] &amp;= ~(0x1F&lt;&lt;16);</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] |= blend &lt;&lt; 16;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;}</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160; </div>
<div class="line"><a name="l01489"></a><span class="lineno"><a class="line" href="xe_8c.html#a932f987b4cb76e097e357dba2b19fa5b"> 1489</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a932f987b4cb76e097e357dba2b19fa5b">Xe_SetDestBlendAlpha</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blend)</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;{</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    assert(blend &lt; 32);</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] &amp;= ~(0x1F&lt;&lt;24);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] |= blend&lt;&lt; 24;</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;}</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160; </div>
<div class="line"><a name="l01497"></a><span class="lineno"><a class="line" href="xe_8c.html#abb5d6b4be4f8cbb438434074d1f7f844"> 1497</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#abb5d6b4be4f8cbb438434074d1f7f844">Xe_SetBlendOpAlpha</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> blendop)</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;{</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    assert(blendop &lt; 8);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] &amp;= ~(0x7&lt;&lt;21);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[1] |= blendop&lt;&lt;21;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;}</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"><a class="line" href="xe_8c.html#a4478c173b672164ba5d4c4dd11e6063c"> 1505</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a4478c173b672164ba5d4c4dd11e6063c">Xe_SetCullMode</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cullmode)</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;{</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    assert(cullmode &lt; 8);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[5] &amp;= ~7;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[5] |= cullmode;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"><a class="line" href="xe_8c.html#a6b0e50297876dd636264ca6e476d1c63"> 1513</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a6b0e50297876dd636264ca6e476d1c63">Xe_SetAlphaTestEnable</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> enable)</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;{</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[2] &amp;= ~8;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[2] |= (!!enable) &lt;&lt; 3;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;}</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160; </div>
<div class="line"><a name="l01520"></a><span class="lineno"><a class="line" href="xe_8c.html#ac91d6557388670f22522375a87526e49"> 1520</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ac91d6557388670f22522375a87526e49">Xe_SetAlphaFunc</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> func)</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;{</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    assert(func &lt;= 7);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[2] &amp;= ~7;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[2] |= func;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;}</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"><a class="line" href="xe_8c.html#ad94675ce8c6b875790238fedaf2d2875"> 1528</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ad94675ce8c6b875790238fedaf2d2875">Xe_SetAlphaRef</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">float</span> alpharef)</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;{</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aecbd58972ae27cd53d4995342e44b2be">alpharef</a> = alpharef;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#acfe64bf68c94b1e8d897ea43b65a871e">DIRTY_MISC</a>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;}</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"><a class="line" href="xe_8c.html#a0782ee0c890d8b6bfc9457be52dbf8b7"> 1534</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a0782ee0c890d8b6bfc9457be52dbf8b7">Xe_SetStencilFunc</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> bfff, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> func)</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;{</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    assert(func &lt;= 7);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 1)</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] &amp;= ~(7&lt;&lt;8);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] |= func &lt;&lt; 8;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 2)</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;    {</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] &amp;= ~(7&lt;&lt;20);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] |= func &lt;&lt; 20;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;}</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"><a class="line" href="xe_8c.html#a32d84e1a71f3bb0de21a887505e081c5"> 1550</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a32d84e1a71f3bb0de21a887505e081c5">Xe_SetStencilEnable</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> enable)</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;{</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    assert(enable &lt;= 1);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] &amp;= ~1;</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] |= enable;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"><a class="line" href="xe_8c.html#a5024891c4b79fdb11b8f5c31586e0ec2"> 1558</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a5024891c4b79fdb11b8f5c31586e0ec2">Xe_SetStencilOp</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> bfff, <span class="keywordtype">int</span> fail, <span class="keywordtype">int</span> zfail, <span class="keywordtype">int</span> pass)</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;{</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    assert(fail &lt;= 7);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    assert(zfail &lt;= 7);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    assert(pass &lt;= 7);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    </div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 1)</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        <span class="keywordflow">if</span> (fail &gt;= 0)</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] &amp;= ~(7&lt;&lt;11);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] |= fail &lt;&lt; 11;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        }</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keywordflow">if</span> (pass &gt;= 0)</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] &amp;= ~(7&lt;&lt;14);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] |= pass &lt;&lt; 14;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        }</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        <span class="keywordflow">if</span> (zfail &gt;= 0)</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] &amp;= ~(7&lt;&lt;17);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] |= zfail &lt;&lt; 17;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 2)</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        <span class="keywordflow">if</span> (fail &gt;= 0)</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        {</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] &amp;= ~(7&lt;&lt;23);</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] |= fail &lt;&lt; 23;</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        }</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;        <span class="keywordflow">if</span> (pass &gt;= 0)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] &amp;= ~(7&lt;&lt;26);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] |= pass &lt;&lt; 26;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        }</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="keywordflow">if</span> (zfail &gt;= 0)</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        {</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] &amp;= ~(7&lt;&lt;29);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[0] |= zfail &lt;&lt; 29;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        }</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    }</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;}</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"><a class="line" href="xe_8c.html#ab60c7b9bde57d4269d21b0c62da7db55"> 1603</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ab60c7b9bde57d4269d21b0c62da7db55">Xe_SetStencilRef</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> bfff, <span class="keywordtype">int</span> ref)</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;{</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 1)</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[1] = (xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[1] &amp; ~0xFF) | ref;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 2)</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[0] = (xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[0] &amp; ~0xFF) | ref;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#acfe64bf68c94b1e8d897ea43b65a871e">DIRTY_MISC</a>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;}</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160; </div>
<div class="line"><a name="l01613"></a><span class="lineno"><a class="line" href="xe_8c.html#a8136758e557f3fc9fdc2778d83c4df97"> 1613</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a8136758e557f3fc9fdc2778d83c4df97">Xe_SetStencilMask</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> bfff, <span class="keywordtype">int</span> mask)</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;{</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 1)</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[1] = (xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[1] &amp; ~0xFF00) | (mask&lt;&lt;8);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160; </div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 2)</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[0] = (xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[0] &amp; ~0xFF00) | (mask&lt;&lt;8);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#acfe64bf68c94b1e8d897ea43b65a871e">DIRTY_MISC</a>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;}</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160; </div>
<div class="line"><a name="l01623"></a><span class="lineno"><a class="line" href="xe_8c.html#ad951be34d648311192336a58098151e4"> 1623</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ad951be34d648311192336a58098151e4">Xe_SetStencilWriteMask</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> bfff, <span class="keywordtype">int</span> writemask)</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;{</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 1)</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[1] = (xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[1] &amp; ~0xFF0000) | (writemask&lt;&lt;16);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160; </div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">if</span> (bfff &amp; 2)</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[0] = (xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[0] &amp; ~0xFF0000) | (writemask&lt;&lt;16);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#acfe64bf68c94b1e8d897ea43b65a871e">DIRTY_MISC</a>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;}</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"><a class="line" href="xe_8c.html#a7310991c4088dbf94f0c28ea1c442806"> 1633</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a7310991c4088dbf94f0c28ea1c442806">Xe_SetScissor</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> enable, <span class="keywordtype">int</span> left, <span class="keywordtype">int</span> top, <span class="keywordtype">int</span> right, <span class="keywordtype">int</span> bottom)</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;{</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a24a87ad9516ea76cc7493026f3d23523">scissor_enable</a>=enable;</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">if</span> (left&gt;=0) xe-&gt;<a class="code" href="structXenosDevice.html#a3dc271bd238b8316b0d3ea2607b502cc">scissor_ltrb</a>[0]=left;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">if</span> (top&gt;=0) xe-&gt;<a class="code" href="structXenosDevice.html#a3dc271bd238b8316b0d3ea2607b502cc">scissor_ltrb</a>[1]=top;</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">if</span> (right&gt;=0) xe-&gt;<a class="code" href="structXenosDevice.html#a3dc271bd238b8316b0d3ea2607b502cc">scissor_ltrb</a>[2]=right;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">if</span> (bottom&gt;=0) xe-&gt;<a class="code" href="structXenosDevice.html#a3dc271bd238b8316b0d3ea2607b502cc">scissor_ltrb</a>[3]=bottom;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#acfe64bf68c94b1e8d897ea43b65a871e">DIRTY_MISC</a>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;}</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"><a class="line" href="xe_8c.html#a96028be66849d315cd0e0ec6a7e49538"> 1643</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a96028be66849d315cd0e0ec6a7e49538">Xe_SetClipPlaneEnables</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> enables)</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;{</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[4] &amp;= ~0x3f;</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">controlpacket</a>[4] |= enables&amp;0x3f;</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;}</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160; </div>
<div class="line"><a name="l01650"></a><span class="lineno"><a class="line" href="xe_8c.html#a78a772dfedeae087b634e32cfce72a42"> 1650</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a78a772dfedeae087b634e32cfce72a42">Xe_SetClipPlane</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> idx, <span class="keywordtype">float</span> * plane)</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;{</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    assert(idx&gt;=0 &amp;&amp; idx&lt;6);</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    memcpy(&amp;xe-&gt;<a class="code" href="structXenosDevice.html#ab5f475f915e3c41381ed128924021f68">clipplane</a>[idx*4],plane,4*4);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#a7fb955e4288bb1dd2824047a3e286ffc">DIRTY_CLIP</a>;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;}</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"><a class="line" href="xe_8c.html#a2cfe14e84f083a5e4f6cc1671b9bf86f"> 1657</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a2cfe14e84f083a5e4f6cc1671b9bf86f">Xe_InvalidateState</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;{</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> = ~0;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#aad5a8764301ab89aed4b50c0442aa17e">alu_dirty</a> = ~0;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a757cc5d98f8e700802e2153c3f31154d">fetch_dirty</a> = ~0;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    <a class="code" href="xe_8c.html#aec08ede806de0cb7d2ed46b445051dff">Xe_pInitControl</a>(xe);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;}</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"><a class="line" href="xe_8c.html#ae707830b56b9d47df96ea5748f9d1438"> 1665</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ae707830b56b9d47df96ea5748f9d1438">Xe_SetShader</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>, <span class="keyword">struct</span> <a class="code" href="structXenosShader.html">XenosShader</a> *sh, <span class="keywordtype">int</span> index)</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;{</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosShader.html">XenosShader</a> **s;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordtype">int</span> *i = 0;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a> == <a class="code" href="xe_8h.html#a146d755504f561d6f94ea18c1449952c">SHADER_TYPE_PIXEL</a>)</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        s = &amp;xe-&gt;<a class="code" href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">ps</a>;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        s = &amp;xe-&gt;<a class="code" href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">vs</a>;</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        i = &amp;xe-&gt;<a class="code" href="structXenosDevice.html#aea4833ca5f1ea70ddd8c6bcbecbadabd">vs_index</a>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        assert(sh-&gt;<a class="code" href="structXenosShader.html#aeda3efe356452775fa30af6ea34a3208">shader_instance</a>[index]);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="keywordflow">if</span> ((*s != sh) || (i &amp;&amp; *i != index))</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    {</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        *s = sh;</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        <span class="keywordflow">if</span> (i)</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;            *i = index;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#af0ca0969fef93b739dac5865961fdddd">DIRTY_SHADER</a>;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    }</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"><a class="line" href="xe_8c.html#a1074621d2c8e53c05f5e8adbee1c4867"> 1688</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a1074621d2c8e53c05f5e8adbee1c4867">Xe_pSetState</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;{</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> &amp; <a class="code" href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a>)</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <a class="code" href="xe_8c.html#a75159a51125ebf919844115d3a9b0081">Xe_pUploadControl</a>(xe);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> &amp; <a class="code" href="xe_8h.html#af0ca0969fef93b739dac5865961fdddd">DIRTY_SHADER</a>)</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        <a class="code" href="xe_8c.html#a098cab3cb268904ae446e71b866652f7">Xe_pUploadShader</a>(xe);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> &amp; <a class="code" href="xe_8h.html#a176a48a82e0ca35651c06ebfcbfbd258">DIRTY_ALU</a>)</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <a class="code" href="xe_8c.html#aa280a76752e9901062b5dc566785d5d9">Xe_pUploadALUConstants</a>(xe);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> &amp; <a class="code" href="xe_8h.html#a0756e76f5e48eeaacf00f2fa135d782c">DIRTY_FETCH</a>)</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    {</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <a class="code" href="xe_8c.html#a6c1ce46f457511267c72c80fa84def2e">Xe_pUploadFetchConstants</a>(xe);</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00025000);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00025000); <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> &amp; <a class="code" href="xe_8h.html#a7fb955e4288bb1dd2824047a3e286ffc">DIRTY_CLIP</a>)</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <a class="code" href="xe_8c.html#a142acf3f9cc5ff6eacf3fb574da48012">Xe_pUploadClipPlane</a>(xe);</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> &amp; <a class="code" href="xe_8h.html#a6ab8ef6c4815e9e903985d5580af3bbe">DIRTY_INTEGER</a>)</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <a class="code" href="xe_8c.html#a50a647c36422025018e6e9fbb5f7b009">Xe_pUploadIntegerConstants</a>(xe);</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160; </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> &amp; <a class="code" href="xe_8h.html#acfe64bf68c94b1e8d897ea43b65a871e">DIRTY_MISC</a>)</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    {</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#a24a87ad9516ea76cc7493026f3d23523">scissor_enable</a>)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            <a class="code" href="xe_8c.html#accf840998e70b69d1074208b83889311">Xe_pSetSurfaceClip</a>(xe, 0, 0, xe-&gt;<a class="code" href="structXenosDevice.html#a3dc271bd238b8316b0d3ea2607b502cc">scissor_ltrb</a>[0], xe-&gt;<a class="code" href="structXenosDevice.html#a3dc271bd238b8316b0d3ea2607b502cc">scissor_ltrb</a>[1], xe-&gt;<a class="code" href="structXenosDevice.html#a3dc271bd238b8316b0d3ea2607b502cc">scissor_ltrb</a>[2], xe-&gt;<a class="code" href="structXenosDevice.html#a3dc271bd238b8316b0d3ea2607b502cc">scissor_ltrb</a>[3]);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            <a class="code" href="xe_8c.html#accf840998e70b69d1074208b83889311">Xe_pSetSurfaceClip</a>(xe, 0, 0, 0, 0, xe-&gt;<a class="code" href="structXenosDevice.html#a3066b1d9128b28a7e465d598b2324ebb">vp_xres</a>, xe-&gt;<a class="code" href="structXenosDevice.html#af56142a4d802ca6b099bbef493ea8ffe">vp_yres</a>);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        </div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <a class="code" href="xe_8c.html#ac5b96afc1f116e00e2dd171c680227db">Xe_pSetEDRAMLayout</a>(xe);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000200d);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00012100);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00ffffff);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002104);</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000000f);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0008210c);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[0]);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(xe-&gt;<a class="code" href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">stencildata</a>[1]);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;            <a class="code" href="xe__internal_8h.html#a61fff48d77b790c96f2c779a461bf319">rputf</a>(xe-&gt;<a class="code" href="structXenosDevice.html#aecbd58972ae27cd53d4995342e44b2be">alpharef</a>); <span class="comment">/* this does not work. */</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;            <a class="code" href="xe__internal_8h.html#a61fff48d77b790c96f2c779a461bf319">rputf</a>(xe-&gt;<a class="code" href="structXenosDevice.html#a3066b1d9128b28a7e465d598b2324ebb">vp_xres</a> / 2.0);</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            <a class="code" href="xe__internal_8h.html#a61fff48d77b790c96f2c779a461bf319">rputf</a>(xe-&gt;<a class="code" href="structXenosDevice.html#a3066b1d9128b28a7e465d598b2324ebb">vp_xres</a> / 2.0);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;            <a class="code" href="xe__internal_8h.html#a61fff48d77b790c96f2c779a461bf319">rputf</a>(-xe-&gt;<a class="code" href="structXenosDevice.html#af56142a4d802ca6b099bbef493ea8ffe">vp_yres</a> / 2.0);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;            <a class="code" href="xe__internal_8h.html#a61fff48d77b790c96f2c779a461bf319">rputf</a>(xe-&gt;<a class="code" href="structXenosDevice.html#af56142a4d802ca6b099bbef493ea8ffe">vp_yres</a> / 2.0);</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            <a class="code" href="xe__internal_8h.html#a61fff48d77b790c96f2c779a461bf319">rputf</a>(1.0);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;            <a class="code" href="xe__internal_8h.html#a61fff48d77b790c96f2c779a461bf319">rputf</a>(0.0);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="keywordtype">int</span> vals[] = {0, 2 | (4 &lt;&lt; 13), 4 | (6 &lt;&lt; 13)};</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002301);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(vals[xe-&gt;<a class="code" href="structXenosDevice.html#a6f6dd7151b4f1fee6ab2260d8a19abc0">msaa_samples</a>]);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002312);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x0000ffff);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    }</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    </div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> = 0;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;}</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"><a class="line" href="xe_8c.html#ae045bf92354fdabc753e7b085c59bcf5"> 1748</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ae045bf92354fdabc753e7b085c59bcf5">Xe_SetTexture</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> index, <span class="keyword">struct</span> <a class="code" href="structXenosSurface.html">XenosSurface</a> *tex)</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;{</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">if</span> (tex!=<a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <a class="code" href="xe_8c.html#aa5cf9eae53adaaaee51c0f6d8e5a38b0">TEXTURE_FETCH</a>(xe-&gt;<a class="code" href="structXenosDevice.html#a8d166186442ccbcf516cea44a2b91848">fetch_constants</a> + index * 6, tex-&gt;<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a>, tex-&gt;<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a> - 1, tex-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a> - 1, tex-&gt;<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a>, tex-&gt;<a class="code" href="structXenosSurface.html#acb5f82394a9dc4ee657d41976ea0c7af">tiled</a>, tex-&gt;<a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a>, tex-&gt;<a class="code" href="structXenosSurface.html#ad57807a8fd7d1dab5a1db60f3182897c">ptr_mip</a>, 2, tex-&gt;<a class="code" href="structXenosSurface.html#a06bff914b143e8b9870e67e13b43f955">use_filtering</a>, tex-&gt;<a class="code" href="structXenosSurface.html#a0c5db35c8724a4bb2cf4b4cfb56b754f">u_addressing</a>, tex-&gt;<a class="code" href="structXenosSurface.html#a1294de461b41d2b7809f1c3b7e2f470d">v_addressing</a>);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        memset(xe-&gt;<a class="code" href="structXenosDevice.html#a8d166186442ccbcf516cea44a2b91848">fetch_constants</a> + index * 6,0,24);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="xe_8c.html#a2e0812aaa138eeaad90c128f161c2087">Xe_DirtyFetch</a>(xe, index + index * 3, 3);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;}</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160; </div>
<div class="line"><a name="l01758"></a><span class="lineno"><a class="line" href="xe_8c.html#a667e9d4feeb127ab9ab8efe983a157eb"> 1758</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a667e9d4feeb127ab9ab8efe983a157eb">Xe_SetClearColor</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> clearcolor)</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;{</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a9a1afdd93b7a766c716611200878faad">clear_color</a> = clearcolor;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;}</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"><a class="line" href="xe_8c.html#a1c5cba34547fc2fc94fb76fdaa345691"> 1763</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *<a class="code" href="xe_8c.html#a1c5cba34547fc2fc94fb76fdaa345691">Xe_CreateVertexBuffer</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>)</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;{</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *vb = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a>));</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    memset(vb, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a>));</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    printf(<span class="stringliteral">&quot;--- alloc new vb, at %p, size %d\n&quot;</span>, vb, <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>);</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ad24f09012eda81375b804500f184b4b6">base</a> = <a class="code" href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">Xe_pAlloc</a>(xe, &amp;vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ac73b4731364a4485911a3f87a0bc77cb">phys_base</a>, <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>, 0x1000);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ae32f393a84ee28f66f7aa8adfdfa5061">size</a> = 0;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    vb-&gt;<a class="code" href="structXenosVertexBuffer.html#afa1b8808a7af21b2f488a71b94fdf758">space</a> = <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    vb-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a> = 0;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    vb-&gt;<a class="code" href="structXenosVertexBuffer.html#adb4f994a6ba66dc76fa4c8522727b109">vertices</a> = 0;</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="comment">//  printf(&quot;alloc done, at %p %x\n&quot;, vb-&gt;base, vb-&gt;phys_base);</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">return</span> vb;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;}</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"><a class="line" href="xe_8c.html#a56bbc212ee5d068ad7dc8f8ab0b8e92f"> 1777</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a56bbc212ee5d068ad7dc8f8ab0b8e92f">Xe_DestroyVertexBuffer</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *vb)</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;{</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <a class="code" href="xe_8c.html#ac4352ef4560e6441950bfb88a91e333b">Xe_pFree</a>(xe,vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ad24f09012eda81375b804500f184b4b6">base</a>);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    free(vb);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;}</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"><a class="line" href="xe_8c.html#a2fa8d8cd213d06c313fbc3f837806dc6"> 1783</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *<a class="code" href="xe_8c.html#a2fa8d8cd213d06c313fbc3f837806dc6">Xe_VBPoolAlloc</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>)</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;{</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> **vbp = &amp;xe-&gt;<a class="code" href="structXenosDevice.html#aef8d49308241da92c496433ea7f99181">vb_pool</a>;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    </div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">while</span> (*vbp)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *vb = *vbp;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<span class="comment">//      printf(&quot;use %d %d\n&quot;,vb-&gt;space,size);</span></div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <span class="keywordflow">if</span> (vb-&gt;<a class="code" href="structXenosVertexBuffer.html#afa1b8808a7af21b2f488a71b94fdf758">space</a> &gt;= <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>)</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        {</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            *vbp = vb-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a>;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;            vb-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a> = 0;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;            vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ae32f393a84ee28f66f7aa8adfdfa5061">size</a> = 0;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            vb-&gt;<a class="code" href="structXenosVertexBuffer.html#adb4f994a6ba66dc76fa4c8522727b109">vertices</a> = 0;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="keywordflow">return</span> vb;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        }</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        vbp = &amp;vb-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a>;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    }</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="xe_8c.html#a1c5cba34547fc2fc94fb76fdaa345691">Xe_CreateVertexBuffer</a>(xe, <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;}</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160; </div>
<div class="line"><a name="l01805"></a><span class="lineno"><a class="line" href="xe_8c.html#aca6e40586c4b55626cbb76347df05783"> 1805</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aca6e40586c4b55626cbb76347df05783">Xe_VBPoolAdd</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *vb)</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;{</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> **vbp = xe-&gt;<a class="code" href="structXenosDevice.html#a5849d4762270a860124b603e3a3d61f4">vb_pool_after_frame</a> ? &amp;xe-&gt;<a class="code" href="structXenosDevice.html#a5849d4762270a860124b603e3a3d61f4">vb_pool_after_frame</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a> : &amp;xe-&gt;<a class="code" href="structXenosDevice.html#a5849d4762270a860124b603e3a3d61f4">vb_pool_after_frame</a>;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <span class="keywordflow">while</span> (*vbp)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        vbp = &amp;(*vbp)-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a>;</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    *vbp = vb;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;}</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160; </div>
<div class="line"><a name="l01814"></a><span class="lineno"><a class="line" href="xe_8c.html#a594ae9fbfb215379c49f00bc62f2aee0"> 1814</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a594ae9fbfb215379c49f00bc62f2aee0">Xe_VBReclaim</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;{</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> **vbp = xe-&gt;<a class="code" href="structXenosDevice.html#aef8d49308241da92c496433ea7f99181">vb_pool</a> ? &amp;xe-&gt;<a class="code" href="structXenosDevice.html#aef8d49308241da92c496433ea7f99181">vb_pool</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a> : &amp;xe-&gt;<a class="code" href="structXenosDevice.html#aef8d49308241da92c496433ea7f99181">vb_pool</a>;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">while</span> (*vbp)</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        vbp = &amp;(*vbp)-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a>;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    *vbp = xe-&gt;<a class="code" href="structXenosDevice.html#a5849d4762270a860124b603e3a3d61f4">vb_pool_after_frame</a>;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a5849d4762270a860124b603e3a3d61f4">vb_pool_after_frame</a> = 0;</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;}</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160; </div>
<div class="line"><a name="l01824"></a><span class="lineno"><a class="line" href="xe_8c.html#aabd34addb97de558517e38363fdfce90"> 1824</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aabd34addb97de558517e38363fdfce90">Xe_VBBegin</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> pitch)</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;{</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">if</span> (xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a> || xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>)</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;FATAL: VertexBegin without VertexEnd! (head %08x, current %08x)\n&quot;</span>, xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a>, xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a1712af02f872aaaa3d076131494e50b8">vb_current_pitch</a> = pitch;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;}</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"><a class="line" href="xe_8c.html#a15446a9973475165c9e465940335a56c"> 1831</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a15446a9973475165c9e465940335a56c">Xe_VBPut</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">void</span> *<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, <span class="keywordtype">int</span> len)</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;{</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    <span class="keywordflow">if</span> (len % xe-&gt;<a class="code" href="structXenosDevice.html#a1712af02f872aaaa3d076131494e50b8">vb_current_pitch</a>)</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;FATAL: VertexPut with non-even len\n&quot;</span>);</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    </div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    <span class="keywordflow">while</span> (len)</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        <span class="keywordtype">int</span> remaining = xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a> ? (xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#afa1b8808a7af21b2f488a71b94fdf758">space</a> - xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#ae32f393a84ee28f66f7aa8adfdfa5061">size</a>) / 4 : 0;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        </div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;        remaining -= remaining % xe-&gt;<a class="code" href="structXenosDevice.html#a1712af02f872aaaa3d076131494e50b8">vb_current_pitch</a>;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        </div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="comment">//      printf(&quot;rem %d len %d\n&quot;,remaining,len);</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        </div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        <span class="keywordflow">if</span> (remaining &gt; len)</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            remaining = len;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        <span class="keywordflow">if</span> (!remaining)</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            <span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> **n = xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a> ? &amp;xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a> : &amp;xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a>;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;            xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a> = <a class="code" href="xe_8c.html#a2fa8d8cd213d06c313fbc3f837806dc6">Xe_VBPoolAlloc</a>(xe, <a class="code" href="xe_8c.html#a5b7282ee28d70874fd1d3dbb5fecebac">VBPOOL_NUM_TRIANGLES</a>*3*xe-&gt;<a class="code" href="structXenosDevice.html#a1712af02f872aaaa3d076131494e50b8">vb_current_pitch</a>);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            *n = xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        }</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        memcpy(xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#ad24f09012eda81375b804500f184b4b6">base</a> + xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#ae32f393a84ee28f66f7aa8adfdfa5061">size</a>, <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, remaining * 4);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#ae32f393a84ee28f66f7aa8adfdfa5061">size</a> += remaining * 4;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#adb4f994a6ba66dc76fa4c8522727b109">vertices</a> += remaining / xe-&gt;<a class="code" href="structXenosDevice.html#a1712af02f872aaaa3d076131494e50b8">vb_current_pitch</a>;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a> += remaining * 4;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        len -= remaining;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    }</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;}</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"><a class="line" href="xe_8c.html#ade9873ab3879dfff9ca1ab3e46d822c0"> 1863</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *<a class="code" href="xe_8c.html#ade9873ab3879dfff9ca1ab3e46d822c0">Xe_VBEnd</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;{</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *res;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    res = xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a>;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">while</span> (xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a>)</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        <a class="code" href="xe_8c.html#a742574a5ddabfcac3183fca80aca033e">Xe_pSyncToDevice</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#ad24f09012eda81375b804500f184b4b6">base</a>, xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#afa1b8808a7af21b2f488a71b94fdf758">space</a>);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <a class="code" href="xe_8c.html#ad7fcc6e3a74b405a8fe34afed8cb2a1b">Xe_pInvalidateGpuCache</a>(xe, xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#ac73b4731364a4485911a3f87a0bc77cb">phys_base</a>, xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#afa1b8808a7af21b2f488a71b94fdf758">space</a> + 0x1000);</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a> = xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a>-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a>;</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    }</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">vb_head</a> = xe-&gt;<a class="code" href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">vb_current</a> = 0;</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160; </div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;}</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"><a class="line" href="xe_8c.html#a12cb11299e780a91466da84c5e4d593f"> 1880</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a12cb11299e780a91466da84c5e4d593f">Xe_Draw</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *vb, <span class="keyword">struct</span> <a class="code" href="structXenosIndexBuffer.html">XenosIndexBuffer</a> *ib)</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;{</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <a class="code" href="xe_8c.html#ad0cb86d65adda5dc0c70e97b4af4e893">Xe_pStuff</a>(xe);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <span class="keywordflow">if</span> (vb-&gt;<a class="code" href="structXenosVertexBuffer.html#a0f0217ab61e2717c7edc6d6725c0231d">lock</a>.<a class="code" href="structXenosLock.html#a951ec18b7f7fcd69c4f41769199a7eef">start</a>)</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;cannot draw locked VB&quot;</span>);</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keywordflow">if</span> (ib &amp;&amp; ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a80a49fc8773e9f673ec2f98ca35bfd6f">lock</a>.<a class="code" href="structXenosLock.html#a951ec18b7f7fcd69c4f41769199a7eef">start</a>)</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;cannot draw locked IB&quot;</span>);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160; </div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keywordflow">while</span> (vb)</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;        <a class="code" href="xe_8c.html#a7b34324dcd99fcd8589c701e26adfcb7">Xe_SetStreamSource</a>(xe, 0, vb, 0, 0);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        <a class="code" href="xe_8c.html#a1074621d2c8e53c05f5e8adbee1c4867">Xe_pSetState</a>(xe);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160; </div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002007);</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160; </div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <a class="code" href="xe_8c.html#ad24f767c7606de29c590d52d1b6e8f32">Xe_pSetIndexOffset</a>(xe, 0);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <span class="keywordflow">if</span> (!ib)</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        {</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            <a class="code" href="xe_8c.html#aff5b4cfc880e64493307d7c766bf5bef">Xe_pDrawNonIndexed</a>(xe, vb-&gt;<a class="code" href="structXenosVertexBuffer.html#adb4f994a6ba66dc76fa4c8522727b109">vertices</a>, <a class="code" href="xe_8h.html#a7f08bd9f91a5eac4b2078a4739456f8d">XE_PRIMTYPE_TRIANGLELIST</a>);</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <a class="code" href="xe_8c.html#ab8de12323063692bb4e7dd276cf2d1e2">Xe_pDrawIndexedPrimitive</a>(xe, <a class="code" href="xe_8h.html#a7f08bd9f91a5eac4b2078a4739456f8d">XE_PRIMTYPE_TRIANGLELIST</a>, ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a8aa985c813c25c26bf8c4abf0b7b315c">indices</a>, ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a27ba54815d2b5bd5872d311e7fdb3660">phys_base</a>, ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a8aa985c813c25c26bf8c4abf0b7b315c">indices</a>, ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a295320b317bee80c3aca5ee098fc661b">fmt</a>);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160; </div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#a776da09fe54c0ba9e97d08d34fb95ec1">tris_drawn</a> += vb-&gt;<a class="code" href="structXenosVertexBuffer.html#adb4f994a6ba66dc76fa4c8522727b109">vertices</a> / 3;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        vb = vb-&gt;<a class="code" href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">next</a>;</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;}</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160; </div>
<div class="line"><a name="l01909"></a><span class="lineno"><a class="line" href="xe_8c.html#ac0d1b869dfcb3207f17d05547228136e"> 1909</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="xe_8c.html#ac0d1b869dfcb3207f17d05547228136e">Xe_pCalcVtxCount</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> primtype, <span class="keywordtype">int</span> primcnt)</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;{</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">switch</span> (primtype)</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a687e18bc3f86819f117b95fb3994f754">XE_PRIMTYPE_POINTLIST</a>: <span class="keywordflow">return</span> primcnt;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a0a48d241dcd8f0eb5351317f22266421">XE_PRIMTYPE_LINELIST</a>: <span class="keywordflow">return</span> primcnt * 2;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a84904226a84982b683288b05a8312a98">XE_PRIMTYPE_LINESTRIP</a>: <span class="keywordflow">return</span> 1 + primcnt;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a7f08bd9f91a5eac4b2078a4739456f8d">XE_PRIMTYPE_TRIANGLELIST</a>: <span class="keywordflow">return</span> primcnt * 3;</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a42b26572be52480b67b51100cb2476cb">XE_PRIMTYPE_TRIANGLESTRIP</a>:  <span class="comment">/* fall trough */</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a5f445029dc609093e5cf4bb5f9d275f6">XE_PRIMTYPE_TRIANGLEFAN</a>: <span class="keywordflow">return</span> 2 + primcnt;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a9fbe85909d60aff0fe439c302a0769a9">XE_PRIMTYPE_RECTLIST</a>: <span class="keywordflow">return</span> primcnt * 3; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a8bf333d48f02a026323577f9ac8c6659">XE_PRIMTYPE_QUADLIST</a>: <span class="keywordflow">return</span> primcnt * 4;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;unknown primitive type&quot;</span>);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    }</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;}</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160; </div>
<div class="line"><a name="l01926"></a><span class="lineno"><a class="line" href="xe_8c.html#a2f042864a152a89e079737d3bd0b18e1"> 1926</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a2f042864a152a89e079737d3bd0b18e1">Xe_DrawIndexedPrimitive</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>, <span class="keywordtype">int</span> base_index, <span class="keywordtype">int</span> min_index, <span class="keywordtype">int</span> num_vertices, <span class="keywordtype">int</span> start_index, <span class="keywordtype">int</span> primitive_count)</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;{</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="enet_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160; </div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    assert(xe-&gt;<a class="code" href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">ps</a>); assert(xe-&gt;<a class="code" href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">vs</a>);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160; </div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <a class="code" href="xe_8c.html#ad0cb86d65adda5dc0c70e97b4af4e893">Xe_pStuff</a>(xe); <span class="comment">/* fixme */</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <a class="code" href="xe_8c.html#a1074621d2c8e53c05f5e8adbee1c4867">Xe_pSetState</a>(xe);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002007);</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    <a class="code" href="xe_8c.html#ad24f767c7606de29c590d52d1b6e8f32">Xe_pSetIndexOffset</a>(xe, base_index);</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <a class="code" href="enet_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="xe_8c.html#ac0d1b869dfcb3207f17d05547228136e">Xe_pCalcVtxCount</a>(xe, <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>, primitive_count);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordtype">int</span> bpi = 2 &lt;&lt; xe-&gt;<a class="code" href="structXenosDevice.html#abeb60069d912764791070887782553c8">current_ib</a>-&gt;<a class="code" href="structXenosIndexBuffer.html#a295320b317bee80c3aca5ee098fc661b">fmt</a>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <a class="code" href="xe_8c.html#ab8de12323063692bb4e7dd276cf2d1e2">Xe_pDrawIndexedPrimitive</a>(xe, <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>, <a class="code" href="enet_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, xe-&gt;<a class="code" href="structXenosDevice.html#abeb60069d912764791070887782553c8">current_ib</a>-&gt;<a class="code" href="structXenosIndexBuffer.html#a27ba54815d2b5bd5872d311e7fdb3660">phys_base</a> + bpi * start_index, <a class="code" href="enet_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, xe-&gt;<a class="code" href="structXenosDevice.html#abeb60069d912764791070887782553c8">current_ib</a>-&gt;<a class="code" href="structXenosIndexBuffer.html#a295320b317bee80c3aca5ee098fc661b">fmt</a>);</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;}</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160; </div>
<div class="line"><a name="l01943"></a><span class="lineno"><a class="line" href="xe_8c.html#a593748a125a6b5df7ca406fdad1e21dc"> 1943</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a593748a125a6b5df7ca406fdad1e21dc">Xe_DrawPrimitive</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> primitive_count)</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;{</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="enet_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    </div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    assert(xe-&gt;<a class="code" href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">ps</a>); assert(xe-&gt;<a class="code" href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">vs</a>);</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160; </div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <a class="code" href="xe_8c.html#ad0cb86d65adda5dc0c70e97b4af4e893">Xe_pStuff</a>(xe); <span class="comment">/* fixme */</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <a class="code" href="xe_8c.html#a1074621d2c8e53c05f5e8adbee1c4867">Xe_pSetState</a>(xe);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00002007);</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <a class="code" href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a>(0x00000000);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <a class="code" href="xe_8c.html#ad24f767c7606de29c590d52d1b6e8f32">Xe_pSetIndexOffset</a>(xe, start); <span class="comment">/* ?? */</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <a class="code" href="enet_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a> = <a class="code" href="xe_8c.html#ac0d1b869dfcb3207f17d05547228136e">Xe_pCalcVtxCount</a>(xe, <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>, primitive_count);</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <a class="code" href="xe_8c.html#aff5b4cfc880e64493307d7c766bf5bef">Xe_pDrawNonIndexed</a>(xe, <a class="code" href="enet_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a>, <a class="code" href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a>);</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;}</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"><a class="line" href="xe_8c.html#a7b34324dcd99fcd8589c701e26adfcb7"> 1959</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a7b34324dcd99fcd8589c701e26adfcb7">Xe_SetStreamSource</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> index, <span class="keyword">struct</span> <a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *vb, <span class="keywordtype">int</span> offset, <span class="keywordtype">int</span> stride)</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;{</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">if</span> (vb-&gt;<a class="code" href="structXenosVertexBuffer.html#a0f0217ab61e2717c7edc6d6725c0231d">lock</a>.<a class="code" href="structXenosLock.html#a951ec18b7f7fcd69c4f41769199a7eef">start</a>)</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <a class="code" href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a>(xe, <span class="stringliteral">&quot;cannot use locked VB&quot;</span>);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160; </div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a41cbc2ddcbe1152669e626844f618e58">current_vb</a> = vb;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <a class="code" href="xe_8c.html#a16f3cb537291c62e5db0afb244dd7dd5">VERTEX_FETCH</a>(xe-&gt;<a class="code" href="structXenosDevice.html#a8d166186442ccbcf516cea44a2b91848">fetch_constants</a> + (95 + index) * 2, vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ac73b4731364a4485911a3f87a0bc77cb">phys_base</a> + offset, vb-&gt;<a class="code" href="structXenosVertexBuffer.html#afa1b8808a7af21b2f488a71b94fdf758">space</a> - offset);</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <a class="code" href="xe_8c.html#a2e0812aaa138eeaad90c128f161c2087">Xe_DirtyFetch</a>(xe, 95 + index, 1);</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;}</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160; </div>
<div class="line"><a name="l01969"></a><span class="lineno"><a class="line" href="xe_8c.html#aa0826006ca0730d55c9af931781f6a48"> 1969</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#aa0826006ca0730d55c9af931781f6a48">Xe_SetIndices</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosIndexBuffer.html">XenosIndexBuffer</a> *ib)</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;{</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#abeb60069d912764791070887782553c8">current_ib</a> = ib;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;}</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160; </div>
<div class="line"><a name="l01974"></a><span class="lineno"><a class="line" href="xe_8c.html#a74c5462d6acffcfe6cbc5090fda06a59"> 1974</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structXenosIndexBuffer.html">XenosIndexBuffer</a> *<a class="code" href="xe_8c.html#a74c5462d6acffcfe6cbc5090fda06a59">Xe_CreateIndexBuffer</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> <a class="code" href="ata_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>, <span class="keywordtype">int</span> format)</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;{</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosIndexBuffer.html">XenosIndexBuffer</a> *ib = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structXenosIndexBuffer.html">XenosIndexBuffer</a>));</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    memset(ib, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structXenosIndexBuffer.html">XenosIndexBuffer</a>));</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a3b4c0e23b5cf2f4cccbf104b8512789a">base</a> = <a class="code" href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">Xe_pAlloc</a>(xe, &amp;ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a27ba54815d2b5bd5872d311e7fdb3660">phys_base</a>, <a class="code" href="ata_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>, 32);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a019247f01283a10bf6d59d80882ca184">size</a> = <a class="code" href="ata_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a8aa985c813c25c26bf8c4abf0b7b315c">indices</a> = 0;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a295320b317bee80c3aca5ee098fc661b">fmt</a> = format;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <span class="keywordflow">return</span> ib;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;}</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160; </div>
<div class="line"><a name="l01985"></a><span class="lineno"><a class="line" href="xe_8c.html#a7b3abd475f31964942225d6446cf696c"> 1985</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a7b3abd475f31964942225d6446cf696c">Xe_DestroyIndexBuffer</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosIndexBuffer.html">XenosIndexBuffer</a> *ib)</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;{</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <a class="code" href="xe_8c.html#ac4352ef4560e6441950bfb88a91e333b">Xe_pFree</a>(xe,ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a3b4c0e23b5cf2f4cccbf104b8512789a">base</a>);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    free(ib);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;}</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160; </div>
<div class="line"><a name="l01991"></a><span class="lineno"><a class="line" href="xe_8c.html#a663852c01440758b416c5a8e792871ad"> 1991</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="xe_8c.html#a663852c01440758b416c5a8e792871ad">Xe_VB_Lock</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *vb, <span class="keywordtype">int</span> offset, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>, <span class="keywordtype">int</span> flags)</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;{</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <a class="code" href="xe_8c.html#a71d385a3368ca9f36a4e0f98feecc9e9">Xe_pLock</a>(xe, &amp;vb-&gt;<a class="code" href="structXenosVertexBuffer.html#a0f0217ab61e2717c7edc6d6725c0231d">lock</a>, vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ad24f09012eda81375b804500f184b4b6">base</a> + offset, vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ac73b4731364a4485911a3f87a0bc77cb">phys_base</a> + offset, <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>, flags);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keywordflow">return</span> vb-&gt;<a class="code" href="structXenosVertexBuffer.html#ad24f09012eda81375b804500f184b4b6">base</a> + offset;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;}</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160; </div>
<div class="line"><a name="l01997"></a><span class="lineno"><a class="line" href="xe_8c.html#acf540454d7d77578e6527e77f0f8593e"> 1997</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#acf540454d7d77578e6527e77f0f8593e">Xe_VB_Unlock</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosVertexBuffer.html">XenosVertexBuffer</a> *vb)</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;{</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <a class="code" href="xe_8c.html#a4a5b5c9eab46184d17d17dddb71e6c39">Xe_pUnlock</a>(xe, &amp;vb-&gt;<a class="code" href="structXenosVertexBuffer.html#a0f0217ab61e2717c7edc6d6725c0231d">lock</a>);</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160; </div>
<div class="line"><a name="l02002"></a><span class="lineno"><a class="line" href="xe_8c.html#a6cfc05da182e008b9192decbd1279af2"> 2002</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="xe_8c.html#a6cfc05da182e008b9192decbd1279af2">Xe_IB_Lock</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosIndexBuffer.html">XenosIndexBuffer</a> *ib, <span class="keywordtype">int</span> offset, <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>, <span class="keywordtype">int</span> flags)</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;{</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <a class="code" href="xe_8c.html#a71d385a3368ca9f36a4e0f98feecc9e9">Xe_pLock</a>(xe, &amp;ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a80a49fc8773e9f673ec2f98ca35bfd6f">lock</a>, ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a3b4c0e23b5cf2f4cccbf104b8512789a">base</a> + offset, ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a27ba54815d2b5bd5872d311e7fdb3660">phys_base</a> + offset, <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>, flags);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    <span class="keywordflow">return</span> ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a3b4c0e23b5cf2f4cccbf104b8512789a">base</a> + offset;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;}</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160; </div>
<div class="line"><a name="l02008"></a><span class="lineno"><a class="line" href="xe_8c.html#a84492cf290294b480dcb689b83397e67"> 2008</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a84492cf290294b480dcb689b83397e67">Xe_IB_Unlock</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosIndexBuffer.html">XenosIndexBuffer</a> *ib)</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;{</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;    <a class="code" href="xe_8c.html#a4a5b5c9eab46184d17d17dddb71e6c39">Xe_pUnlock</a>(xe, &amp;ib-&gt;<a class="code" href="structXenosIndexBuffer.html#a80a49fc8773e9f673ec2f98ca35bfd6f">lock</a>);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;}</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160; </div>
<div class="line"><a name="l02013"></a><span class="lineno"><a class="line" href="xe_8c.html#a95a65b40a2776c4063213fc4948ea483"> 2013</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a95a65b40a2776c4063213fc4948ea483">Xe_SetVertexShaderConstantF</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> start, <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, <span class="keywordtype">int</span> count)</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;{</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="comment">//  printf(&quot;SetVertexShaderConstantF\n&quot;);</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    memcpy(xe-&gt;<a class="code" href="structXenosDevice.html#ac1459b3f3953ddd8929cc6cfe07e2e42">alu_constants</a> + start * 4, <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, count * 16);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <a class="code" href="xe_8c.html#a22012c3497c5771d98c508e5251eb01b">Xe_DirtyAluConstant</a>(xe, start, count);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="comment">//  while (count--)</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="comment">//      printf(&quot;%.3f %.3f %.3f %.3f\n&quot;, data[0], data[1], data[2], data[3]);</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="comment">//      data += 4;</span></div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;}</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160; </div>
<div class="line"><a name="l02025"></a><span class="lineno"><a class="line" href="xe_8c.html#ac1bbc2a8ef04451d3fba817e4965e54f"> 2025</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#ac1bbc2a8ef04451d3fba817e4965e54f">Xe_SetPixelShaderConstantF</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> start, <span class="keyword">const</span> <span class="keywordtype">float</span> *<a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, <span class="keywordtype">int</span> count)</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;{</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    start += 256;</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;<span class="comment">//  printf(&quot;SetPixelShaderConstantF (%d+)\n&quot;, start);</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    memcpy(xe-&gt;<a class="code" href="structXenosDevice.html#ac1459b3f3953ddd8929cc6cfe07e2e42">alu_constants</a> + start * 4, <a class="code" href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a>, count * 16);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <a class="code" href="xe_8c.html#a22012c3497c5771d98c508e5251eb01b">Xe_DirtyAluConstant</a>(xe, start, count);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="comment">//  while (count--)</span></div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="comment">//  {</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;<span class="comment">//      printf(&quot;%.3f %.3f %.3f %.3f\n&quot;, data[0], data[1], data[2], data[3]);</span></div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="comment">//      data += 4;</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="comment">//  }</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;}</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160; </div>
<div class="line"><a name="l02038"></a><span class="lineno"><a class="line" href="xe_8c.html#a39a8600fa446dbb4f68e3f047a7c9d89"> 2038</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a39a8600fa446dbb4f68e3f047a7c9d89">Xe_SetVertexShaderConstantB</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;{</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="keywordtype">int</span> bit=1&lt;&lt;(index&amp;0x1f);</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordtype">int</span> block=index&gt;&gt;5;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160; </div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">if</span> (value)</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#af4556c4657664905ffa13af7da6050a2">integer_constants</a>[block] |= bit;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#af4556c4657664905ffa13af7da6050a2">integer_constants</a>[block] &amp;= ~bit;</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160; </div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#a6ab8ef6c4815e9e903985d5580af3bbe">DIRTY_INTEGER</a>;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;}</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"><a class="line" href="xe_8c.html#a50a22b0e7cee80001d12a7a7fbeccea6"> 2051</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a50a22b0e7cee80001d12a7a7fbeccea6">Xe_SetPixelShaderConstantB</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">int</span> index, <span class="keywordtype">int</span> value)</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;{</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    index += 128;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    </div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> bit=1&lt;&lt;(index&amp;0x1f);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <a class="code" href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> block=index&gt;&gt;5;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="keywordflow">if</span> (value)</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#af4556c4657664905ffa13af7da6050a2">integer_constants</a>[block] |= bit;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;        xe-&gt;<a class="code" href="structXenosDevice.html#af4556c4657664905ffa13af7da6050a2">integer_constants</a>[block] &amp;= ~bit;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160; </div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    xe-&gt;<a class="code" href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">dirty</a> |= <a class="code" href="xe_8h.html#a6ab8ef6c4815e9e903985d5580af3bbe">DIRTY_INTEGER</a>;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;}</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160; </div>
<div class="line"><a name="l02066"></a><span class="lineno"><a class="line" href="xe_8c.html#a856a75e4007adfe8ab41429762fccc36"> 2066</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structXenosSurface.html">XenosSurface</a> *<a class="code" href="xe_8c.html#a856a75e4007adfe8ab41429762fccc36">Xe_CreateTexture</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a325272ddd9a962f05deb905101d25cbd">width</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="console_8c.html#a6ad4f820ce4e75cda0686fcaad5168be">height</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> levels, <span class="keywordtype">int</span> <a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a>, <span class="keywordtype">int</span> <a class="code" href="structXenosSurface.html#acb5f82394a9dc4ee657d41976ea0c7af">tiled</a>)</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;{</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="keyword">struct </span><a class="code" href="structXenosSurface.html">XenosSurface</a> *surface = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structXenosSurface.html">XenosSurface</a>));</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    memset(surface, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structXenosSurface.html">XenosSurface</a>));</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> = 0;</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    </div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a> &amp; <a class="code" href="xe_8h.html#a128d9048f0d6f40b1251f1fe71c3b929">XE_FMT_MASK</a>)</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a229816b0b83b5505e5721e85a7d14f6d">XE_FMT_8</a>: <a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> = 1; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a42d344faebddae541f11ffcb1e38ccb3">XE_FMT_5551</a>: <a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> = 2; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a6e287cf56bd3a98c2ee69dd391050ac8">XE_FMT_565</a>: <a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> = 2; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a992aa365add17c33128a2b3493ba691e">XE_FMT_8888</a>: <a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> = 4; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="xe_8h.html#a370fd347c43240443cedd0f5d6e45eb1">XE_FMT_16161616</a>: <a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> = 8; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    }</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;    assert(<a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a>);</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    </div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a> = (<a class="code" href="console_8c.html#a325272ddd9a962f05deb905101d25cbd">width</a> * <a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> + 127) &amp;~127;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structXenosSurface.html#a9119d81627bbb216120c3b5c1ce8b9ab">hpitch</a> = (<a class="code" href="console_8c.html#a6ad4f820ce4e75cda0686fcaad5168be">height</a> + 31) &amp;~31;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a> = <a class="code" href="console_8c.html#a325272ddd9a962f05deb905101d25cbd">width</a>;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a> = <a class="code" href="console_8c.html#a6ad4f820ce4e75cda0686fcaad5168be">height</a>;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a> = <a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a>;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a9119d81627bbb216120c3b5c1ce8b9ab">hpitch</a> = <a class="code" href="structXenosSurface.html#a9119d81627bbb216120c3b5c1ce8b9ab">hpitch</a>;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#acb5f82394a9dc4ee657d41976ea0c7af">tiled</a> = <a class="code" href="structXenosSurface.html#acb5f82394a9dc4ee657d41976ea0c7af">tiled</a>;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a> = <a class="code" href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">format</a>;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#ad57807a8fd7d1dab5a1db60f3182897c">ptr_mip</a> = 0;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a> = <a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a>;</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a3b5e547ef855148cbb538393fde1662d">base</a> = <a class="code" href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">Xe_pAlloc</a>(xe, &amp;surface-&gt;<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a>, <a class="code" href="structXenosSurface.html#a9119d81627bbb216120c3b5c1ce8b9ab">hpitch</a> * <a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a>, 4096);</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160; </div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a06bff914b143e8b9870e67e13b43f955">use_filtering</a> = 1;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a0c5db35c8724a4bb2cf4b4cfb56b754f">u_addressing</a> = <a class="code" href="xe_8h.html#a377d66521866d5a9041041e07b738e73">XE_TEXADDR_WRAP</a>;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    surface-&gt;<a class="code" href="structXenosSurface.html#a1294de461b41d2b7809f1c3b7e2f470d">v_addressing</a> = <a class="code" href="xe_8h.html#a377d66521866d5a9041041e07b738e73">XE_TEXADDR_WRAP</a>;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160; </div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordflow">return</span> surface;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;}</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160; </div>
<div class="line"><a name="l02102"></a><span class="lineno"><a class="line" href="xe_8c.html#a4b86425920f4d6b00f52287be1fed5d0"> 2102</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a4b86425920f4d6b00f52287be1fed5d0">Xe_DestroyTexture</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosSurface.html">XenosSurface</a> *surface)</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;{</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;    <a class="code" href="xe_8c.html#ac4352ef4560e6441950bfb88a91e333b">Xe_pFree</a>(xe,surface-&gt;<a class="code" href="structXenosSurface.html#a3b5e547ef855148cbb538393fde1662d">base</a>);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    free(surface);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;}</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160; </div>
<div class="line"><a name="l02108"></a><span class="lineno"><a class="line" href="xe_8c.html#ac19eb2e8ce8f0f0043709bcf51019a74"> 2108</a></span>&#160;<span class="keywordtype">void</span> *<a class="code" href="xe_8c.html#ac19eb2e8ce8f0f0043709bcf51019a74">Xe_Surface_LockRect</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosSurface.html">XenosSurface</a> *surface, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, <span class="keywordtype">int</span> flags)</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;{</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <span class="keywordflow">if</span> (surface == xe-&gt;<a class="code" href="structXenosDevice.html#a86ff1df7c98b1e4a922f614ed208c42e">rt</a>) <span class="comment">/* current render target? sync. */</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    {</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <a class="code" href="xe_8c.html#a94b6184c03f4bcd1c5c17ce0cf390241">Xe_Resolve</a>(xe);</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        <a class="code" href="xe_8c.html#a519992de13aacc8dd53a40913bc8df7e">Xe_Sync</a>(xe);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    }</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;    <span class="keywordflow">if</span> (!w)</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        w = surface-&gt;<a class="code" href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">width</a>;</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <span class="keywordflow">if</span> (!h)</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        h = surface-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a>;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160; </div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordtype">int</span> offset = y * surface-&gt;<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a> + x * surface-&gt;<a class="code" href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">bypp</a>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a> = h * surface-&gt;<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a>;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    </div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">if</span> (surface-&gt;<a class="code" href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">height</a> != surface-&gt;<a class="code" href="structXenosSurface.html#a9119d81627bbb216120c3b5c1ce8b9ab">hpitch</a>) {</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        <span class="comment">//TODO: find a better way to handle this</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        offset = 0;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a> = surface-&gt;<a class="code" href="structXenosSurface.html#a9119d81627bbb216120c3b5c1ce8b9ab">hpitch</a> * surface-&gt;<a class="code" href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">wpitch</a>;</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    }</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160; </div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <a class="code" href="xe_8c.html#a71d385a3368ca9f36a4e0f98feecc9e9">Xe_pLock</a>(xe, &amp;surface-&gt;<a class="code" href="structXenosSurface.html#a0728305ca4c69e58bdfefe8dbe9b4c08">lock</a>, surface-&gt;<a class="code" href="structXenosSurface.html#a3b5e547ef855148cbb538393fde1662d">base</a> + offset, surface-&gt;<a class="code" href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">ptr</a> + offset, <a class="code" href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a>, flags);</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordflow">return</span> surface-&gt;<a class="code" href="structXenosSurface.html#a3b5e547ef855148cbb538393fde1662d">base</a> + offset;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;}</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160; </div>
<div class="line"><a name="l02135"></a><span class="lineno"><a class="line" href="xe_8c.html#a217c74444f1a1af2620c0d8ae79be15e"> 2135</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="xe_8c.html#a217c74444f1a1af2620c0d8ae79be15e">Xe_Surface_Unlock</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe, <span class="keyword">struct</span> <a class="code" href="structXenosSurface.html">XenosSurface</a> *surface)</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;{</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    <a class="code" href="xe_8c.html#a4a5b5c9eab46184d17d17dddb71e6c39">Xe_pUnlock</a>(xe, &amp;surface-&gt;<a class="code" href="structXenosSurface.html#a0728305ca4c69e58bdfefe8dbe9b4c08">lock</a>);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;}</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160; </div>
<div class="line"><a name="l02141"></a><span class="lineno"><a class="line" href="xe_8c.html#aa6a6347e6097a86613431be9a69ff099"> 2141</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="xe_8c.html#aa6a6347e6097a86613431be9a69ff099">Xe_IsVBlank</a>(<span class="keyword">struct</span> <a class="code" href="structXenosDevice.html">XenosDevice</a> *xe)</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;{</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;<span class="comment">//  printf(&quot;%08x\n&quot;, r32(0x6534));</span></div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a>(0x6534) &amp; 0x1000;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;}</div>
<div class="ttc" id="aata_8h_html_a1892eba2086d12ac2b09005aeb09ea3b"><div class="ttname"><a href="ata_8h.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a></div><div class="ttdeci">uint16_t length</div><div class="ttdef"><b>Definition:</b> <a href="ata_8h_source.html#l00004">ata.h:4</a></div></div>
<div class="ttc" id="aatomic_8h_html_a4b4afd0b081418d4a6fa97e0585a6966"><div class="ttname"><a href="atomic_8h.html#a4b4afd0b081418d4a6fa97e0585a6966">lock</a></div><div class="ttdeci">void lock(unsigned int *lock)</div></div>
<div class="ttc" id="aconsole_8c_html_a0523cedff47e2441fc198b7770ec5d3f"><div class="ttname"><a href="console_8c.html#a0523cedff47e2441fc198b7770ec5d3f">base</a></div><div class="ttdeci">uint32_t base</div><div class="ttdef"><b>Definition:</b> <a href="console_8c_source.html#l00001">console.c:1</a></div></div>
<div class="ttc" id="aconsole_8c_html_a325272ddd9a962f05deb905101d25cbd"><div class="ttname"><a href="console_8c.html#a325272ddd9a962f05deb905101d25cbd">width</a></div><div class="ttdeci">uint32_t width</div><div class="ttdef"><b>Definition:</b> <a href="console_8c_source.html#l00003">console.c:3</a></div></div>
<div class="ttc" id="aconsole_8c_html_a6ad4f820ce4e75cda0686fcaad5168be"><div class="ttname"><a href="console_8c.html#a6ad4f820ce4e75cda0686fcaad5168be">height</a></div><div class="ttdeci">uint32_t height</div><div class="ttdef"><b>Definition:</b> <a href="console_8c_source.html#l00004">console.c:4</a></div></div>
<div class="ttc" id="adef_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="def_8h_source.html#l00047">def.h:47</a></div></div>
<div class="ttc" id="adrivers_2ppc_2cache_8h_html_a5eae904392d068c9cc77ee74382f8c02"><div class="ttname"><a href="drivers_2ppc_2cache_8h.html#a5eae904392d068c9cc77ee74382f8c02">memdcbf</a></div><div class="ttdeci">void memdcbf(void *addr, int len)</div></div>
<div class="ttc" id="adrivers_2ppc_2cache_8h_html_aba1f348d227a5d3d25d183b9317c5349"><div class="ttname"><a href="drivers_2ppc_2cache_8h.html#aba1f348d227a5d3d25d183b9317c5349">memdcbst</a></div><div class="ttdeci">void memdcbst(void *addr, int len)</div></div>
<div class="ttc" id="aenet_8c_html_a9cfbb269728dc4185236d28be58d9eab"><div class="ttname"><a href="enet_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a></div><div class="ttdeci">int cnt</div><div class="ttdef"><b>Definition:</b> <a href="enet_8c_source.html#l00409">enet.c:409</a></div></div>
<div class="ttc" id="agmon_8c_html_a91ff8795a5f3fb012d491a2e5e6d42f9"><div class="ttname"><a href="gmon_8c.html#a91ff8795a5f3fb012d491a2e5e6d42f9">__asm__</a></div><div class="ttdeci">__asm__(&quot;.global _mcount		\n&quot; &quot;_mcount:				\n&quot; &quot;stwu	%sp, -0x70(%sp)	\n&quot; &quot;mflr	%r0				\n&quot; &quot;stw	%r0, 0x60(%sp)	\n&quot; &quot;std	%r3, 0x10(%sp)	\n&quot; &quot;std	%r4, 0x18(%sp)	\n&quot; &quot;std	%r5, 0x20(%sp)	\n&quot; &quot;std	%r6, 0x28(%sp)	\n&quot; &quot;std	%r7, 0x30(%sp)	\n&quot; &quot;std	%r8, 0x38(%sp)	\n&quot; &quot;std	%r9, 0x40(%sp)	\n&quot; &quot;std	%r10, 0x48(%sp)	\n&quot; &quot;mflr	%r3				\n&quot; &quot;lwz	%r4,0x74(%sp)	\n&quot; &quot;bl		internal_mcount	\n&quot; &quot;ld		%r3, 0x10(%sp)	\n&quot; &quot;ld		%r4, 0x18(%sp)	\n&quot; &quot;ld		%r5, 0x20(%sp)	\n&quot; &quot;ld		%r6, 0x28(%sp)	\n&quot; &quot;ld		%r7, 0x30(%sp)	\n&quot; &quot;ld		%r8, 0x38(%sp)	\n&quot; &quot;ld		%r9, 0x40(%sp)	\n&quot; &quot;ld		%r10, 0x48(%sp)	\n&quot; &quot;lwz	%r11, 0x60(%sp)	\n&quot; &quot;addi	%sp, %sp, 0x70	\n&quot; &quot;mtlr	%r0				\n&quot; &quot;lwz	%r0,4(%sp)		\n&quot; &quot;mtctr	%r11			\n&quot; &quot;mtlr	%r0				\n&quot; &quot;bctr					\n&quot;)</div></div>
<div class="ttc" id="aio_8h_html_a66c6adb17a64370b8e95c4413da0c1b1"><div class="ttname"><a href="io_8h.html#a66c6adb17a64370b8e95c4413da0c1b1">val</a></div><div class="ttdeci">static uint32_t val</div><div class="ttdef"><b>Definition:</b> <a href="io_8h_source.html#l00016">io.h:17</a></div></div>
<div class="ttc" id="aiso9660_8c_html_a8ee410c4ef57eac74b9f77e60ddb26d2"><div class="ttname"><a href="iso9660_8c.html#a8ee410c4ef57eac74b9f77e60ddb26d2">ptr</a></div><div class="ttdeci">u32 ptr</div><div class="ttdef"><b>Definition:</b> <a href="iso9660_8c_source.html#l00536">iso9660.c:536</a></div></div>
<div class="ttc" id="aiso9660_8c_html_acfd6273064c5acdcfc39a23a69dd4343"><div class="ttname"><a href="iso9660_8c.html#acfd6273064c5acdcfc39a23a69dd4343">size</a></div><div class="ttdeci">u32 size</div><div class="ttdef"><b>Definition:</b> <a href="iso9660_8c_source.html#l00537">iso9660.c:537</a></div></div>
<div class="ttc" id="anewlib_8c_html_a8dec7c95227ff149687066cf04029191"><div class="ttname"><a href="newlib_8c.html#a8dec7c95227ff149687066cf04029191">abort</a></div><div class="ttdeci">void abort(void)</div><div class="ttdef"><b>Definition:</b> <a href="newlib_8c_source.html#l00136">newlib.c:136</a></div></div>
<div class="ttc" id="astdio_8h_html"><div class="ttname"><a href="stdio_8h.html">stdio.h</a></div></div>
<div class="ttc" id="astructXenosDevice_html"><div class="ttname"><a href="structXenosDevice.html">XenosDevice</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00239">xe.h:240</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a068ac04f3cb41be0ca86db16a911f01c"><div class="ttname"><a href="structXenosDevice.html#a068ac04f3cb41be0ca86db16a911f01c">XenosDevice::dirty</a></div><div class="ttdeci">int dirty</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00263">xe.h:263</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a0baee4681d3d959770c9f492ff41722c"><div class="ttname"><a href="structXenosDevice.html#a0baee4681d3d959770c9f492ff41722c">XenosDevice::rb_primary_wptr</a></div><div class="ttdeci">int rb_primary_wptr</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00268">xe.h:268</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a16b2f99ca5bbe83e22bcc27c940f160e"><div class="ttname"><a href="structXenosDevice.html#a16b2f99ca5bbe83e22bcc27c940f160e">XenosDevice::default_fb</a></div><div class="ttdeci">struct XenosSurface default_fb</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00271">xe.h:274</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a1712af02f872aaaa3d076131494e50b8"><div class="ttname"><a href="structXenosDevice.html#a1712af02f872aaaa3d076131494e50b8">XenosDevice::vb_current_pitch</a></div><div class="ttdeci">int vb_current_pitch</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00287">xe.h:287</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a1c2e45dd5758db9ed0188e08923da729"><div class="ttname"><a href="structXenosDevice.html#a1c2e45dd5758db9ed0188e08923da729">XenosDevice::stencildata</a></div><div class="ttdeci">u32 stencildata[2]</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00250">xe.h:250</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a1c4bb7324cfd66677d39e5f8b28ef761"><div class="ttname"><a href="structXenosDevice.html#a1c4bb7324cfd66677d39e5f8b28ef761">XenosDevice::last_wptr</a></div><div class="ttdeci">int last_wptr</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00277">xe.h:277</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a22fb6401c57a548344d2cbb87e7fc565"><div class="ttname"><a href="structXenosDevice.html#a22fb6401c57a548344d2cbb87e7fc565">XenosDevice::tex_fb</a></div><div class="ttdeci">struct XenosSurface tex_fb</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00271">xe.h:273</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a24a87ad9516ea76cc7493026f3d23523"><div class="ttname"><a href="structXenosDevice.html#a24a87ad9516ea76cc7493026f3d23523">XenosDevice::scissor_enable</a></div><div class="ttdeci">int scissor_enable</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00298">xe.h:298</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a3066b1d9128b28a7e465d598b2324ebb"><div class="ttname"><a href="structXenosDevice.html#a3066b1d9128b28a7e465d598b2324ebb">XenosDevice::vp_xres</a></div><div class="ttdeci">int vp_xres</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00279">xe.h:279</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a393b98e6ce6cec9c372a735e20c66803"><div class="ttname"><a href="structXenosDevice.html#a393b98e6ce6cec9c372a735e20c66803">XenosDevice::edram_hizpitch</a></div><div class="ttdeci">int edram_hizpitch</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00296">xe.h:296</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a3dc271bd238b8316b0d3ea2607b502cc"><div class="ttname"><a href="structXenosDevice.html#a3dc271bd238b8316b0d3ea2607b502cc">XenosDevice::scissor_ltrb</a></div><div class="ttdeci">int scissor_ltrb[4]</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00299">xe.h:299</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a41cbc2ddcbe1152669e626844f618e58"><div class="ttname"><a href="structXenosDevice.html#a41cbc2ddcbe1152669e626844f618e58">XenosDevice::current_vb</a></div><div class="ttdeci">struct XenosVertexBuffer * current_vb</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00294">xe.h:294</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a5849d4762270a860124b603e3a3d61f4"><div class="ttname"><a href="structXenosDevice.html#a5849d4762270a860124b603e3a3d61f4">XenosDevice::vb_pool_after_frame</a></div><div class="ttdeci">struct XenosVertexBuffer * vb_pool_after_frame</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00290">xe.h:290</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a5994d6c9b2ee9b6ee0a1aa7cfbbf2d33"><div class="ttname"><a href="structXenosDevice.html#a5994d6c9b2ee9b6ee0a1aa7cfbbf2d33">XenosDevice::rb_secondary</a></div><div class="ttdeci">volatile void * rb_secondary</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00267">xe.h:267</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a5d4d107d787e09ec5aef01a8d9bc9bb7"><div class="ttname"><a href="structXenosDevice.html#a5d4d107d787e09ec5aef01a8d9bc9bb7">XenosDevice::vb_current</a></div><div class="ttdeci">struct XenosVertexBuffer * vb_current</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00286">xe.h:286</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a5e4a4683edafd1a2e563e90898da2dcc"><div class="ttname"><a href="structXenosDevice.html#a5e4a4683edafd1a2e563e90898da2dcc">XenosDevice::edram_colorformat</a></div><div class="ttdeci">int edram_colorformat</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00296">xe.h:296</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a6bba6870f4cbcc803662fd5afb7a0906"><div class="ttname"><a href="structXenosDevice.html#a6bba6870f4cbcc803662fd5afb7a0906">XenosDevice::rb_secondary_wptr</a></div><div class="ttdeci">int rb_secondary_wptr</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00268">xe.h:268</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a6dd85fc8e7f1dcd5b4ca03556f1ef133"><div class="ttname"><a href="structXenosDevice.html#a6dd85fc8e7f1dcd5b4ca03556f1ef133">XenosDevice::frameidx</a></div><div class="ttdeci">int frameidx</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00280">xe.h:280</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a6f6dd7151b4f1fee6ab2260d8a19abc0"><div class="ttname"><a href="structXenosDevice.html#a6f6dd7151b4f1fee6ab2260d8a19abc0">XenosDevice::msaa_samples</a></div><div class="ttdeci">int msaa_samples</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00284">xe.h:284</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a757cc5d98f8e700802e2153c3f31154d"><div class="ttname"><a href="structXenosDevice.html#a757cc5d98f8e700802e2153c3f31154d">XenosDevice::fetch_dirty</a></div><div class="ttdeci">u32 fetch_dirty</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00245">xe.h:245</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a776da09fe54c0ba9e97d08d34fb95ec1"><div class="ttname"><a href="structXenosDevice.html#a776da09fe54c0ba9e97d08d34fb95ec1">XenosDevice::tris_drawn</a></div><div class="ttdeci">int tris_drawn</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00292">xe.h:292</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a7e88eef00d1f7be1deaf80cde271c6ec"><div class="ttname"><a href="structXenosDevice.html#a7e88eef00d1f7be1deaf80cde271c6ec">XenosDevice::clear_stencil_z</a></div><div class="ttdeci">u32 clear_stencil_z</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00283">xe.h:283</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a85dbfb1290613118d3cd5c3aec30824f"><div class="ttname"><a href="structXenosDevice.html#a85dbfb1290613118d3cd5c3aec30824f">XenosDevice::ps</a></div><div class="ttdeci">struct XenosShader * ps</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00253">xe.h:253</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a86ff1df7c98b1e4a922f614ed208c42e"><div class="ttname"><a href="structXenosDevice.html#a86ff1df7c98b1e4a922f614ed208c42e">XenosDevice::rt</a></div><div class="ttdeci">struct XenosSurface * rt</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00276">xe.h:276</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a8d166186442ccbcf516cea44a2b91848"><div class="ttname"><a href="structXenosDevice.html#a8d166186442ccbcf516cea44a2b91848">XenosDevice::fetch_constants</a></div><div class="ttdeci">u32 fetch_constants[96 *2]</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00242">xe.h:242</a></div></div>
<div class="ttc" id="astructXenosDevice_html_a9a1afdd93b7a766c716611200878faad"><div class="ttname"><a href="structXenosDevice.html#a9a1afdd93b7a766c716611200878faad">XenosDevice::clear_color</a></div><div class="ttdeci">u32 clear_color</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00282">xe.h:282</a></div></div>
<div class="ttc" id="astructXenosDevice_html_aa57a365c485326337cbec4d7d3a592f8"><div class="ttname"><a href="structXenosDevice.html#aa57a365c485326337cbec4d7d3a592f8">XenosDevice::edram_color0base</a></div><div class="ttdeci">int edram_color0base</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00296">xe.h:296</a></div></div>
<div class="ttc" id="astructXenosDevice_html_aad5a8764301ab89aed4b50c0442aa17e"><div class="ttname"><a href="structXenosDevice.html#aad5a8764301ab89aed4b50c0442aa17e">XenosDevice::alu_dirty</a></div><div class="ttdeci">u32 alu_dirty</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00244">xe.h:244</a></div></div>
<div class="ttc" id="astructXenosDevice_html_ab5f475f915e3c41381ed128924021f68"><div class="ttname"><a href="structXenosDevice.html#ab5f475f915e3c41381ed128924021f68">XenosDevice::clipplane</a></div><div class="ttdeci">float clipplane[6 *4]</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00247">xe.h:247</a></div></div>
<div class="ttc" id="astructXenosDevice_html_abd125a5a1eff58961b407230ee6193c3"><div class="ttname"><a href="structXenosDevice.html#abd125a5a1eff58961b407230ee6193c3">XenosDevice::rb</a></div><div class="ttdeci">volatile void * rb</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00267">xe.h:267</a></div></div>
<div class="ttc" id="astructXenosDevice_html_abeb60069d912764791070887782553c8"><div class="ttname"><a href="structXenosDevice.html#abeb60069d912764791070887782553c8">XenosDevice::current_ib</a></div><div class="ttdeci">struct XenosIndexBuffer * current_ib</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00293">xe.h:293</a></div></div>
<div class="ttc" id="astructXenosDevice_html_ac1459b3f3953ddd8929cc6cfe07e2e42"><div class="ttname"><a href="structXenosDevice.html#ac1459b3f3953ddd8929cc6cfe07e2e42">XenosDevice::alu_constants</a></div><div class="ttdeci">float alu_constants[256 *4 *2]</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00241">xe.h:241</a></div></div>
<div class="ttc" id="astructXenosDevice_html_ac1f90b26749596c64615b51f3699b4b3"><div class="ttname"><a href="structXenosDevice.html#ac1f90b26749596c64615b51f3699b4b3">XenosDevice::vs</a></div><div class="ttdeci">struct XenosShader * vs</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00253">xe.h:253</a></div></div>
<div class="ttc" id="astructXenosDevice_html_ac418c82bd88972176fb3614874cbd230"><div class="ttname"><a href="structXenosDevice.html#ac418c82bd88972176fb3614874cbd230">XenosDevice::vb_head</a></div><div class="ttdeci">struct XenosVertexBuffer * vb_head</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00286">xe.h:286</a></div></div>
<div class="ttc" id="astructXenosDevice_html_ad07469d31526c681344afad36ff1c4c2"><div class="ttname"><a href="structXenosDevice.html#ad07469d31526c681344afad36ff1c4c2">XenosDevice::rb_secondary_base</a></div><div class="ttdeci">u32 rb_secondary_base</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00266">xe.h:266</a></div></div>
<div class="ttc" id="astructXenosDevice_html_ae2a30a6faf5b900fd0c8183d9f4d82f1"><div class="ttname"><a href="structXenosDevice.html#ae2a30a6faf5b900fd0c8183d9f4d82f1">XenosDevice::regs</a></div><div class="ttdeci">volatile unsigned int * regs</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00271">xe.h:271</a></div></div>
<div class="ttc" id="astructXenosDevice_html_aea4833ca5f1ea70ddd8c6bcbecbadabd"><div class="ttname"><a href="structXenosDevice.html#aea4833ca5f1ea70ddd8c6bcbecbadabd">XenosDevice::vs_index</a></div><div class="ttdeci">int vs_index</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00254">xe.h:254</a></div></div>
<div class="ttc" id="astructXenosDevice_html_aeb977cb21dc567b43c26bc8ef043458f"><div class="ttname"><a href="structXenosDevice.html#aeb977cb21dc567b43c26bc8ef043458f">XenosDevice::controlpacket</a></div><div class="ttdeci">u32 controlpacket[9]</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00250">xe.h:250</a></div></div>
<div class="ttc" id="astructXenosDevice_html_aec29f8de31dfb2b4cc5512f1ddd48f31"><div class="ttname"><a href="structXenosDevice.html#aec29f8de31dfb2b4cc5512f1ddd48f31">XenosDevice::edram_depthbase</a></div><div class="ttdeci">int edram_depthbase</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00296">xe.h:296</a></div></div>
<div class="ttc" id="astructXenosDevice_html_aecadc9d0baad3f616fc4e76f75888772"><div class="ttname"><a href="structXenosDevice.html#aecadc9d0baad3f616fc4e76f75888772">XenosDevice::rb_primary</a></div><div class="ttdeci">volatile void * rb_primary</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00267">xe.h:267</a></div></div>
<div class="ttc" id="astructXenosDevice_html_aecbd58972ae27cd53d4995342e44b2be"><div class="ttname"><a href="structXenosDevice.html#aecbd58972ae27cd53d4995342e44b2be">XenosDevice::alpharef</a></div><div class="ttdeci">unsigned int alpharef</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00251">xe.h:251</a></div></div>
<div class="ttc" id="astructXenosDevice_html_aee4162582029c941d65d30f56c184067"><div class="ttname"><a href="structXenosDevice.html#aee4162582029c941d65d30f56c184067">XenosDevice::edram_pitch</a></div><div class="ttdeci">int edram_pitch</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00296">xe.h:296</a></div></div>
<div class="ttc" id="astructXenosDevice_html_aef8d49308241da92c496433ea7f99181"><div class="ttname"><a href="structXenosDevice.html#aef8d49308241da92c496433ea7f99181">XenosDevice::vb_pool</a></div><div class="ttdeci">struct XenosVertexBuffer * vb_pool</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00289">xe.h:289</a></div></div>
<div class="ttc" id="astructXenosDevice_html_af4556c4657664905ffa13af7da6050a2"><div class="ttname"><a href="structXenosDevice.html#af4556c4657664905ffa13af7da6050a2">XenosDevice::integer_constants</a></div><div class="ttdeci">u32 integer_constants[10 *4]</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00249">xe.h:249</a></div></div>
<div class="ttc" id="astructXenosDevice_html_af56142a4d802ca6b099bbef493ea8ffe"><div class="ttname"><a href="structXenosDevice.html#af56142a4d802ca6b099bbef493ea8ffe">XenosDevice::vp_yres</a></div><div class="ttdeci">int vp_yres</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00279">xe.h:279</a></div></div>
<div class="ttc" id="astructXenosIndexBuffer_html"><div class="ttname"><a href="structXenosIndexBuffer.html">XenosIndexBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00228">xe.h:229</a></div></div>
<div class="ttc" id="astructXenosIndexBuffer_html_a019247f01283a10bf6d59d80882ca184"><div class="ttname"><a href="structXenosIndexBuffer.html#a019247f01283a10bf6d59d80882ca184">XenosIndexBuffer::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00232">xe.h:232</a></div></div>
<div class="ttc" id="astructXenosIndexBuffer_html_a27ba54815d2b5bd5872d311e7fdb3660"><div class="ttname"><a href="structXenosIndexBuffer.html#a27ba54815d2b5bd5872d311e7fdb3660">XenosIndexBuffer::phys_base</a></div><div class="ttdeci">u32 phys_base</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00230">xe.h:230</a></div></div>
<div class="ttc" id="astructXenosIndexBuffer_html_a295320b317bee80c3aca5ee098fc661b"><div class="ttname"><a href="structXenosIndexBuffer.html#a295320b317bee80c3aca5ee098fc661b">XenosIndexBuffer::fmt</a></div><div class="ttdeci">int fmt</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00234">xe.h:234</a></div></div>
<div class="ttc" id="astructXenosIndexBuffer_html_a3b4c0e23b5cf2f4cccbf104b8512789a"><div class="ttname"><a href="structXenosIndexBuffer.html#a3b4c0e23b5cf2f4cccbf104b8512789a">XenosIndexBuffer::base</a></div><div class="ttdeci">void * base</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00233">xe.h:233</a></div></div>
<div class="ttc" id="astructXenosIndexBuffer_html_a80a49fc8773e9f673ec2f98ca35bfd6f"><div class="ttname"><a href="structXenosIndexBuffer.html#a80a49fc8773e9f673ec2f98ca35bfd6f">XenosIndexBuffer::lock</a></div><div class="ttdeci">struct XenosLock lock</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00234">xe.h:236</a></div></div>
<div class="ttc" id="astructXenosIndexBuffer_html_a8aa985c813c25c26bf8c4abf0b7b315c"><div class="ttname"><a href="structXenosIndexBuffer.html#a8aa985c813c25c26bf8c4abf0b7b315c">XenosIndexBuffer::indices</a></div><div class="ttdeci">int indices</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00231">xe.h:231</a></div></div>
<div class="ttc" id="astructXenosLock_html"><div class="ttname"><a href="structXenosLock.html">XenosLock</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00089">xe.h:90</a></div></div>
<div class="ttc" id="astructXenosLock_html_a951ec18b7f7fcd69c4f41769199a7eef"><div class="ttname"><a href="structXenosLock.html#a951ec18b7f7fcd69c4f41769199a7eef">XenosLock::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00091">xe.h:91</a></div></div>
<div class="ttc" id="astructXenosShaderData_html"><div class="ttname"><a href="structXenosShaderData.html">XenosShaderData</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00123">xe.h:124</a></div></div>
<div class="ttc" id="astructXenosShaderHeader_html"><div class="ttname"><a href="structXenosShaderHeader.html">XenosShaderHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00111">xe.h:112</a></div></div>
<div class="ttc" id="astructXenosShaderHeader_html_a29d93203aa226c78fc4fdfaefd1a4e5d"><div class="ttname"><a href="structXenosShaderHeader.html#a29d93203aa226c78fc4fdfaefd1a4e5d">XenosShaderHeader::magic</a></div><div class="ttdeci">u32 magic</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00113">xe.h:113</a></div></div>
<div class="ttc" id="astructXenosShaderHeader_html_ab4aed78e6d69501e4bc2c5a5e4455ca9"><div class="ttname"><a href="structXenosShaderHeader.html#ab4aed78e6d69501e4bc2c5a5e4455ca9">XenosShaderHeader::offset</a></div><div class="ttdeci">u32 offset</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00114">xe.h:114</a></div></div>
<div class="ttc" id="astructXenosShaderHeader_html_ab78a235eaefed92a737e8467c0eaec07"><div class="ttname"><a href="structXenosShaderHeader.html#ab78a235eaefed92a737e8467c0eaec07">XenosShaderHeader::off_constants</a></div><div class="ttdeci">u32 off_constants</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00118">xe.h:118</a></div></div>
<div class="ttc" id="astructXenosShaderHeader_html_abd272ce071d694fa8b9bda261226b46b"><div class="ttname"><a href="structXenosShaderHeader.html#abd272ce071d694fa8b9bda261226b46b">XenosShaderHeader::off_shader</a></div><div class="ttdeci">u32 off_shader</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00118">xe.h:118</a></div></div>
<div class="ttc" id="astructXenosShader_html"><div class="ttname"><a href="structXenosShader.html">XenosShader</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00101">xe.h:102</a></div></div>
<div class="ttc" id="astructXenosShader_html_a23380a5a5b7bbfe261f7b7605b0f3765"><div class="ttname"><a href="structXenosShader.html#a23380a5a5b7bbfe261f7b7605b0f3765">XenosShader::context_misc</a></div><div class="ttdeci">u32 context_misc</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00106">xe.h:106</a></div></div>
<div class="ttc" id="astructXenosShader_html_aacb8e2e5bbba3ccc61d4db33ada6d547"><div class="ttname"><a href="structXenosShader.html#aacb8e2e5bbba3ccc61d4db33ada6d547">XenosShader::shader_phys</a></div><div class="ttdeci">u32 shader_phys[XE_SHADER_MAX_INSTANCES]</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00106">xe.h:106</a></div></div>
<div class="ttc" id="astructXenosShader_html_ab42397c513daf6edb219d30a02bc09e2"><div class="ttname"><a href="structXenosShader.html#ab42397c513daf6edb219d30a02bc09e2">XenosShader::shader</a></div><div class="ttdeci">void * shader</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00103">xe.h:103</a></div></div>
<div class="ttc" id="astructXenosShader_html_ab4e16274fa411ef2bffa58e1db61944f"><div class="ttname"><a href="structXenosShader.html#ab4e16274fa411ef2bffa58e1db61944f">XenosShader::program_control</a></div><div class="ttdeci">u32 program_control</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00106">xe.h:106</a></div></div>
<div class="ttc" id="astructXenosShader_html_aca8a4b952e0d0d4be317c361bdeabe53"><div class="ttname"><a href="structXenosShader.html#aca8a4b952e0d0d4be317c361bdeabe53">XenosShader::shader_phys_size</a></div><div class="ttdeci">u32 shader_phys_size</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00106">xe.h:106</a></div></div>
<div class="ttc" id="astructXenosShader_html_aeda3efe356452775fa30af6ea34a3208"><div class="ttname"><a href="structXenosShader.html#aeda3efe356452775fa30af6ea34a3208">XenosShader::shader_instance</a></div><div class="ttdeci">void * shader_instance[XE_SHADER_MAX_INSTANCES]</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00107">xe.h:107</a></div></div>
<div class="ttc" id="astructXenosSurface_html"><div class="ttname"><a href="structXenosSurface.html">XenosSurface</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00199">xe.h:200</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a06bff914b143e8b9870e67e13b43f955"><div class="ttname"><a href="structXenosSurface.html#a06bff914b143e8b9870e67e13b43f955">XenosSurface::use_filtering</a></div><div class="ttdeci">int use_filtering</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00205">xe.h:205</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a0728305ca4c69e58bdfefe8dbe9b4c08"><div class="ttname"><a href="structXenosSurface.html#a0728305ca4c69e58bdfefe8dbe9b4c08">XenosSurface::lock</a></div><div class="ttdeci">struct XenosLock lock</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00208">xe.h:210</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a0c5db35c8724a4bb2cf4b4cfb56b754f"><div class="ttname"><a href="structXenosSurface.html#a0c5db35c8724a4bb2cf4b4cfb56b754f">XenosSurface::u_addressing</a></div><div class="ttdeci">int u_addressing</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00206">xe.h:206</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a1294de461b41d2b7809f1c3b7e2f470d"><div class="ttname"><a href="structXenosSurface.html#a1294de461b41d2b7809f1c3b7e2f470d">XenosSurface::v_addressing</a></div><div class="ttdeci">int v_addressing</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00206">xe.h:206</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a2a2cce956672c43fed02418cdf4f250b"><div class="ttname"><a href="structXenosSurface.html#a2a2cce956672c43fed02418cdf4f250b">XenosSurface::wpitch</a></div><div class="ttdeci">int wpitch</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00201">xe.h:201</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a2f8e22fa20f36d4fa21621e8482670aa"><div class="ttname"><a href="structXenosSurface.html#a2f8e22fa20f36d4fa21621e8482670aa">XenosSurface::format</a></div><div class="ttdeci">int format</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00201">xe.h:201</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a37ad29b47ef5353d050bd233e264f118"><div class="ttname"><a href="structXenosSurface.html#a37ad29b47ef5353d050bd233e264f118">XenosSurface::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00201">xe.h:201</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a3b5e547ef855148cbb538393fde1662d"><div class="ttname"><a href="structXenosSurface.html#a3b5e547ef855148cbb538393fde1662d">XenosSurface::base</a></div><div class="ttdeci">void * base</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00208">xe.h:208</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a3c3fa473afb01ec62105a06757a3e800"><div class="ttname"><a href="structXenosSurface.html#a3c3fa473afb01ec62105a06757a3e800">XenosSurface::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00201">xe.h:201</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a6f39daa18705a12d1476597042cb832d"><div class="ttname"><a href="structXenosSurface.html#a6f39daa18705a12d1476597042cb832d">XenosSurface::bypp</a></div><div class="ttdeci">int bypp</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00203">xe.h:203</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a8c0ce7d06cf87921cf1dd862062d0907"><div class="ttname"><a href="structXenosSurface.html#a8c0ce7d06cf87921cf1dd862062d0907">XenosSurface::ptr</a></div><div class="ttdeci">u32 ptr</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00202">xe.h:202</a></div></div>
<div class="ttc" id="astructXenosSurface_html_a9119d81627bbb216120c3b5c1ce8b9ab"><div class="ttname"><a href="structXenosSurface.html#a9119d81627bbb216120c3b5c1ce8b9ab">XenosSurface::hpitch</a></div><div class="ttdeci">int hpitch</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00201">xe.h:201</a></div></div>
<div class="ttc" id="astructXenosSurface_html_acb5f82394a9dc4ee657d41976ea0c7af"><div class="ttname"><a href="structXenosSurface.html#acb5f82394a9dc4ee657d41976ea0c7af">XenosSurface::tiled</a></div><div class="ttdeci">int tiled</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00201">xe.h:201</a></div></div>
<div class="ttc" id="astructXenosSurface_html_ad57807a8fd7d1dab5a1db60f3182897c"><div class="ttname"><a href="structXenosSurface.html#ad57807a8fd7d1dab5a1db60f3182897c">XenosSurface::ptr_mip</a></div><div class="ttdeci">u32 ptr_mip</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00202">xe.h:202</a></div></div>
<div class="ttc" id="astructXenosVBFElement_html"><div class="ttname"><a href="structXenosVBFElement.html">XenosVBFElement</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00186">xe.h:187</a></div></div>
<div class="ttc" id="astructXenosVBFFormat_html"><div class="ttname"><a href="structXenosVBFFormat.html">XenosVBFFormat</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00193">xe.h:194</a></div></div>
<div class="ttc" id="astructXenosVertexBuffer_html"><div class="ttname"><a href="structXenosVertexBuffer.html">XenosVertexBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00213">xe.h:214</a></div></div>
<div class="ttc" id="astructXenosVertexBuffer_html_a0f0217ab61e2717c7edc6d6725c0231d"><div class="ttname"><a href="structXenosVertexBuffer.html#a0f0217ab61e2717c7edc6d6725c0231d">XenosVertexBuffer::lock</a></div><div class="ttdeci">struct XenosLock lock</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00218">xe.h:220</a></div></div>
<div class="ttc" id="astructXenosVertexBuffer_html_a8b0910bc9a46b4a886dbf7e5166e200c"><div class="ttname"><a href="structXenosVertexBuffer.html#a8b0910bc9a46b4a886dbf7e5166e200c">XenosVertexBuffer::next</a></div><div class="ttdeci">struct XenosVertexBuffer * next</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00222">xe.h:222</a></div></div>
<div class="ttc" id="astructXenosVertexBuffer_html_ac73b4731364a4485911a3f87a0bc77cb"><div class="ttname"><a href="structXenosVertexBuffer.html#ac73b4731364a4485911a3f87a0bc77cb">XenosVertexBuffer::phys_base</a></div><div class="ttdeci">u32 phys_base</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00215">xe.h:215</a></div></div>
<div class="ttc" id="astructXenosVertexBuffer_html_ad24f09012eda81375b804500f184b4b6"><div class="ttname"><a href="structXenosVertexBuffer.html#ad24f09012eda81375b804500f184b4b6">XenosVertexBuffer::base</a></div><div class="ttdeci">void * base</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00218">xe.h:218</a></div></div>
<div class="ttc" id="astructXenosVertexBuffer_html_adb4f994a6ba66dc76fa4c8522727b109"><div class="ttname"><a href="structXenosVertexBuffer.html#adb4f994a6ba66dc76fa4c8522727b109">XenosVertexBuffer::vertices</a></div><div class="ttdeci">int vertices</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00216">xe.h:216</a></div></div>
<div class="ttc" id="astructXenosVertexBuffer_html_ae32f393a84ee28f66f7aa8adfdfa5061"><div class="ttname"><a href="structXenosVertexBuffer.html#ae32f393a84ee28f66f7aa8adfdfa5061">XenosVertexBuffer::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00217">xe.h:217</a></div></div>
<div class="ttc" id="astructXenosVertexBuffer_html_afa1b8808a7af21b2f488a71b94fdf758"><div class="ttname"><a href="structXenosVertexBuffer.html#afa1b8808a7af21b2f488a71b94fdf758">XenosVertexBuffer::space</a></div><div class="ttdeci">int space</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00217">xe.h:217</a></div></div>
<div class="ttc" id="atime_8c_html_aad71e0928a114838a47715a20e592543"><div class="ttname"><a href="time_8c.html#aad71e0928a114838a47715a20e592543">udelay</a></div><div class="ttdeci">void udelay(int u)</div><div class="ttdef"><b>Definition:</b> <a href="time_8c_source.html#l00012">time.c:12</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="axe_8c_html_a01a6d3f8d76e91f2dab10a9e9a54e84a"><div class="ttname"><a href="xe_8c.html#a01a6d3f8d76e91f2dab10a9e9a54e84a">Xe_pSetBin</a></div><div class="ttdeci">void Xe_pSetBin(struct XenosDevice *xe, u32 mask_low, u32 select_low, u32 mask_hi, u32 select_hi)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00165">xe.c:165</a></div></div>
<div class="ttc" id="axe_8c_html_a055c3def62cceb5f4b9c323260761196"><div class="ttname"><a href="xe_8c.html#a055c3def62cceb5f4b9c323260761196">Xe_pResetRingbuffer</a></div><div class="ttdeci">void Xe_pResetRingbuffer(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00208">xe.c:208</a></div></div>
<div class="ttc" id="axe_8c_html_a0587123c9b0e84cd78f358fb235f9939"><div class="ttname"><a href="xe_8c.html#a0587123c9b0e84cd78f358fb235f9939">Xe_SetRenderTarget</a></div><div class="ttdeci">void Xe_SetRenderTarget(struct XenosDevice *xe, struct XenosSurface *rt)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00998">xe.c:998</a></div></div>
<div class="ttc" id="axe_8c_html_a05d0d57133110d41fa31bdbd868e0331"><div class="ttname"><a href="xe_8c.html#a05d0d57133110d41fa31bdbd868e0331">Xe_pDebugSync</a></div><div class="ttdeci">void Xe_pDebugSync(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01284">xe.c:1284</a></div></div>
<div class="ttc" id="axe_8c_html_a0782ee0c890d8b6bfc9457be52dbf8b7"><div class="ttname"><a href="xe_8c.html#a0782ee0c890d8b6bfc9457be52dbf8b7">Xe_SetStencilFunc</a></div><div class="ttdeci">void Xe_SetStencilFunc(struct XenosDevice *xe, int bfff, unsigned int func)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01534">xe.c:1534</a></div></div>
<div class="ttc" id="axe_8c_html_a098cab3cb268904ae446e71b866652f7"><div class="ttname"><a href="xe_8c.html#a098cab3cb268904ae446e71b866652f7">Xe_pUploadShader</a></div><div class="ttdeci">void Xe_pUploadShader(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01378">xe.c:1378</a></div></div>
<div class="ttc" id="axe_8c_html_a0bbf592bfe19fa27da6f4835df2ad19a"><div class="ttname"><a href="xe_8c.html#a0bbf592bfe19fa27da6f4835df2ad19a">Xe_pInit1</a></div><div class="ttdeci">void Xe_pInit1(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00270">xe.c:270</a></div></div>
<div class="ttc" id="axe_8c_html_a1074621d2c8e53c05f5e8adbee1c4867"><div class="ttname"><a href="xe_8c.html#a1074621d2c8e53c05f5e8adbee1c4867">Xe_pSetState</a></div><div class="ttdeci">void Xe_pSetState(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01688">xe.c:1688</a></div></div>
<div class="ttc" id="axe_8c_html_a108a49e58076e1f2ca624a3f38ebb5c9"><div class="ttname"><a href="xe_8c.html#a108a49e58076e1f2ca624a3f38ebb5c9">stat_alu_uploaded</a></div><div class="ttdeci">int stat_alu_uploaded</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01308">xe.c:1308</a></div></div>
<div class="ttc" id="axe_8c_html_a114e658e3bf343ccd5b060e965da0bf5"><div class="ttname"><a href="xe_8c.html#a114e658e3bf343ccd5b060e965da0bf5">Xe_InstantiateShader</a></div><div class="ttdeci">void Xe_InstantiateShader(struct XenosDevice *xe, struct XenosShader *sh, unsigned int index)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00935">xe.c:935</a></div></div>
<div class="ttc" id="axe_8c_html_a122845af05f064aa50ffdfeb035e5bf4"><div class="ttname"><a href="xe_8c.html#a122845af05f064aa50ffdfeb035e5bf4">Xe_GetFramebufferSurface</a></div><div class="ttdeci">struct XenosSurface * Xe_GetFramebufferSurface(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01252">xe.c:1252</a></div></div>
<div class="ttc" id="axe_8c_html_a12cb11299e780a91466da84c5e4d593f"><div class="ttname"><a href="xe_8c.html#a12cb11299e780a91466da84c5e4d593f">Xe_Draw</a></div><div class="ttdeci">void Xe_Draw(struct XenosDevice *xe, struct XenosVertexBuffer *vb, struct XenosIndexBuffer *ib)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01880">xe.c:1880</a></div></div>
<div class="ttc" id="axe_8c_html_a142acf3f9cc5ff6eacf3fb574da48012"><div class="ttname"><a href="xe_8c.html#a142acf3f9cc5ff6eacf3fb574da48012">Xe_pUploadClipPlane</a></div><div class="ttdeci">void Xe_pUploadClipPlane(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01358">xe.c:1358</a></div></div>
<div class="ttc" id="axe_8c_html_a14f8d48249f62f80f33f9d27eba250cc"><div class="ttname"><a href="xe_8c.html#a14f8d48249f62f80f33f9d27eba250cc">RINGBUFFER_SECONDARY_SIZE</a></div><div class="ttdeci">#define RINGBUFFER_SECONDARY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00022">xe.c:22</a></div></div>
<div class="ttc" id="axe_8c_html_a15446a9973475165c9e465940335a56c"><div class="ttname"><a href="xe_8c.html#a15446a9973475165c9e465940335a56c">Xe_VBPut</a></div><div class="ttdeci">void Xe_VBPut(struct XenosDevice *xe, void *data, int len)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01831">xe.c:1831</a></div></div>
<div class="ttc" id="axe_8c_html_a16a335ee8b58dfc700f8ce0a2561c2d0"><div class="ttname"><a href="xe_8c.html#a16a335ee8b58dfc700f8ce0a2561c2d0">Xe_pAlloc</a></div><div class="ttdeci">void * Xe_pAlloc(struct XenosDevice *xe, u32 *phys, int size, int align)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00062">xe.c:62</a></div></div>
<div class="ttc" id="axe_8c_html_a16f3cb537291c62e5db0afb244dd7dd5"><div class="ttname"><a href="xe_8c.html#a16f3cb537291c62e5db0afb244dd7dd5">VERTEX_FETCH</a></div><div class="ttdeci">void VERTEX_FETCH(u32 *dst, u32 base, int len)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01181">xe.c:1181</a></div></div>
<div class="ttc" id="axe_8c_html_a17d00dca943827ec2f90b5353a3038eb"><div class="ttname"><a href="xe_8c.html#a17d00dca943827ec2f90b5353a3038eb">Xe_pGInit7</a></div><div class="ttdeci">void Xe_pGInit7(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00509">xe.c:509</a></div></div>
<div class="ttc" id="axe_8c_html_a1aae8f579a667b4fbaea06b42da6f895"><div class="ttname"><a href="xe_8c.html#a1aae8f579a667b4fbaea06b42da6f895">Xe_SetZWrite</a></div><div class="ttdeci">void Xe_SetZWrite(struct XenosDevice *xe, int zw)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01429">xe.c:1429</a></div></div>
<div class="ttc" id="axe_8c_html_a1c5cba34547fc2fc94fb76fdaa345691"><div class="ttname"><a href="xe_8c.html#a1c5cba34547fc2fc94fb76fdaa345691">Xe_CreateVertexBuffer</a></div><div class="ttdeci">struct XenosVertexBuffer * Xe_CreateVertexBuffer(struct XenosDevice *xe, int size)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01763">xe.c:1763</a></div></div>
<div class="ttc" id="axe_8c_html_a1c9096481305fe28d7f589519f110c26"><div class="ttname"><a href="xe_8c.html#a1c9096481305fe28d7f589519f110c26">Xe_SetZEnable</a></div><div class="ttdeci">void Xe_SetZEnable(struct XenosDevice *xe, int ze)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01435">xe.c:1435</a></div></div>
<div class="ttc" id="axe_8c_html_a1e52e85c77dceba768bdd848b96474d7"><div class="ttname"><a href="xe_8c.html#a1e52e85c77dceba768bdd848b96474d7">RINGBUFFER_PRIMARY_SIZE</a></div><div class="ttdeci">#define RINGBUFFER_PRIMARY_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00021">xe.c:21</a></div></div>
<div class="ttc" id="axe_8c_html_a1f0bc20caaf2582ec7cec94a236cd78c"><div class="ttname"><a href="xe_8c.html#a1f0bc20caaf2582ec7cec94a236cd78c">CP_PACKET0</a></div><div class="ttdeci">#define CP_PACKET0(reg, n)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00028">xe.c:28</a></div></div>
<div class="ttc" id="axe_8c_html_a20211726f38a35178fdda77be8c80a94"><div class="ttname"><a href="xe_8c.html#a20211726f38a35178fdda77be8c80a94">Xe_pSetupRingbuffer</a></div><div class="ttdeci">void Xe_pSetupRingbuffer(struct XenosDevice *xe, u32 buffer_base, u32 size_in_l2qw)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00216">xe.c:216</a></div></div>
<div class="ttc" id="axe_8c_html_a217c74444f1a1af2620c0d8ae79be15e"><div class="ttname"><a href="xe_8c.html#a217c74444f1a1af2620c0d8ae79be15e">Xe_Surface_Unlock</a></div><div class="ttdeci">void Xe_Surface_Unlock(struct XenosDevice *xe, struct XenosSurface *surface)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02135">xe.c:2135</a></div></div>
<div class="ttc" id="axe_8c_html_a22012c3497c5771d98c508e5251eb01b"><div class="ttname"><a href="xe_8c.html#a22012c3497c5771d98c508e5251eb01b">Xe_DirtyAluConstant</a></div><div class="ttdeci">void Xe_DirtyAluConstant(struct XenosDevice *xe, int base, int len)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00570">xe.c:570</a></div></div>
<div class="ttc" id="axe_8c_html_a25e90fac6513c5a69c89970435bd0c10"><div class="ttname"><a href="xe_8c.html#a25e90fac6513c5a69c89970435bd0c10">Xe_GetShaderLength</a></div><div class="ttdeci">int Xe_GetShaderLength(struct XenosDevice *xe, void *sh)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00949">xe.c:949</a></div></div>
<div class="ttc" id="axe_8c_html_a28638d36d7ba8cd7c60cf31903a7029e"><div class="ttname"><a href="xe_8c.html#a28638d36d7ba8cd7c60cf31903a7029e">Xe_VBFCalcStride</a></div><div class="ttdeci">int Xe_VBFCalcStride(struct XenosDevice *xe, const struct XenosVBFFormat *fmt)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00723">xe.c:723</a></div></div>
<div class="ttc" id="axe_8c_html_a2cfe14e84f083a5e4f6cc1671b9bf86f"><div class="ttname"><a href="xe_8c.html#a2cfe14e84f083a5e4f6cc1671b9bf86f">Xe_InvalidateState</a></div><div class="ttdeci">void Xe_InvalidateState(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01657">xe.c:1657</a></div></div>
<div class="ttc" id="axe_8c_html_a2e0812aaa138eeaad90c128f161c2087"><div class="ttname"><a href="xe_8c.html#a2e0812aaa138eeaad90c128f161c2087">Xe_DirtyFetch</a></div><div class="ttdeci">void Xe_DirtyFetch(struct XenosDevice *xe, int base, int len)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00583">xe.c:583</a></div></div>
<div class="ttc" id="axe_8c_html_a2f042864a152a89e079737d3bd0b18e1"><div class="ttname"><a href="xe_8c.html#a2f042864a152a89e079737d3bd0b18e1">Xe_DrawIndexedPrimitive</a></div><div class="ttdeci">void Xe_DrawIndexedPrimitive(struct XenosDevice *xe, int type, int base_index, int min_index, int num_vertices, int start_index, int primitive_count)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01926">xe.c:1926</a></div></div>
<div class="ttc" id="axe_8c_html_a2fa8d8cd213d06c313fbc3f837806dc6"><div class="ttname"><a href="xe_8c.html#a2fa8d8cd213d06c313fbc3f837806dc6">Xe_VBPoolAlloc</a></div><div class="ttdeci">struct XenosVertexBuffer * Xe_VBPoolAlloc(struct XenosDevice *xe, int size)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01783">xe.c:1783</a></div></div>
<div class="ttc" id="axe_8c_html_a3165e311f334ff223f519ba7d4ec72f5"><div class="ttname"><a href="xe_8c.html#a3165e311f334ff223f519ba7d4ec72f5">Xe_pUploadShaderConstants</a></div><div class="ttdeci">void Xe_pUploadShaderConstants(struct XenosDevice *xe, struct XenosShader *s)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00631">xe.c:631</a></div></div>
<div class="ttc" id="axe_8c_html_a32d84e1a71f3bb0de21a887505e081c5"><div class="ttname"><a href="xe_8c.html#a32d84e1a71f3bb0de21a887505e081c5">Xe_SetStencilEnable</a></div><div class="ttdeci">void Xe_SetStencilEnable(struct XenosDevice *xe, unsigned int enable)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01550">xe.c:1550</a></div></div>
<div class="ttc" id="axe_8c_html_a36fd1914180a2ebf6233035b38d8a8cf"><div class="ttname"><a href="xe_8c.html#a36fd1914180a2ebf6233035b38d8a8cf">SCRATCH_WRITEBACK</a></div><div class="ttdeci">#define SCRATCH_WRITEBACK</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00019">xe.c:19</a></div></div>
<div class="ttc" id="axe_8c_html_a39a8600fa446dbb4f68e3f047a7c9d89"><div class="ttname"><a href="xe_8c.html#a39a8600fa446dbb4f68e3f047a7c9d89">Xe_SetVertexShaderConstantB</a></div><div class="ttdeci">void Xe_SetVertexShaderConstantB(struct XenosDevice *xe, int index, int value)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02038">xe.c:2038</a></div></div>
<div class="ttc" id="axe_8c_html_a3c7f03846774ca639d8c2f8f0aeee164"><div class="ttname"><a href="xe_8c.html#a3c7f03846774ca639d8c2f8f0aeee164">Xe_pInvalidateGpuCache_Primary</a></div><div class="ttdeci">void Xe_pInvalidateGpuCache_Primary(struct XenosDevice *xe, int base, int size)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00083">xe.c:83</a></div></div>
<div class="ttc" id="axe_8c_html_a3ef6904a9e9ae1cc33da92a2a357296b"><div class="ttname"><a href="xe_8c.html#a3ef6904a9e9ae1cc33da92a2a357296b">Xe_pLoadShader</a></div><div class="ttdeci">void Xe_pLoadShader(struct XenosDevice *xe, int base, int type, int size)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01210">xe.c:1210</a></div></div>
<div class="ttc" id="axe_8c_html_a400076d66d8a5bf09f03aab2f65be578"><div class="ttname"><a href="xe_8c.html#a400076d66d8a5bf09f03aab2f65be578">Xe_pGInit9</a></div><div class="ttdeci">void Xe_pGInit9(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00522">xe.c:522</a></div></div>
<div class="ttc" id="axe_8c_html_a4478c173b672164ba5d4c4dd11e6063c"><div class="ttname"><a href="xe_8c.html#a4478c173b672164ba5d4c4dd11e6063c">Xe_SetCullMode</a></div><div class="ttdeci">void Xe_SetCullMode(struct XenosDevice *xe, unsigned int cullmode)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01505">xe.c:1505</a></div></div>
<div class="ttc" id="axe_8c_html_a44d836e462ef00fdc7a9b4a341dea157"><div class="ttname"><a href="xe_8c.html#a44d836e462ef00fdc7a9b4a341dea157">Xe_pGInit4</a></div><div class="ttdeci">void Xe_pGInit4(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00472">xe.c:472</a></div></div>
<div class="ttc" id="axe_8c_html_a48b5d53f5a1899f83944e81c800387ca"><div class="ttname"><a href="xe_8c.html#a48b5d53f5a1899f83944e81c800387ca">xenos_ucode1</a></div><div class="ttdeci">u32 xenos_ucode1[]</div><div class="ttdef"><b>Definition:</b> <a href="ucode_8c_source.html#l00025">ucode.c:25</a></div></div>
<div class="ttc" id="axe_8c_html_a4950cf006b785f9b19d7976875663541"><div class="ttname"><a href="xe_8c.html#a4950cf006b785f9b19d7976875663541">Xe_ResolveInto</a></div><div class="ttdeci">void Xe_ResolveInto(struct XenosDevice *xe, struct XenosSurface *surface, int source, int clear)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01069">xe.c:1069</a></div></div>
<div class="ttc" id="axe_8c_html_a4a224fba44b5788efdbf03e4dde8195f"><div class="ttname"><a href="xe_8c.html#a4a224fba44b5788efdbf03e4dde8195f">Xe_SetSrcBlend</a></div><div class="ttdeci">void Xe_SetSrcBlend(struct XenosDevice *xe, unsigned int blend)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01457">xe.c:1457</a></div></div>
<div class="ttc" id="axe_8c_html_a4a5b5c9eab46184d17d17dddb71e6c39"><div class="ttname"><a href="xe_8c.html#a4a5b5c9eab46184d17d17dddb71e6c39">Xe_pUnlock</a></div><div class="ttdeci">void Xe_pUnlock(struct XenosDevice *xe, struct XenosLock *lock)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00752">xe.c:752</a></div></div>
<div class="ttc" id="axe_8c_html_a4b2a431c12071c9a14fef5548bf7bb98"><div class="ttname"><a href="xe_8c.html#a4b2a431c12071c9a14fef5548bf7bb98">WRITEBACK_ZONE_SIZE</a></div><div class="ttdeci">#define WRITEBACK_ZONE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00016">xe.c:16</a></div></div>
<div class="ttc" id="axe_8c_html_a4b86425920f4d6b00f52287be1fed5d0"><div class="ttname"><a href="xe_8c.html#a4b86425920f4d6b00f52287be1fed5d0">Xe_DestroyTexture</a></div><div class="ttdeci">void Xe_DestroyTexture(struct XenosDevice *xe, struct XenosSurface *surface)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02102">xe.c:2102</a></div></div>
<div class="ttc" id="axe_8c_html_a4c9b1df3d10671a914873715e2bd62e0"><div class="ttname"><a href="xe_8c.html#a4c9b1df3d10671a914873715e2bd62e0">Xe_pRBKick</a></div><div class="ttdeci">void Xe_pRBKick(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00117">xe.c:117</a></div></div>
<div class="ttc" id="axe_8c_html_a4f8a5bf7fe958471884c2bb23a447c33"><div class="ttname"><a href="xe_8c.html#a4f8a5bf7fe958471884c2bb23a447c33">Xe_pGInit10</a></div><div class="ttdeci">void Xe_pGInit10(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00540">xe.c:540</a></div></div>
<div class="ttc" id="axe_8c_html_a5024891c4b79fdb11b8f5c31586e0ec2"><div class="ttname"><a href="xe_8c.html#a5024891c4b79fdb11b8f5c31586e0ec2">Xe_SetStencilOp</a></div><div class="ttdeci">void Xe_SetStencilOp(struct XenosDevice *xe, int bfff, int fail, int zfail, int pass)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01558">xe.c:1558</a></div></div>
<div class="ttc" id="axe_8c_html_a50a22b0e7cee80001d12a7a7fbeccea6"><div class="ttname"><a href="xe_8c.html#a50a22b0e7cee80001d12a7a7fbeccea6">Xe_SetPixelShaderConstantB</a></div><div class="ttdeci">void Xe_SetPixelShaderConstantB(struct XenosDevice *xe, int index, int value)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02051">xe.c:2051</a></div></div>
<div class="ttc" id="axe_8c_html_a50a647c36422025018e6e9fbb5f7b009"><div class="ttname"><a href="xe_8c.html#a50a647c36422025018e6e9fbb5f7b009">Xe_pUploadIntegerConstants</a></div><div class="ttdeci">void Xe_pUploadIntegerConstants(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01365">xe.c:1365</a></div></div>
<div class="ttc" id="axe_8c_html_a519992de13aacc8dd53a40913bc8df7e"><div class="ttname"><a href="xe_8c.html#a519992de13aacc8dd53a40913bc8df7e">Xe_Sync</a></div><div class="ttdeci">void Xe_Sync(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01302">xe.c:1302</a></div></div>
<div class="ttc" id="axe_8c_html_a52bd0c4d8814797499f7596427c1132e"><div class="ttname"><a href="xe_8c.html#a52bd0c4d8814797499f7596427c1132e">Xe_SetBlendControl</a></div><div class="ttdeci">void Xe_SetBlendControl(struct XenosDevice *xe, int col_src, int col_op, int col_dst, int alpha_src, int alpha_op, int alpha_dst)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01451">xe.c:1451</a></div></div>
<div class="ttc" id="axe_8c_html_a552745fc9211e54dde9e6571088ff35f"><div class="ttname"><a href="xe_8c.html#a552745fc9211e54dde9e6571088ff35f">Xe_pGInit5</a></div><div class="ttdeci">void Xe_pGInit5(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00482">xe.c:482</a></div></div>
<div class="ttc" id="axe_8c_html_a56bbc212ee5d068ad7dc8f8ab0b8e92f"><div class="ttname"><a href="xe_8c.html#a56bbc212ee5d068ad7dc8f8ab0b8e92f">Xe_DestroyVertexBuffer</a></div><div class="ttdeci">void Xe_DestroyVertexBuffer(struct XenosDevice *xe, struct XenosVertexBuffer *vb)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01777">xe.c:1777</a></div></div>
<div class="ttc" id="axe_8c_html_a593748a125a6b5df7ca406fdad1e21dc"><div class="ttname"><a href="xe_8c.html#a593748a125a6b5df7ca406fdad1e21dc">Xe_DrawPrimitive</a></div><div class="ttdeci">void Xe_DrawPrimitive(struct XenosDevice *xe, int type, int start, int primitive_count)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01943">xe.c:1943</a></div></div>
<div class="ttc" id="axe_8c_html_a594ae9fbfb215379c49f00bc62f2aee0"><div class="ttname"><a href="xe_8c.html#a594ae9fbfb215379c49f00bc62f2aee0">Xe_VBReclaim</a></div><div class="ttdeci">void Xe_VBReclaim(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01814">xe.c:1814</a></div></div>
<div class="ttc" id="axe_8c_html_a59d4ef563e2353b966cd8d515d65ab18"><div class="ttname"><a href="xe_8c.html#a59d4ef563e2353b966cd8d515d65ab18">Xe_SetDestBlend</a></div><div class="ttdeci">void Xe_SetDestBlend(struct XenosDevice *xe, unsigned int blend)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01465">xe.c:1465</a></div></div>
<div class="ttc" id="axe_8c_html_a5b7282ee28d70874fd1d3dbb5fecebac"><div class="ttname"><a href="xe_8c.html#a5b7282ee28d70874fd1d3dbb5fecebac">VBPOOL_NUM_TRIANGLES</a></div><div class="ttdeci">#define VBPOOL_NUM_TRIANGLES</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00033">xe.c:33</a></div></div>
<div class="ttc" id="axe_8c_html_a5c034c5939d677966f5dc6e7e08e38a6"><div class="ttname"><a href="xe_8c.html#a5c034c5939d677966f5dc6e7e08e38a6">Xe_SetSrcBlendAlpha</a></div><div class="ttdeci">void Xe_SetSrcBlendAlpha(struct XenosDevice *xe, unsigned int blend)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01481">xe.c:1481</a></div></div>
<div class="ttc" id="axe_8c_html_a5eeac9f3b1f365e8d1e905e99f5b82c7"><div class="ttname"><a href="xe_8c.html#a5eeac9f3b1f365e8d1e905e99f5b82c7">xenos_ucode0</a></div><div class="ttdeci">u32 xenos_ucode0[]</div><div class="ttdef"><b>Definition:</b> <a href="ucode_8c_source.html#l00003">ucode.c:3</a></div></div>
<div class="ttc" id="axe_8c_html_a663852c01440758b416c5a8e792871ad"><div class="ttname"><a href="xe_8c.html#a663852c01440758b416c5a8e792871ad">Xe_VB_Lock</a></div><div class="ttdeci">void * Xe_VB_Lock(struct XenosDevice *xe, struct XenosVertexBuffer *vb, int offset, int size, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01991">xe.c:1991</a></div></div>
<div class="ttc" id="axe_8c_html_a667e9d4feeb127ab9ab8efe983a157eb"><div class="ttname"><a href="xe_8c.html#a667e9d4feeb127ab9ab8efe983a157eb">Xe_SetClearColor</a></div><div class="ttdeci">void Xe_SetClearColor(struct XenosDevice *xe, u32 clearcolor)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01758">xe.c:1758</a></div></div>
<div class="ttc" id="axe_8c_html_a66e8fe5e5f98fed85cdb6ee575331672"><div class="ttname"><a href="xe_8c.html#a66e8fe5e5f98fed85cdb6ee575331672">Xe_pGInit0</a></div><div class="ttdeci">void Xe_pGInit0(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00398">xe.c:398</a></div></div>
<div class="ttc" id="axe_8c_html_a67d1849f7a5021247f369c6b5b98e336"><div class="ttname"><a href="xe_8c.html#a67d1849f7a5021247f369c6b5b98e336">Xe_pStep</a></div><div class="ttdeci">void Xe_pStep(struct XenosDevice *xe, int x)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01228">xe.c:1228</a></div></div>
<div class="ttc" id="axe_8c_html_a6b0e50297876dd636264ca6e476d1c63"><div class="ttname"><a href="xe_8c.html#a6b0e50297876dd636264ca6e476d1c63">Xe_SetAlphaTestEnable</a></div><div class="ttdeci">void Xe_SetAlphaTestEnable(struct XenosDevice *xe, int enable)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01513">xe.c:1513</a></div></div>
<div class="ttc" id="axe_8c_html_a6c1ce46f457511267c72c80fa84def2e"><div class="ttname"><a href="xe_8c.html#a6c1ce46f457511267c72c80fa84def2e">Xe_pUploadFetchConstants</a></div><div class="ttdeci">void Xe_pUploadFetchConstants(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01334">xe.c:1334</a></div></div>
<div class="ttc" id="axe_8c_html_a6cd660db1b7c9024564a3e954ff4b66c"><div class="ttname"><a href="xe_8c.html#a6cd660db1b7c9024564a3e954ff4b66c">Xe_pWaitUntilIdle</a></div><div class="ttdeci">void Xe_pWaitUntilIdle(struct XenosDevice *xe, u32 what)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00177">xe.c:177</a></div></div>
<div class="ttc" id="axe_8c_html_a6cfc05da182e008b9192decbd1279af2"><div class="ttname"><a href="xe_8c.html#a6cfc05da182e008b9192decbd1279af2">Xe_IB_Lock</a></div><div class="ttdeci">void * Xe_IB_Lock(struct XenosDevice *xe, struct XenosIndexBuffer *ib, int offset, int size, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02002">xe.c:2002</a></div></div>
<div class="ttc" id="axe_8c_html_a6eac65a79d69b5f1f8e96758e3ea675c"><div class="ttname"><a href="xe_8c.html#a6eac65a79d69b5f1f8e96758e3ea675c">Xe_Init</a></div><div class="ttdeci">void Xe_Init(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00956">xe.c:956</a></div></div>
<div class="ttc" id="axe_8c_html_a71d385a3368ca9f36a4e0f98feecc9e9"><div class="ttname"><a href="xe_8c.html#a71d385a3368ca9f36a4e0f98feecc9e9">Xe_pLock</a></div><div class="ttdeci">void Xe_pLock(struct XenosDevice *xe, struct XenosLock *lock, void *addr, u32 phys, int size, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00764">xe.c:764</a></div></div>
<div class="ttc" id="axe_8c_html_a7310991c4088dbf94f0c28ea1c442806"><div class="ttname"><a href="xe_8c.html#a7310991c4088dbf94f0c28ea1c442806">Xe_SetScissor</a></div><div class="ttdeci">void Xe_SetScissor(struct XenosDevice *xe, int enable, int left, int top, int right, int bottom)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01633">xe.c:1633</a></div></div>
<div class="ttc" id="axe_8c_html_a73be768034313cdd7e58c66d736b871c"><div class="ttname"><a href="xe_8c.html#a73be768034313cdd7e58c66d736b871c">Xe_Execute</a></div><div class="ttdeci">void Xe_Execute(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01278">xe.c:1278</a></div></div>
<div class="ttc" id="axe_8c_html_a742574a5ddabfcac3183fca80aca033e"><div class="ttname"><a href="xe_8c.html#a742574a5ddabfcac3183fca80aca033e">Xe_pSyncToDevice</a></div><div class="ttdeci">void Xe_pSyncToDevice(struct XenosDevice *xe, volatile void *data, int len)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00052">xe.c:52</a></div></div>
<div class="ttc" id="axe_8c_html_a74c5462d6acffcfe6cbc5090fda06a59"><div class="ttname"><a href="xe_8c.html#a74c5462d6acffcfe6cbc5090fda06a59">Xe_CreateIndexBuffer</a></div><div class="ttdeci">struct XenosIndexBuffer * Xe_CreateIndexBuffer(struct XenosDevice *xe, int length, int format)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01974">xe.c:1974</a></div></div>
<div class="ttc" id="axe_8c_html_a75159a51125ebf919844115d3a9b0081"><div class="ttname"><a href="xe_8c.html#a75159a51125ebf919844115d3a9b0081">Xe_pUploadControl</a></div><div class="ttdeci">void Xe_pUploadControl(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01372">xe.c:1372</a></div></div>
<div class="ttc" id="axe_8c_html_a77cb553e6482d965692ccd1525d4d21b"><div class="ttname"><a href="xe_8c.html#a77cb553e6482d965692ccd1525d4d21b">Xe_pSyncFromDevice</a></div><div class="ttdeci">void Xe_pSyncFromDevice(struct XenosDevice *xe, volatile void *data, int len)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00057">xe.c:57</a></div></div>
<div class="ttc" id="axe_8c_html_a77cd0f7ed86920608e638c8ad3868a39"><div class="ttname"><a href="xe_8c.html#a77cd0f7ed86920608e638c8ad3868a39">Xe_pVBFNrComponents</a></div><div class="ttdeci">int Xe_pVBFNrComponents(struct XenosDevice *xe, const struct XenosVBFElement *fmt)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00706">xe.c:706</a></div></div>
<div class="ttc" id="axe_8c_html_a78a772dfedeae087b634e32cfce72a42"><div class="ttname"><a href="xe_8c.html#a78a772dfedeae087b634e32cfce72a42">Xe_SetClipPlane</a></div><div class="ttdeci">void Xe_SetClipPlane(struct XenosDevice *xe, int idx, float *plane)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01650">xe.c:1650</a></div></div>
<div class="ttc" id="axe_8c_html_a78f2a59da96932334c95d2471301c5c2"><div class="ttname"><a href="xe_8c.html#a78f2a59da96932334c95d2471301c5c2">Xe_SetBlendOp</a></div><div class="ttdeci">void Xe_SetBlendOp(struct XenosDevice *xe, unsigned int blendop)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01473">xe.c:1473</a></div></div>
<div class="ttc" id="axe_8c_html_a7b34324dcd99fcd8589c701e26adfcb7"><div class="ttname"><a href="xe_8c.html#a7b34324dcd99fcd8589c701e26adfcb7">Xe_SetStreamSource</a></div><div class="ttdeci">void Xe_SetStreamSource(struct XenosDevice *xe, int index, struct XenosVertexBuffer *vb, int offset, int stride)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01959">xe.c:1959</a></div></div>
<div class="ttc" id="axe_8c_html_a7b3abd475f31964942225d6446cf696c"><div class="ttname"><a href="xe_8c.html#a7b3abd475f31964942225d6446cf696c">Xe_DestroyIndexBuffer</a></div><div class="ttdeci">void Xe_DestroyIndexBuffer(struct XenosDevice *xe, struct XenosIndexBuffer *ib)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01985">xe.c:1985</a></div></div>
<div class="ttc" id="axe_8c_html_a8136758e557f3fc9fdc2778d83c4df97"><div class="ttname"><a href="xe_8c.html#a8136758e557f3fc9fdc2778d83c4df97">Xe_SetStencilMask</a></div><div class="ttdeci">void Xe_SetStencilMask(struct XenosDevice *xe, int bfff, int mask)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01613">xe.c:1613</a></div></div>
<div class="ttc" id="axe_8c_html_a84492cf290294b480dcb689b83397e67"><div class="ttname"><a href="xe_8c.html#a84492cf290294b480dcb689b83397e67">Xe_IB_Unlock</a></div><div class="ttdeci">void Xe_IB_Unlock(struct XenosDevice *xe, struct XenosIndexBuffer *ib)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02008">xe.c:2008</a></div></div>
<div class="ttc" id="axe_8c_html_a85216864b3447187da28b33a3a679e10"><div class="ttname"><a href="xe_8c.html#a85216864b3447187da28b33a3a679e10">Xe_ShaderApplyVFetchPatches</a></div><div class="ttdeci">void Xe_ShaderApplyVFetchPatches(struct XenosDevice *xe, struct XenosShader *sh, unsigned int index, const struct XenosVBFFormat *fmt)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00788">xe.c:788</a></div></div>
<div class="ttc" id="axe_8c_html_a856a75e4007adfe8ab41429762fccc36"><div class="ttname"><a href="xe_8c.html#a856a75e4007adfe8ab41429762fccc36">Xe_CreateTexture</a></div><div class="ttdeci">struct XenosSurface * Xe_CreateTexture(struct XenosDevice *xe, unsigned int width, unsigned int height, unsigned int levels, int format, int tiled)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02066">xe.c:2066</a></div></div>
<div class="ttc" id="axe_8c_html_a86ffb2bba55eba0700b4257eabc8627c"><div class="ttname"><a href="xe_8c.html#a86ffb2bba55eba0700b4257eabc8627c">Xe_pGInit8</a></div><div class="ttdeci">void Xe_pGInit8(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00517">xe.c:517</a></div></div>
<div class="ttc" id="axe_8c_html_a895f9d60fe8a036d32c27e28b83ce880"><div class="ttname"><a href="xe_8c.html#a895f9d60fe8a036d32c27e28b83ce880">Xe_pSetClearValues</a></div><div class="ttdeci">void Xe_pSetClearValues(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01038">xe.c:1038</a></div></div>
<div class="ttc" id="axe_8c_html_a8b1f85cb8fd1dce42afda8962cbd4594"><div class="ttname"><a href="xe_8c.html#a8b1f85cb8fd1dce42afda8962cbd4594">Xe_pRBKickSegment</a></div><div class="ttdeci">void Xe_pRBKickSegment(struct XenosDevice *xe, int base, int len)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00108">xe.c:108</a></div></div>
<div class="ttc" id="axe_8c_html_a8d0103f078290a1ddf5a1b6bebac2f9c"><div class="ttname"><a href="xe_8c.html#a8d0103f078290a1ddf5a1b6bebac2f9c">Xe_pGInit2</a></div><div class="ttdeci">void Xe_pGInit2(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00454">xe.c:454</a></div></div>
<div class="ttc" id="axe_8c_html_a8d52fe66bc9d947946b86fff3fbb11dd"><div class="ttname"><a href="xe_8c.html#a8d52fe66bc9d947946b86fff3fbb11dd">Xe_SetFrameBufferSurface</a></div><div class="ttdeci">void Xe_SetFrameBufferSurface(struct XenosDevice *xe, struct XenosSurface *fb)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01257">xe.c:1257</a></div></div>
<div class="ttc" id="axe_8c_html_a8db8f14bcdd2ea0e71577ffb8186d961"><div class="ttname"><a href="xe_8c.html#a8db8f14bcdd2ea0e71577ffb8186d961">Xe_pAlign</a></div><div class="ttdeci">void Xe_pAlign(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01217">xe.c:1217</a></div></div>
<div class="ttc" id="axe_8c_html_a92c9072d582faa43a9109afa8527e66e"><div class="ttname"><a href="xe_8c.html#a92c9072d582faa43a9109afa8527e66e">Xe_SetFillMode</a></div><div class="ttdeci">void Xe_SetFillMode(struct XenosDevice *xe, int front, int back)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01441">xe.c:1441</a></div></div>
<div class="ttc" id="axe_8c_html_a932f987b4cb76e097e357dba2b19fa5b"><div class="ttname"><a href="xe_8c.html#a932f987b4cb76e097e357dba2b19fa5b">Xe_SetDestBlendAlpha</a></div><div class="ttdeci">void Xe_SetDestBlendAlpha(struct XenosDevice *xe, unsigned int blend)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01489">xe.c:1489</a></div></div>
<div class="ttc" id="axe_8c_html_a9465239cfb91c89c5e1251475496da85"><div class="ttname"><a href="xe_8c.html#a9465239cfb91c89c5e1251475496da85">Xe_pSetup</a></div><div class="ttdeci">void Xe_pSetup(struct XenosDevice *xe, u32 buffer_base, u32 buffer_size, const u32 *ucode0, const u32 *ucode1)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00336">xe.c:336</a></div></div>
<div class="ttc" id="axe_8c_html_a94b6184c03f4bcd1c5c17ce0cf390241"><div class="ttname"><a href="xe_8c.html#a94b6184c03f4bcd1c5c17ce0cf390241">Xe_Resolve</a></div><div class="ttdeci">void Xe_Resolve(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01175">xe.c:1175</a></div></div>
<div class="ttc" id="axe_8c_html_a95a65b40a2776c4063213fc4948ea483"><div class="ttname"><a href="xe_8c.html#a95a65b40a2776c4063213fc4948ea483">Xe_SetVertexShaderConstantF</a></div><div class="ttdeci">void Xe_SetVertexShaderConstantF(struct XenosDevice *xe, int start, const float *data, int count)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02013">xe.c:2013</a></div></div>
<div class="ttc" id="axe_8c_html_a95dfb868188c74525632fc5bcd74cd70"><div class="ttname"><a href="xe_8c.html#a95dfb868188c74525632fc5bcd74cd70">Xe_pRBMayKick</a></div><div class="ttdeci">void Xe_pRBMayKick(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00138">xe.c:138</a></div></div>
<div class="ttc" id="axe_8c_html_a96028be66849d315cd0e0ec6a7e49538"><div class="ttname"><a href="xe_8c.html#a96028be66849d315cd0e0ec6a7e49538">Xe_SetClipPlaneEnables</a></div><div class="ttdeci">void Xe_SetClipPlaneEnables(struct XenosDevice *xe, int enables)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01643">xe.c:1643</a></div></div>
<div class="ttc" id="axe_8c_html_a96c46d31a7b14aac78bb895dbadaaa2b"><div class="ttname"><a href="xe_8c.html#a96c46d31a7b14aac78bb895dbadaaa2b">Xe_LoadShaderFromMemory</a></div><div class="ttdeci">struct XenosShader * Xe_LoadShaderFromMemory(struct XenosDevice *xe, void *m)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00613">xe.c:613</a></div></div>
<div class="ttc" id="axe_8c_html_a98edd2f2a13288c5817953acb7733a89"><div class="ttname"><a href="xe_8c.html#a98edd2f2a13288c5817953acb7733a89">Xe_pEnableWriteback</a></div><div class="ttdeci">void Xe_pEnableWriteback(struct XenosDevice *xe, u32 addr, int blocksize)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00387">xe.c:387</a></div></div>
<div class="ttc" id="axe_8c_html_aa0826006ca0730d55c9af931781f6a48"><div class="ttname"><a href="xe_8c.html#aa0826006ca0730d55c9af931781f6a48">Xe_SetIndices</a></div><div class="ttdeci">void Xe_SetIndices(struct XenosDevice *xe, struct XenosIndexBuffer *ib)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01969">xe.c:1969</a></div></div>
<div class="ttc" id="axe_8c_html_aa280a76752e9901062b5dc566785d5d9"><div class="ttname"><a href="xe_8c.html#aa280a76752e9901062b5dc566785d5d9">Xe_pUploadALUConstants</a></div><div class="ttdeci">void Xe_pUploadALUConstants(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01310">xe.c:1310</a></div></div>
<div class="ttc" id="axe_8c_html_aa2fe77fc0320d348a4610ab629012f18"><div class="ttname"><a href="xe_8c.html#aa2fe77fc0320d348a4610ab629012f18">Xe_VBFCalcSize</a></div><div class="ttdeci">int Xe_VBFCalcSize(struct XenosDevice *xe, const struct XenosVBFElement *fmt)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00689">xe.c:689</a></div></div>
<div class="ttc" id="axe_8c_html_aa3a83a5a3acac7ca54b9add812bf6dc5"><div class="ttname"><a href="xe_8c.html#aa3a83a5a3acac7ca54b9add812bf6dc5">Xe_pReset</a></div><div class="ttdeci">void Xe_pReset(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00282">xe.c:282</a></div></div>
<div class="ttc" id="axe_8c_html_aa5cf9eae53adaaaee51c0f6d8e5a38b0"><div class="ttname"><a href="xe_8c.html#aa5cf9eae53adaaaee51c0f6d8e5a38b0">TEXTURE_FETCH</a></div><div class="ttdeci">void TEXTURE_FETCH(u32 *dst, u32 base, int width, int height, int pitch, int tiled, int format, u32 base_mip, int anisop, int filter, int uaddr, int vaddr)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01187">xe.c:1187</a></div></div>
<div class="ttc" id="axe_8c_html_aa6a6347e6097a86613431be9a69ff099"><div class="ttname"><a href="xe_8c.html#aa6a6347e6097a86613431be9a69ff099">Xe_IsVBlank</a></div><div class="ttdeci">int Xe_IsVBlank(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02141">xe.c:2141</a></div></div>
<div class="ttc" id="axe_8c_html_aa82ca43323b5fde116c1dc4b283ee8be"><div class="ttname"><a href="xe_8c.html#aa82ca43323b5fde116c1dc4b283ee8be">Xe_pBlockUntilIdle</a></div><div class="ttdeci">void Xe_pBlockUntilIdle(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01223">xe.c:1223</a></div></div>
<div class="ttc" id="axe_8c_html_aabd34addb97de558517e38363fdfce90"><div class="ttname"><a href="xe_8c.html#aabd34addb97de558517e38363fdfce90">Xe_VBBegin</a></div><div class="ttdeci">void Xe_VBBegin(struct XenosDevice *xe, int pitch)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01824">xe.c:1824</a></div></div>
<div class="ttc" id="axe_8c_html_aad3dca3db9242e0bedaf6da5ccfa2ab8"><div class="ttname"><a href="xe_8c.html#aad3dca3db9242e0bedaf6da5ccfa2ab8">Xe_pGInit6</a></div><div class="ttdeci">void Xe_pGInit6(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00500">xe.c:500</a></div></div>
<div class="ttc" id="axe_8c_html_ab5ff1ba8611660c2f21c561212ac0307"><div class="ttname"><a href="xe_8c.html#ab5ff1ba8611660c2f21c561212ac0307">Xe_pResetCP</a></div><div class="ttdeci">void Xe_pResetCP(struct XenosDevice *xe, u32 buffer_base, u32 size_in_l2qw)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00303">xe.c:303</a></div></div>
<div class="ttc" id="axe_8c_html_ab60c7b9bde57d4269d21b0c62da7db55"><div class="ttname"><a href="xe_8c.html#ab60c7b9bde57d4269d21b0c62da7db55">Xe_SetStencilRef</a></div><div class="ttdeci">void Xe_SetStencilRef(struct XenosDevice *xe, int bfff, int ref)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01603">xe.c:1603</a></div></div>
<div class="ttc" id="axe_8c_html_ab8de12323063692bb4e7dd276cf2d1e2"><div class="ttname"><a href="xe_8c.html#ab8de12323063692bb4e7dd276cf2d1e2">Xe_pDrawIndexedPrimitive</a></div><div class="ttdeci">void Xe_pDrawIndexedPrimitive(struct XenosDevice *xe, int primtype, int num_points, u32 indexbuffer, u32 indexbuffer_size, int indextype)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00190">xe.c:190</a></div></div>
<div class="ttc" id="axe_8c_html_abb5d6b4be4f8cbb438434074d1f7f844"><div class="ttname"><a href="xe_8c.html#abb5d6b4be4f8cbb438434074d1f7f844">Xe_SetBlendOpAlpha</a></div><div class="ttdeci">void Xe_SetBlendOpAlpha(struct XenosDevice *xe, unsigned int blendop)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01497">xe.c:1497</a></div></div>
<div class="ttc" id="axe_8c_html_abfe12fcd455ed03869288e396bc61424"><div class="ttname"><a href="xe_8c.html#abfe12fcd455ed03869288e396bc61424">Xe_Fatal</a></div><div class="ttdeci">void Xe_Fatal(struct XenosDevice *xe, const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01241">xe.c:1241</a></div></div>
<div class="ttc" id="axe_8c_html_ac0d1b869dfcb3207f17d05547228136e"><div class="ttname"><a href="xe_8c.html#ac0d1b869dfcb3207f17d05547228136e">Xe_pCalcVtxCount</a></div><div class="ttdeci">int Xe_pCalcVtxCount(struct XenosDevice *xe, int primtype, int primcnt)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01909">xe.c:1909</a></div></div>
<div class="ttc" id="axe_8c_html_ac10e741e1f2dc33f6385c0718da09452"><div class="ttname"><a href="xe_8c.html#ac10e741e1f2dc33f6385c0718da09452">Xe_pGInit3</a></div><div class="ttdeci">void Xe_pGInit3(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00464">xe.c:464</a></div></div>
<div class="ttc" id="axe_8c_html_ac19eb2e8ce8f0f0043709bcf51019a74"><div class="ttname"><a href="xe_8c.html#ac19eb2e8ce8f0f0043709bcf51019a74">Xe_Surface_LockRect</a></div><div class="ttdeci">void * Xe_Surface_LockRect(struct XenosDevice *xe, struct XenosSurface *surface, int x, int y, int w, int h, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02108">xe.c:2108</a></div></div>
<div class="ttc" id="axe_8c_html_ac1bbc2a8ef04451d3fba817e4965e54f"><div class="ttname"><a href="xe_8c.html#ac1bbc2a8ef04451d3fba817e4965e54f">Xe_SetPixelShaderConstantF</a></div><div class="ttdeci">void Xe_SetPixelShaderConstantF(struct XenosDevice *xe, int start, const float *data, int count)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l02025">xe.c:2025</a></div></div>
<div class="ttc" id="axe_8c_html_ac4352ef4560e6441950bfb88a91e333b"><div class="ttname"><a href="xe_8c.html#ac4352ef4560e6441950bfb88a91e333b">Xe_pFree</a></div><div class="ttdeci">void Xe_pFree(struct XenosDevice *xe, void *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00078">xe.c:78</a></div></div>
<div class="ttc" id="axe_8c_html_ac5b96afc1f116e00e2dd171c680227db"><div class="ttname"><a href="xe_8c.html#ac5b96afc1f116e00e2dd171c680227db">Xe_pSetEDRAMLayout</a></div><div class="ttdeci">void Xe_pSetEDRAMLayout(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01030">xe.c:1030</a></div></div>
<div class="ttc" id="axe_8c_html_ac8b56e8014904b0b79122b13306a6c95"><div class="ttname"><a href="xe_8c.html#ac8b56e8014904b0b79122b13306a6c95">Xe_pMasterInit</a></div><div class="ttdeci">void Xe_pMasterInit(struct XenosDevice *xe, u32 buffer_base)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00361">xe.c:361</a></div></div>
<div class="ttc" id="axe_8c_html_ac91d6557388670f22522375a87526e49"><div class="ttname"><a href="xe_8c.html#ac91d6557388670f22522375a87526e49">Xe_SetAlphaFunc</a></div><div class="ttdeci">void Xe_SetAlphaFunc(struct XenosDevice *xe, unsigned int func)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01520">xe.c:1520</a></div></div>
<div class="ttc" id="axe_8c_html_aca6e40586c4b55626cbb76347df05783"><div class="ttname"><a href="xe_8c.html#aca6e40586c4b55626cbb76347df05783">Xe_VBPoolAdd</a></div><div class="ttdeci">void Xe_VBPoolAdd(struct XenosDevice *xe, struct XenosVertexBuffer *vb)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01805">xe.c:1805</a></div></div>
<div class="ttc" id="axe_8c_html_acbe07a3c3fe2056125230c357f85b870"><div class="ttname"><a href="xe_8c.html#acbe07a3c3fe2056125230c357f85b870">SEGMENT_SIZE</a></div><div class="ttdeci">#define SEGMENT_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00136">xe.c:136</a></div></div>
<div class="ttc" id="axe_8c_html_accf840998e70b69d1074208b83889311"><div class="ttname"><a href="xe_8c.html#accf840998e70b69d1074208b83889311">Xe_pSetSurfaceClip</a></div><div class="ttdeci">void Xe_pSetSurfaceClip(struct XenosDevice *xe, int offset_x, int offset_y, int sc_left, int sc_top, int sc_right, int sc_bottom)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00157">xe.c:157</a></div></div>
<div class="ttc" id="axe_8c_html_acf540454d7d77578e6527e77f0f8593e"><div class="ttname"><a href="xe_8c.html#acf540454d7d77578e6527e77f0f8593e">Xe_VB_Unlock</a></div><div class="ttdeci">void Xe_VB_Unlock(struct XenosDevice *xe, struct XenosVertexBuffer *vb)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01997">xe.c:1997</a></div></div>
<div class="ttc" id="axe_8c_html_ad0cb86d65adda5dc0c70e97b4af4e893"><div class="ttname"><a href="xe_8c.html#ad0cb86d65adda5dc0c70e97b4af4e893">Xe_pStuff</a></div><div class="ttdeci">void Xe_pStuff(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01233">xe.c:1233</a></div></div>
<div class="ttc" id="axe_8c_html_ad17875fd52e82f52631d0ba71841a0c6"><div class="ttname"><a href="xe_8c.html#ad17875fd52e82f52631d0ba71841a0c6">RPTR_WRITEBACK</a></div><div class="ttdeci">#define RPTR_WRITEBACK</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00018">xe.c:18</a></div></div>
<div class="ttc" id="axe_8c_html_ad244ccb3a4f8d2b28c6893e4065edae7"><div class="ttname"><a href="xe_8c.html#ad244ccb3a4f8d2b28c6893e4065edae7">Xe_SetZFunc</a></div><div class="ttdeci">void Xe_SetZFunc(struct XenosDevice *xe, int z_func)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01423">xe.c:1423</a></div></div>
<div class="ttc" id="axe_8c_html_ad24f767c7606de29c590d52d1b6e8f32"><div class="ttname"><a href="xe_8c.html#ad24f767c7606de29c590d52d1b6e8f32">Xe_pSetIndexOffset</a></div><div class="ttdeci">void Xe_pSetIndexOffset(struct XenosDevice *xe, int offset)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00202">xe.c:202</a></div></div>
<div class="ttc" id="axe_8c_html_ad7fcc6e3a74b405a8fe34afed8cb2a1b"><div class="ttname"><a href="xe_8c.html#ad7fcc6e3a74b405a8fe34afed8cb2a1b">Xe_pInvalidateGpuCache</a></div><div class="ttdeci">void Xe_pInvalidateGpuCache(struct XenosDevice *xe, int base, int size)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00732">xe.c:732</a></div></div>
<div class="ttc" id="axe_8c_html_ad8905bfd34a32bd3b0a91c50422f151b"><div class="ttname"><a href="xe_8c.html#ad8905bfd34a32bd3b0a91c50422f151b">Xe_pWaitReady2</a></div><div class="ttdeci">void Xe_pWaitReady2(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00265">xe.c:265</a></div></div>
<div class="ttc" id="axe_8c_html_ad94675ce8c6b875790238fedaf2d2875"><div class="ttname"><a href="xe_8c.html#ad94675ce8c6b875790238fedaf2d2875">Xe_SetAlphaRef</a></div><div class="ttdeci">void Xe_SetAlphaRef(struct XenosDevice *xe, float alpharef)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01528">xe.c:1528</a></div></div>
<div class="ttc" id="axe_8c_html_ad951be34d648311192336a58098151e4"><div class="ttname"><a href="xe_8c.html#ad951be34d648311192336a58098151e4">Xe_SetStencilWriteMask</a></div><div class="ttdeci">void Xe_SetStencilWriteMask(struct XenosDevice *xe, int bfff, int writemask)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01623">xe.c:1623</a></div></div>
<div class="ttc" id="axe_8c_html_ad9d610ef4c83a5196b821c46bcf40f6e"><div class="ttname"><a href="xe_8c.html#ad9d610ef4c83a5196b821c46bcf40f6e">Xe_pRBCommitPrimary</a></div><div class="ttdeci">void Xe_pRBCommitPrimary(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00097">xe.c:97</a></div></div>
<div class="ttc" id="axe_8c_html_ad9f4b1a9f21649d889a4d2b9f9ac34b5"><div class="ttname"><a href="xe_8c.html#ad9f4b1a9f21649d889a4d2b9f9ac34b5">Xe_Clear</a></div><div class="ttdeci">void Xe_Clear(struct XenosDevice *xe, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01167">xe.c:1167</a></div></div>
<div class="ttc" id="axe_8c_html_adbe5b9a4f819eae0721fedc266c2efba"><div class="ttname"><a href="xe_8c.html#adbe5b9a4f819eae0721fedc266c2efba">Xe_pWaitReady</a></div><div class="ttdeci">void Xe_pWaitReady(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00255">xe.c:255</a></div></div>
<div class="ttc" id="axe_8c_html_ade9873ab3879dfff9ca1ab3e46d822c0"><div class="ttname"><a href="xe_8c.html#ade9873ab3879dfff9ca1ab3e46d822c0">Xe_VBEnd</a></div><div class="ttdeci">struct XenosVertexBuffer * Xe_VBEnd(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01863">xe.c:1863</a></div></div>
<div class="ttc" id="axe_8c_html_ae045bf92354fdabc753e7b085c59bcf5"><div class="ttname"><a href="xe_8c.html#ae045bf92354fdabc753e7b085c59bcf5">Xe_SetTexture</a></div><div class="ttdeci">void Xe_SetTexture(struct XenosDevice *xe, int index, struct XenosSurface *tex)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01748">xe.c:1748</a></div></div>
<div class="ttc" id="axe_8c_html_ae4ea7b1158727e8800aa063052adc929"><div class="ttname"><a href="xe_8c.html#ae4ea7b1158727e8800aa063052adc929">Xe_pRBAlloc</a></div><div class="ttdeci">u32 Xe_pRBAlloc(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00149">xe.c:149</a></div></div>
<div class="ttc" id="axe_8c_html_ae6db5e60d7221a0e0e66f501cc7c0089"><div class="ttname"><a href="xe_8c.html#ae6db5e60d7221a0e0e66f501cc7c0089">RINGBUFFER_SECONDARY_GUARD</a></div><div class="ttdeci">#define RINGBUFFER_SECONDARY_GUARD</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00023">xe.c:23</a></div></div>
<div class="ttc" id="axe_8c_html_ae707830b56b9d47df96ea5748f9d1438"><div class="ttname"><a href="xe_8c.html#ae707830b56b9d47df96ea5748f9d1438">Xe_SetShader</a></div><div class="ttdeci">void Xe_SetShader(struct XenosDevice *xe, int type, struct XenosShader *sh, int index)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01665">xe.c:1665</a></div></div>
<div class="ttc" id="axe_8c_html_ae8087e28129fa3648e5b535026a32d48"><div class="ttname"><a href="xe_8c.html#ae8087e28129fa3648e5b535026a32d48">Xe_pGInit1</a></div><div class="ttdeci">void Xe_pGInit1(struct XenosDevice *xe, int arg)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00443">xe.c:443</a></div></div>
<div class="ttc" id="axe_8c_html_aec08ede806de0cb7d2ed46b445051dff"><div class="ttname"><a href="xe_8c.html#aec08ede806de0cb7d2ed46b445051dff">Xe_pInitControl</a></div><div class="ttdeci">void Xe_pInitControl(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l01403">xe.c:1403</a></div></div>
<div class="ttc" id="axe_8c_html_aee3ee6fd258605e8405be1f945fa1ffa"><div class="ttname"><a href="xe_8c.html#aee3ee6fd258605e8405be1f945fa1ffa">Xe_pLoadUcodes</a></div><div class="ttdeci">void Xe_pLoadUcodes(struct XenosDevice *xe, const u32 *ucode0, const u32 *ucode1)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00224">xe.c:224</a></div></div>
<div class="ttc" id="axe_8c_html_af099fa48b2b0df29cd696f6383adc26c"><div class="ttname"><a href="xe_8c.html#af099fa48b2b0df29cd696f6383adc26c">Xe_pGInit</a></div><div class="ttdeci">void Xe_pGInit(struct XenosDevice *xe)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00554">xe.c:554</a></div></div>
<div class="ttc" id="axe_8c_html_af4b8029b20b8b522b88ff24c2e03fb70"><div class="ttname"><a href="xe_8c.html#af4b8029b20b8b522b88ff24c2e03fb70">Xe_LoadShader</a></div><div class="ttdeci">struct XenosShader * Xe_LoadShader(struct XenosDevice *xe, const char *filename)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00596">xe.c:596</a></div></div>
<div class="ttc" id="axe_8c_html_afb354cf68e83d5d4da64455399474ad0"><div class="ttname"><a href="xe_8c.html#afb354cf68e83d5d4da64455399474ad0">Xe_pInvalidateGpuCacheAll</a></div><div class="ttdeci">void Xe_pInvalidateGpuCacheAll(struct XenosDevice *xe, int base, int size)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00742">xe.c:742</a></div></div>
<div class="ttc" id="axe_8c_html_aff5b4cfc880e64493307d7c766bf5bef"><div class="ttname"><a href="xe_8c.html#aff5b4cfc880e64493307d7c766bf5bef">Xe_pDrawNonIndexed</a></div><div class="ttdeci">void Xe_pDrawNonIndexed(struct XenosDevice *xe, int num_points, int primtype)</div><div class="ttdef"><b>Definition:</b> <a href="xe_8c_source.html#l00183">xe.c:183</a></div></div>
<div class="ttc" id="axe_8h_html"><div class="ttname"><a href="xe_8h.html">xe.h</a></div></div>
<div class="ttc" id="axe_8h_html_a0756e76f5e48eeaacf00f2fa135d782c"><div class="ttname"><a href="xe_8h.html#a0756e76f5e48eeaacf00f2fa135d782c">DIRTY_FETCH</a></div><div class="ttdeci">#define DIRTY_FETCH</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00257">xe.h:257</a></div></div>
<div class="ttc" id="axe_8h_html_a0a48d241dcd8f0eb5351317f22266421"><div class="ttname"><a href="xe_8h.html#a0a48d241dcd8f0eb5351317f22266421">XE_PRIMTYPE_LINELIST</a></div><div class="ttdeci">#define XE_PRIMTYPE_LINELIST</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00016">xe.h:16</a></div></div>
<div class="ttc" id="axe_8h_html_a128d9048f0d6f40b1251f1fe71c3b929"><div class="ttname"><a href="xe_8h.html#a128d9048f0d6f40b1251f1fe71c3b929">XE_FMT_MASK</a></div><div class="ttdeci">#define XE_FMT_MASK</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00175">xe.h:175</a></div></div>
<div class="ttc" id="axe_8h_html_a146d755504f561d6f94ea18c1449952c"><div class="ttname"><a href="xe_8h.html#a146d755504f561d6f94ea18c1449952c">SHADER_TYPE_PIXEL</a></div><div class="ttdeci">#define SHADER_TYPE_PIXEL</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00012">xe.h:12</a></div></div>
<div class="ttc" id="axe_8h_html_a176a48a82e0ca35651c06ebfcbfbd258"><div class="ttname"><a href="xe_8h.html#a176a48a82e0ca35651c06ebfcbfbd258">DIRTY_ALU</a></div><div class="ttdeci">#define DIRTY_ALU</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00256">xe.h:256</a></div></div>
<div class="ttc" id="axe_8h_html_a229816b0b83b5505e5721e85a7d14f6d"><div class="ttname"><a href="xe_8h.html#a229816b0b83b5505e5721e85a7d14f6d">XE_FMT_8</a></div><div class="ttdeci">#define XE_FMT_8</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00176">xe.h:176</a></div></div>
<div class="ttc" id="axe_8h_html_a370fd347c43240443cedd0f5d6e45eb1"><div class="ttname"><a href="xe_8h.html#a370fd347c43240443cedd0f5d6e45eb1">XE_FMT_16161616</a></div><div class="ttdeci">#define XE_FMT_16161616</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00180">xe.h:180</a></div></div>
<div class="ttc" id="axe_8h_html_a377d66521866d5a9041041e07b738e73"><div class="ttname"><a href="xe_8h.html#a377d66521866d5a9041041e07b738e73">XE_TEXADDR_WRAP</a></div><div class="ttdeci">#define XE_TEXADDR_WRAP</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00068">xe.h:68</a></div></div>
<div class="ttc" id="axe_8h_html_a42b26572be52480b67b51100cb2476cb"><div class="ttname"><a href="xe_8h.html#a42b26572be52480b67b51100cb2476cb">XE_PRIMTYPE_TRIANGLESTRIP</a></div><div class="ttdeci">#define XE_PRIMTYPE_TRIANGLESTRIP</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00020">xe.h:20</a></div></div>
<div class="ttc" id="axe_8h_html_a42d344faebddae541f11ffcb1e38ccb3"><div class="ttname"><a href="xe_8h.html#a42d344faebddae541f11ffcb1e38ccb3">XE_FMT_5551</a></div><div class="ttdeci">#define XE_FMT_5551</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00178">xe.h:178</a></div></div>
<div class="ttc" id="axe_8h_html_a5f445029dc609093e5cf4bb5f9d275f6"><div class="ttname"><a href="xe_8h.html#a5f445029dc609093e5cf4bb5f9d275f6">XE_PRIMTYPE_TRIANGLEFAN</a></div><div class="ttdeci">#define XE_PRIMTYPE_TRIANGLEFAN</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00019">xe.h:19</a></div></div>
<div class="ttc" id="axe_8h_html_a687e18bc3f86819f117b95fb3994f754"><div class="ttname"><a href="xe_8h.html#a687e18bc3f86819f117b95fb3994f754">XE_PRIMTYPE_POINTLIST</a></div><div class="ttdeci">#define XE_PRIMTYPE_POINTLIST</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00015">xe.h:15</a></div></div>
<div class="ttc" id="axe_8h_html_a6ab8ef6c4815e9e903985d5580af3bbe"><div class="ttname"><a href="xe_8h.html#a6ab8ef6c4815e9e903985d5580af3bbe">DIRTY_INTEGER</a></div><div class="ttdeci">#define DIRTY_INTEGER</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00259">xe.h:259</a></div></div>
<div class="ttc" id="axe_8h_html_a6e287cf56bd3a98c2ee69dd391050ac8"><div class="ttname"><a href="xe_8h.html#a6e287cf56bd3a98c2ee69dd391050ac8">XE_FMT_565</a></div><div class="ttdeci">#define XE_FMT_565</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00179">xe.h:179</a></div></div>
<div class="ttc" id="axe_8h_html_a7f08bd9f91a5eac4b2078a4739456f8d"><div class="ttname"><a href="xe_8h.html#a7f08bd9f91a5eac4b2078a4739456f8d">XE_PRIMTYPE_TRIANGLELIST</a></div><div class="ttdeci">#define XE_PRIMTYPE_TRIANGLELIST</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00018">xe.h:18</a></div></div>
<div class="ttc" id="axe_8h_html_a7fb955e4288bb1dd2824047a3e286ffc"><div class="ttname"><a href="xe_8h.html#a7fb955e4288bb1dd2824047a3e286ffc">DIRTY_CLIP</a></div><div class="ttdeci">#define DIRTY_CLIP</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00258">xe.h:258</a></div></div>
<div class="ttc" id="axe_8h_html_a84904226a84982b683288b05a8312a98"><div class="ttname"><a href="xe_8h.html#a84904226a84982b683288b05a8312a98">XE_PRIMTYPE_LINESTRIP</a></div><div class="ttdeci">#define XE_PRIMTYPE_LINESTRIP</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00017">xe.h:17</a></div></div>
<div class="ttc" id="axe_8h_html_a8bf333d48f02a026323577f9ac8c6659"><div class="ttname"><a href="xe_8h.html#a8bf333d48f02a026323577f9ac8c6659">XE_PRIMTYPE_QUADLIST</a></div><div class="ttdeci">#define XE_PRIMTYPE_QUADLIST</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00022">xe.h:22</a></div></div>
<div class="ttc" id="axe_8h_html_a992aa365add17c33128a2b3493ba691e"><div class="ttname"><a href="xe_8h.html#a992aa365add17c33128a2b3493ba691e">XE_FMT_8888</a></div><div class="ttdeci">#define XE_FMT_8888</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00177">xe.h:177</a></div></div>
<div class="ttc" id="axe_8h_html_a9fbe85909d60aff0fe439c302a0769a9"><div class="ttname"><a href="xe_8h.html#a9fbe85909d60aff0fe439c302a0769a9">XE_PRIMTYPE_RECTLIST</a></div><div class="ttdeci">#define XE_PRIMTYPE_RECTLIST</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00021">xe.h:21</a></div></div>
<div class="ttc" id="axe_8h_html_aacdce862b19cb86461f29608f6606922"><div class="ttname"><a href="xe_8h.html#aacdce862b19cb86461f29608f6606922">XE_CLEAR_DS</a></div><div class="ttdeci">#define XE_CLEAR_DS</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00312">xe.h:312</a></div></div>
<div class="ttc" id="axe_8h_html_ac0f3ac7d52d3b8935d8238ebf16169fe"><div class="ttname"><a href="xe_8h.html#ac0f3ac7d52d3b8935d8238ebf16169fe">XE_FMT_BGRA</a></div><div class="ttdeci">#define XE_FMT_BGRA</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00182">xe.h:182</a></div></div>
<div class="ttc" id="axe_8h_html_ac1a4c17e2579cb9f9ad091787171f669"><div class="ttname"><a href="xe_8h.html#ac1a4c17e2579cb9f9ad091787171f669">XE_MAX_INDICES_PER_DRAW</a></div><div class="ttdeci">#define XE_MAX_INDICES_PER_DRAW</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00010">xe.h:10</a></div></div>
<div class="ttc" id="axe_8h_html_ac5164ddf2f695d8cabca11081c5d4ef3"><div class="ttname"><a href="xe_8h.html#ac5164ddf2f695d8cabca11081c5d4ef3">SHADER_TYPE_VERTEX</a></div><div class="ttdeci">#define SHADER_TYPE_VERTEX</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00013">xe.h:13</a></div></div>
<div class="ttc" id="axe_8h_html_ac69e7ae14261ab2902f7ad75df42483f"><div class="ttname"><a href="xe_8h.html#ac69e7ae14261ab2902f7ad75df42483f">XE_LOCK_WRITE</a></div><div class="ttdeci">#define XE_LOCK_WRITE</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00394">xe.h:394</a></div></div>
<div class="ttc" id="axe_8h_html_acfa6028938694aefb0d5c77df91a94f4"><div class="ttname"><a href="xe_8h.html#acfa6028938694aefb0d5c77df91a94f4">XE_SOURCE_COLOR</a></div><div class="ttdeci">#define XE_SOURCE_COLOR</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00308">xe.h:308</a></div></div>
<div class="ttc" id="axe_8h_html_acfe64bf68c94b1e8d897ea43b65a871e"><div class="ttname"><a href="xe_8h.html#acfe64bf68c94b1e8d897ea43b65a871e">DIRTY_MISC</a></div><div class="ttdeci">#define DIRTY_MISC</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00262">xe.h:262</a></div></div>
<div class="ttc" id="axe_8h_html_adb312ab6207b86bd6be9c0e3256e7f62"><div class="ttname"><a href="xe_8h.html#adb312ab6207b86bd6be9c0e3256e7f62">XE_CLEAR_COLOR</a></div><div class="ttdeci">#define XE_CLEAR_COLOR</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00311">xe.h:311</a></div></div>
<div class="ttc" id="axe_8h_html_ade14bd9c44d4d575f26db0b2f5ed6332"><div class="ttname"><a href="xe_8h.html#ade14bd9c44d4d575f26db0b2f5ed6332">DIRTY_CONTROL</a></div><div class="ttdeci">#define DIRTY_CONTROL</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00260">xe.h:260</a></div></div>
<div class="ttc" id="axe_8h_html_adf68afc8085d4aeb4c638870f9bae8a4"><div class="ttname"><a href="xe_8h.html#adf68afc8085d4aeb4c638870f9bae8a4">fmt</a></div><div class="ttdeci">void const char * fmt</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00303">xe.h:303</a></div></div>
<div class="ttc" id="axe_8h_html_ae0189dd19eaec750407ca391ce1e7c25"><div class="ttname"><a href="xe_8h.html#ae0189dd19eaec750407ca391ce1e7c25">XE_LOCK_READ</a></div><div class="ttdeci">#define XE_LOCK_READ</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00393">xe.h:393</a></div></div>
<div class="ttc" id="axe_8h_html_ae3991b4b9a5f89e0e414e50c2b6aa688"><div class="ttname"><a href="xe_8h.html#ae3991b4b9a5f89e0e414e50c2b6aa688">XE_SHADER_MAX_INSTANCES</a></div><div class="ttdeci">#define XE_SHADER_MAX_INSTANCES</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00097">xe.h:97</a></div></div>
<div class="ttc" id="axe_8h_html_af0ca0969fef93b739dac5865961fdddd"><div class="ttname"><a href="xe_8h.html#af0ca0969fef93b739dac5865961fdddd">DIRTY_SHADER</a></div><div class="ttdeci">#define DIRTY_SHADER</div><div class="ttdef"><b>Definition:</b> <a href="xe_8h_source.html#l00261">xe.h:261</a></div></div>
<div class="ttc" id="axe__internal_8h_html"><div class="ttname"><a href="xe__internal_8h.html">xe_internal.h</a></div></div>
<div class="ttc" id="axe__internal_8h_html_a0921975a5a6dab8d579660c98186fd49"><div class="ttname"><a href="xe__internal_8h.html#a0921975a5a6dab8d579660c98186fd49">rput32</a></div><div class="ttdeci">#define rput32(d)</div><div class="ttdef"><b>Definition:</b> <a href="xe__internal_8h_source.html#l00014">xe_internal.h:14</a></div></div>
<div class="ttc" id="axe__internal_8h_html_a1e19728236f6a5cb9e756f04b9c9ea58"><div class="ttname"><a href="xe__internal_8h.html#a1e19728236f6a5cb9e756f04b9c9ea58">rput32p</a></div><div class="ttdeci">#define rput32p(d)</div><div class="ttdef"><b>Definition:</b> <a href="xe__internal_8h_source.html#l00016">xe_internal.h:16</a></div></div>
<div class="ttc" id="axe__internal_8h_html_a61fff48d77b790c96f2c779a461bf319"><div class="ttname"><a href="xe__internal_8h.html#a61fff48d77b790c96f2c779a461bf319">rputf</a></div><div class="ttdeci">#define rputf(d)</div><div class="ttdef"><b>Definition:</b> <a href="xe__internal_8h_source.html#l00018">xe_internal.h:18</a></div></div>
<div class="ttc" id="axe__internal_8h_html_ac9e9b63baea5be417b1f4ca1c4767c40"><div class="ttname"><a href="xe__internal_8h.html#ac9e9b63baea5be417b1f4ca1c4767c40">w32</a></div><div class="ttdeci">#define w32(o, v)</div><div class="ttdef"><b>Definition:</b> <a href="xe__internal_8h_source.html#l00021">xe_internal.h:21</a></div></div>
<div class="ttc" id="axe__internal_8h_html_acc8d862fc217838d6a0a32827c9c00d8"><div class="ttname"><a href="xe__internal_8h.html#acc8d862fc217838d6a0a32827c9c00d8">r32</a></div><div class="ttdeci">#define r32(o)</div><div class="ttdef"><b>Definition:</b> <a href="xe__internal_8h_source.html#l00020">xe_internal.h:20</a></div></div>
<div class="ttc" id="axe__internal_8h_html_ad57533e48263a07d92df85d2d6cd65ff"><div class="ttname"><a href="xe__internal_8h.html#ad57533e48263a07d92df85d2d6cd65ff">rput</a></div><div class="ttdeci">#define rput(base, len)</div><div class="ttdef"><b>Definition:</b> <a href="xe__internal_8h_source.html#l00015">xe_internal.h:15</a></div></div>
<div class="ttc" id="axenon__smc_8h_html"><div class="ttname"><a href="xenon__smc_8h.html">xenon_smc.h</a></div></div>
<div class="ttc" id="axenos__edid_8h_html_a34923af2855ec28604554d526eb97c33"><div class="ttname"><a href="xenos__edid_8h.html#a34923af2855ec28604554d526eb97c33">type</a></div><div class="ttdeci">u8 type</div><div class="ttdef"><b>Definition:</b> <a href="xenos__edid_8h_source.html#l00001">xenos_edid.h:1</a></div></div>
<div class="ttc" id="axenos__edid_8h_html_a4576e02e0e790576ed6a80c11ef2e4c0"><div class="ttname"><a href="xenos__edid_8h.html#a4576e02e0e790576ed6a80c11ef2e4c0">c</a></div><div class="ttdeci">u8 c</div><div class="ttdef"><b>Definition:</b> <a href="xenos__edid_8h_source.html#l00007">xenos_edid.h:7</a></div></div>
<div class="ttc" id="axenos__edid_8h_html_a56acf619bc699e8ba21453eb121d5688"><div class="ttname"><a href="xenos__edid_8h.html#a56acf619bc699e8ba21453eb121d5688">data</a></div><div class="ttdeci">union @15 data</div></div>
<div class="ttc" id="axenos__edid_8h_html_a8a71261a266a41e4450a2f006404ea8a"><div class="ttname"><a href="xenos__edid_8h.html#a8a71261a266a41e4450a2f006404ea8a">j</a></div><div class="ttdeci">u8 j</div><div class="ttdef"><b>Definition:</b> <a href="xenos__edid_8h_source.html#l00010">xenos_edid.h:10</a></div></div>
<div class="ttc" id="axenos__edid_8h_html_a8aa7771eaf05faa701ecda0be2545250"><div class="ttname"><a href="xenos__edid_8h.html#a8aa7771eaf05faa701ecda0be2545250">m</a></div><div class="ttdeci">__le16 m</div><div class="ttdef"><b>Definition:</b> <a href="xenos__edid_8h_source.html#l00008">xenos_edid.h:8</a></div></div>
<div class="ttc" id="axetypes_8h_html_ace9d960e74685e2cd84b36132dbbf8aa"><div class="ttname"><a href="xetypes_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a></div><div class="ttdeci">uint16_t u16</div><div class="ttdoc">16bit unsigned integer</div><div class="ttdef"><b>Definition:</b> <a href="xetypes_8h_source.html#l00013">xetypes.h:13</a></div></div>
<div class="ttc" id="axetypes_8h_html_afaa62991928fb9fb18ff0db62a040aba"><div class="ttname"><a href="xetypes_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a></div><div class="ttdeci">uint32_t u32</div><div class="ttdoc">32bit unsigned integer</div><div class="ttdef"><b>Definition:</b> <a href="xetypes_8h_source.html#l00014">xetypes.h:14</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
